import{p as I,F as W,r as s,j as e,o as Z,m as r,N as F,w as p,D as N,a5 as q,v as z,L as G,B as w,A as J,C as X,a6 as h,h as Y}from"./index-DrzvgQSx.js";import{L as k}from"./label-D6nqg-AK.js";import{C as S,d as A,a as ee,b as te,c as ae,e as se}from"./card-CSdj4VlM.js";import{C as re}from"./checkbox-De1iamg3.js";import{S as ie}from"./separator-DpYAwveS.js";import{D as U}from"./database-D31dvwBo.js";import{S as B}from"./server-CQyRLyxz.js";import{A as ne}from"./activity-DJVKk8hN.js";import{F as oe}from"./fingerprint-DTiD5Nld.js";import{C}from"./circle-alert-D5MbGcH3.js";import{L as de}from"./lock-DWWiw9OW.js";import{E as le}from"./eye-off-MxEi3Of0.js";import{E as ce}from"./eye-DtInb1xn.js";import{L as me}from"./loader-circle-oXQTLidO.js";import{S as xe}from"./smartphone-DwZ_sJ1F.js";import"./index-DDpYfoMH.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=I("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=I("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=I("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),De=()=>{const g=W(),[l,H]=s.useState(""),[f,O]=s.useState(""),[y,$]=s.useState(!1),[M,L]=s.useState(!1),[T,K]=s.useState(!1),[u,o]=s.useState(""),[V,_]=s.useState(!1),[c,j]=s.useState(0),[m,D]=s.useState(null);s.useEffect(()=>{sessionStorage.removeItem("jwt"),sessionStorage.removeItem("email"),sessionStorage.removeItem("admin_remember");const a=localStorage.getItem("admin_lock_until");if(a){const x=new Date(a);x>new Date?D(x):(localStorage.removeItem("admin_lock_until"),localStorage.removeItem("failed_attempts"))}const n=localStorage.getItem("failed_attempts");n&&j(parseInt(n))},[]);const Q=async a=>{var n,x,E,P,R;if(a.preventDefault(),m&&m>new Date){const d=Math.ceil((m.getTime()-new Date().getTime())/6e4);h.error(`Account temporarily locked. Try again in ${d} minute${d>1?"s":""}`);return}if(!l.trim()||!f.trim()){o("Please enter email and password");return}if(!l.includes("@")||!l.includes(".")){o("Please enter a valid email address");return}L(!0),o("");try{const t=(await Y.post("/sign-in/",{email:l,password:f})).data;if((t==null?void 0:t.error)===!1&&(t!=null&&t.data)){if(!((n=t==null?void 0:t.code)==null?void 0:n.jwt)){h.error("Authentication token missing");return}localStorage.removeItem("failed_attempts"),localStorage.removeItem("admin_lock_until"),j(0),h.success("Admin authentication successful"),T?sessionStorage.setItem("admin_remember","true"):sessionStorage.removeItem("admin_remember"),sessionStorage.setItem("jwt",String(((x=t==null?void 0:t.code)==null?void 0:x.jwt)??"")),sessionStorage.setItem("email",String(((E=t==null?void 0:t.code)==null?void 0:E.email)??l.trim())),sessionStorage.setItem("is_admin","true"),setTimeout(()=>s.startTransition(()=>g("/verify-admin-otp")),1500);return}const b=c+1;if(j(b),localStorage.setItem("failed_attempts",b.toString()),b>=3){const v=new Date(Date.now()+9e5);D(v),localStorage.setItem("admin_lock_until",v.toISOString()),h.error("Too many failed attempts. Account locked for 15 minutes.")}o((t==null?void 0:t.data)||"Invalid admin credentials"),h.error((t==null?void 0:t.data)||"Invalid admin credentials")}catch(d){const t=((R=(P=d==null?void 0:d.response)==null?void 0:P.data)==null?void 0:R.message)||"Connection error. Please try again.";o(t),h.error(t)}finally{L(!1)}},i=(()=>{if(!m)return null;const a=new Date;if(m<=a)return null;const n=m.getTime()-a.getTime();return Math.ceil(n/6e4)})();return e.jsx(Z,{children:e.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background via-background to-primary/5",children:[e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(6)].map((a,n)=>e.jsx(r.div,{className:"absolute rounded-full bg-gradient-to-r from-primary/10 to-accent/10",style:{width:Math.random()*100+50,height:Math.random()*100+50,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],x:[0,Math.random()*20-10,0]},transition:{duration:Math.random()*10+10,repeat:1/0,ease:"easeInOut"}},n))}),e.jsxs(r.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-4xl grid md:grid-cols-2 gap-8 items-center",children:[e.jsx(r.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.2,duration:.6},className:"hidden md:block",children:e.jsx(S,{className:"bg-gradient-to-br from-card to-card/50 border-primary/20 shadow-2xl backdrop-blur-sm rounded-3xl overflow-hidden",children:e.jsx(A,{className:"p-10",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-primary to-accent rounded-2xl",children:e.jsx(he,{className:"h-8 w-8 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-display text-3xl font-bold",children:"Doonneys Beauty Admin"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enterprise Management Portal"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:e.jsx(U,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-lg mb-1",children:"Dashboard Analytics"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time sales data and business insights"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:e.jsx(pe,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-lg mb-1",children:"User Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete control over user accounts and permissions"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:e.jsx(B,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-lg mb-1",children:"Inventory Control"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage stock levels and product catalogs"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:e.jsx(ne,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-lg mb-1",children:"Order Processing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Process and track customer orders efficiently"})]})]})]}),e.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-primary/5 to-accent/5 rounded-2xl border border-primary/10",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(F,{className:"h-5 w-5 text-primary mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Enhanced Security"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This portal uses advanced encryption and requires multi-factor authentication for all administrative actions."})]})]})})]})})})}),e.jsxs(r.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},className:"relative",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:[e.jsx("div",{className:p("absolute -inset-4 bg-gradient-to-r from-primary/20 via-accent/20 to-transparent rounded-3xl blur-xl transition-opacity duration-500",V?"opacity-70":"opacity-30")}),e.jsxs(S,{className:"relative bg-gradient-to-b from-card/90 to-card/50 backdrop-blur-sm border-border/50 shadow-2xl rounded-3xl overflow-hidden",children:[e.jsxs(ee,{className:"text-center pb-6",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.4},className:"mx-auto mb-4",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-primary to-accent rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(oe,{className:"h-10 w-10 text-primary-foreground"})})}),e.jsx(te,{className:"font-display text-3xl md:text-4xl",children:"Admin Portal"}),e.jsx(ae,{className:"text-lg",children:"Secure access to management dashboard"})]}),e.jsxs(A,{className:"pb-6",children:[e.jsx(N,{children:i&&e.jsx(r.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"h-5 w-5 text-destructive flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-destructive mb-1",children:"Account Temporarily Locked"}),e.jsxs("p",{className:"text-sm text-destructive/80",children:["Too many failed attempts. Try again in ",i," minute",i>1?"s":"","."]})]})]})})}),c>0&&!i&&e.jsx("div",{className:"mb-6 p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"h-5 w-5 text-amber-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-amber-700 mb-1",children:"Security Warning"}),e.jsxs("p",{className:"text-sm text-amber-600/80",children:[c," failed attempt",c>1?"s":"",". ",3-c," attempt",3-c!==1?"s":""," remaining before lock."]})]})]})}),e.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(k,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Admin Email Address"]}),e.jsxs("div",{className:"relative group",children:[e.jsx(z,{type:"email",placeholder:"admin@doonneysbeauty.com",className:p("pl-12 h-14 text-base rounded-xl border-2 bg-background/50","transition-all duration-300","focus:border-primary focus:ring-2 focus:ring-primary/20","group-hover:border-primary/50",u&&"border-destructive focus:border-destructive"),value:l,onChange:a=>{H(a.target.value),o("")},required:!0,disabled:!!i}),e.jsx(q,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground transition-colors duration-300 group-hover:text-primary"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(k,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Admin Password"]}),e.jsxs("div",{className:"relative group",children:[e.jsx(z,{type:y?"text":"password",placeholder:"••••••••••",className:p("pl-12 pr-12 h-14 text-base rounded-xl border-2 bg-background/50","transition-all duration-300","focus:border-primary focus:ring-2 focus:ring-primary/20","group-hover:border-primary/50",u&&"border-destructive focus:border-destructive"),value:f,onChange:a=>{O(a.target.value),o("")},required:!0,disabled:!!i}),e.jsx(de,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground transition-colors duration-300 group-hover:text-primary"}),e.jsx("button",{type:"button",onClick:()=>$(!y),className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 hover:bg-muted rounded-lg transition-colors disabled:opacity-50",disabled:!!i,children:y?e.jsx(le,{className:"h-5 w-5 text-muted-foreground"}):e.jsx(ce,{className:"h-5 w-5 text-muted-foreground"})})]})]}),e.jsx(N,{children:u&&e.jsxs(r.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-3 p-4 bg-destructive/10 border border-destructive/20 rounded-xl",children:[e.jsx(C,{className:"h-5 w-5 text-destructive flex-shrink-0"}),e.jsx("span",{className:"text-sm text-destructive",children:u})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{id:"remember",checked:T,onCheckedChange:a=>K(a),className:"border-2 data-[state=checked]:bg-primary data-[state=checked]:border-primary",disabled:!!i}),e.jsx(k,{htmlFor:"remember",className:"text-sm font-medium cursor-pointer",children:"Remember this device"})]}),e.jsx(G,{to:"/forgot-password",className:"text-sm font-medium text-primary hover:text-primary/80 transition-colors hover:underline",children:"Forgot password?"})]}),e.jsx(w,{type:"submit",disabled:M||!!i,className:p("w-full h-14 text-base font-medium rounded-xl","bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90","shadow-lg hover:shadow-xl transition-all duration-300","disabled:opacity-50 disabled:cursor-not-allowed","group"),children:e.jsx(N,{mode:"wait",children:M?e.jsxs(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-3",children:[e.jsx(me,{className:"h-5 w-5 animate-spin"}),"Authenticating..."]},"loading"):e.jsxs(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-3",children:["Access Admin Dashboard",e.jsx(J,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]},"default")})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(ie,{className:"w-full"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-3 text-muted-foreground",children:"Quick Access"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(w,{type:"button",variant:"outline",className:"h-12 rounded-xl border-border/50 hover:border-primary/30",onClick:()=>g("/login"),children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Customer Login"]}),e.jsxs(w,{type:"button",variant:"outline",className:"h-12 rounded-xl border-border/50 hover:border-primary/30",onClick:()=>g("/contact"),children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Contact Support"]})]})]})]}),e.jsx(se,{className:"border-t border-border/50 pt-6",children:e.jsxs("div",{className:"w-full text-center text-sm",children:[e.jsx("p",{className:"text-muted-foreground",children:e.jsx("span",{className:"font-medium",children:"Authorized Access Only"})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"All activities are logged and monitored for security purposes. Unauthorized access is prohibited."})]})})]})]})]}),e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"md:hidden mt-8 w-full max-w-md",children:e.jsx(S,{className:"bg-gradient-to-br from-primary/5 to-accent/5 border-primary/20 rounded-2xl",children:e.jsx(A,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(U,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm",children:"Analytics"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Real-time data"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(B,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm",children:"Inventory"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Stock control"})]})]})]})})})}),e.jsx(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-card/80 backdrop-blur-sm rounded-full border border-border/50 shadow-lg",children:[e.jsx(F,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Enterprise-grade Security"})]})})]})})};export{De as default};
