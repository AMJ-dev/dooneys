import{F as E,r as i,j as e,o as M,m as a,N as k,w as p,D as u,a5 as h,B as o,v as R,C as P,f as D,h as A,a6 as f}from"./index-DrzvgQSx.js";import{L as F}from"./label-D6nqg-AK.js";import{C as T,a as z,b as B,c as I,d as H,e as $}from"./card-CSdj4VlM.js";import{S as q}from"./separator-DpYAwveS.js";import{L as C}from"./lock-DWWiw9OW.js";import{C as Y}from"./circle-check-big-Cc93Cm_Q.js";import{R as G}from"./refresh-cw-B2nHbzn8.js";import{C as O}from"./circle-alert-D5MbGcH3.js";import{L as Q}from"./loader-circle-oXQTLidO.js";import{S as W}from"./send-BucjhiYy.js";import{S as _}from"./smartphone-DwZ_sJ1F.js";const ie=()=>{const c=E(),[t,y]=i.useState(""),[g,m]=i.useState(!1),[b,j]=i.useState(!1),[x,r]=i.useState(""),[S,v]=i.useState(!1),N=async n=>{var l,w;if(n.preventDefault(),!t.trim()){r("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){r("Please enter a valid email address");return}j(!0),r("");try{const s=(await A.post("/reset-password/",{email:t,where:"send-link"})).data;if(s.error===!1&&s.data){f.success(s.data),m(!0);return}r(s.data||"Failed to send reset link"),f.error(s.data)}catch(d){const s=((w=(l=d==null?void 0:d.response)==null?void 0:l.data)==null?void 0:w.message)||"Something went wrong. Please try again.";r(s),f.error(s)}finally{j(!1)}},L=()=>{m(!1),y(""),r("")};return e.jsx(M,{children:e.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-background via-background to-primary/5",children:[e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(6)].map((n,l)=>e.jsx(a.div,{className:"absolute rounded-full bg-gradient-to-r from-primary/10 to-accent/10",style:{width:Math.random()*100+50,height:Math.random()*100+50,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],x:[0,Math.random()*20-10,0]},transition:{duration:Math.random()*10+10,repeat:1/0,ease:"easeInOut"}},l))}),e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:[e.jsx(a.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center justify-center gap-2 mb-6",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary/10 to-accent/10 backdrop-blur-sm rounded-full border border-primary/20",children:[e.jsx(k,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Secure Password Reset"})]})}),e.jsxs(T,{className:"relative bg-gradient-to-b from-card/90 to-card/50 backdrop-blur-sm border-border/50 shadow-2xl rounded-3xl overflow-hidden",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[e.jsx("div",{className:p("absolute -inset-4 bg-gradient-to-r from-primary/20 via-accent/20 to-transparent rounded-3xl blur-xl transition-opacity duration-500",S?"opacity-70":"opacity-30")}),e.jsxs(z,{className:"text-center pb-6 relative z-10",children:[e.jsx(a.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.3},className:"mx-auto mb-4",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-primary to-accent rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(C,{className:"h-10 w-10 text-primary-foreground"})})}),e.jsx(B,{className:"font-display text-3xl md:text-4xl mb-2",children:"Reset Your Password"}),e.jsx(I,{className:"text-lg",children:g?"Check your email for next steps":"Enter your email to receive a reset link"})]}),e.jsx(H,{className:"pb-6 relative z-10",children:e.jsx(u,{mode:"wait",children:g?e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"text-center py-4",children:[e.jsx(a.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"w-24 h-24 bg-gradient-to-br from-green-100 to-green-50 rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-green-200",children:e.jsx(Y,{className:"w-12 h-12 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-foreground mb-3",children:"Check Your Email"}),e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-primary/5 to-accent/5 rounded-2xl border border-primary/20",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsx(h,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"font-medium",children:"Email Sent To:"})]}),e.jsx("p",{className:"text-lg font-semibold text-primary break-all",children:t})]}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"We've sent a password reset link to your email address. The link will expire in 15 minutes for security."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(o,{variant:"outline",onClick:L,className:"w-full h-12 gap-3 border-primary/30 hover:border-primary hover:bg-primary/5",children:[e.jsx(G,{className:"h-5 w-5"}),"Try Different Email"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Didn't receive the email?"," ",e.jsx("button",{onClick:()=>{m(!1),setTimeout(()=>{N({preventDefault:()=>{}})},100)},className:"text-primary font-medium hover:underline",children:"Resend"})]})]})]},"success"):e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:[e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(F,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(h,{className:"h-4 w-4"}),"Email Address"]}),e.jsxs("div",{className:"relative group",children:[e.jsx(R,{type:"email",placeholder:"you@example.com",className:p("pl-12 h-14 text-base rounded-xl border-2 bg-background/50","transition-all duration-300","focus:border-primary focus:ring-2 focus:ring-primary/20","group-hover:border-primary/50",x&&"border-destructive focus:border-destructive"),value:t,onChange:n=>{y(n.target.value),r("")},required:!0}),e.jsx(h,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground transition-colors duration-300 group-hover:text-primary"})]}),e.jsx(u,{children:x&&e.jsxs(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-start gap-2 px-4 py-3 bg-destructive/10 border border-destructive/20 rounded-xl",children:[e.jsx(O,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm text-destructive",children:x})]})})]}),e.jsx(o,{type:"submit",disabled:b,className:p("w-full h-14 text-base font-medium rounded-xl","bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90","shadow-lg hover:shadow-xl transition-all duration-300","disabled:opacity-50 disabled:cursor-not-allowed","group"),children:e.jsx(u,{mode:"wait",children:b?e.jsxs(a.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-3",children:[e.jsx(Q,{className:"h-5 w-5 animate-spin"}),"Sending Reset Link..."]},"loading"):e.jsxs(a.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-3",children:["Send Reset Link",e.jsx(W,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]},"default")})})]}),e.jsx(q,{className:"my-6"}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-muted/20 to-muted/10 rounded-2xl border border-border/50",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-primary"}),"Security Guidelines"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-1.5 flex-shrink-0"}),e.jsx("span",{children:"Reset links expire in 15 minutes"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-1.5 flex-shrink-0"}),e.jsx("span",{children:"Check your spam folder if you don't see the email"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary mt=1.5 flex-shrink-0"}),e.jsx("span",{children:"Never share your password or reset links"})]})]})]})]},"form")})}),e.jsx($,{className:"border-t border-border/50 pt-6 relative z-10",children:e.jsxs("div",{className:"w-full text-center",children:[e.jsxs(o,{variant:"ghost",size:"sm",onClick:()=>c("/login"),className:"gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(P,{className:"h-4 w-4"}),"Back to Login"]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:["Need immediate assistance?"," ",e.jsx("a",{href:"mailto:support@doonneysbeauty.com",className:"text-primary hover:underline font-medium",children:"Contact Support"})]})]})})]}),e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsxs(o,{variant:"outline",className:"gap-2 border-border/50 hover:border-primary/30",onClick:()=>c("/contact"),children:[e.jsx(_,{className:"h-4 w-4"}),"Contact Support"]}),e.jsxs(o,{variant:"outline",className:"gap-2 border-border/50 hover:border-primary/30",onClick:()=>c("/faq"),children:[e.jsx(D,{className:"h-4 w-4"}),"FAQ"]})]}),e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-6 flex items-center justify-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-card/80 backdrop-blur-sm rounded-full border border-border/50 shadow-lg",children:[e.jsx(C,{className:"h-3 w-3 text-primary"}),e.jsx("span",{className:"text-xs font-medium",children:"256-bit SSL â€¢ Encrypted Connection"})]})})]})]})})};export{ie as default};
