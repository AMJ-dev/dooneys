import{p as rs,F as ps,E as us,aN as js,r as d,j as e,m as n,N as z,B as o,J as p,w as k,y as Oe,aC as oe,aD as de,aE as ce,a2 as qe,aF as ne,f as bs,D as Je,aG as M,aI as R,u as $,v as I,a as gs,at as fs,au as Ns,av as vs,aw as ys,ax as ws,ay as Ss,h as E,a6 as m,aJ as ks,S as Cs,P as As,be as Ds,T as Ts,ar as _s}from"./index-DrzvgQSx.js";import{L as J}from"./label-D6nqg-AK.js";import{C as x,d as h,a as me,b as xe,c as he,e as Ms}from"./card-CSdj4VlM.js";import{P as pe}from"./progress-DNf4bHVP.js";import{S as Rs,a as Ps,b as Ls,c as Fs,d as ue}from"./select-CeCrIOLN.js";import{D as Q,e as K,a as X,b as Z,c as G,d as W}from"./dialog-B_H0D0bM.js";import{A as je,a as Qe,b as be,c as ge,d as fe,e as Ne,f as ve,g as ye,h as we}from"./alert-dialog-DhLhMJxG.js";import{T as Ke,a as Xe,b as Se,c as v,d as Ze,e as y}from"./table-kDEzH9s1.js";import{T as Us,a as zs,b as ke,c as Ce}from"./tabs-kkrfGa6s.js";import{S as Y}from"./skeleton-BqmPmUai.js";import{S as B,E as $s}from"./scroll-area-jzmQJ8gH.js";import{A as Ge}from"./arrow-left-4JsjAwAx.js";import{S as We}from"./square-pen-BAbl0GsK.js";import{T as Is}from"./trash-2-DF_8SWob.js";import{T as Ye}from"./triangle-alert-BegDlvxd.js";import{C as Ae}from"./circle-check-big-Cc93Cm_Q.js";import{C as De}from"./circle-x-DMFlKDxD.js";import{U as b}from"./users-BACZCDYD.js";import{K as es}from"./key-DLVskWgd.js";import{C as Es}from"./clock-B9_Mht4K.js";import{C as Bs}from"./calendar-Bh2qMya8.js";import{E as Vs}from"./eye-DtInb1xn.js";import{E as Hs}from"./eye-off-MxEi3Of0.js";import{T as Os}from"./trending-up-BqcXVX7P.js";import{U as u}from"./user-plus-BL4YVw3o.js";import{L as V}from"./loader-circle-oXQTLidO.js";import{Z as ss}from"./zap-BFNduXU6.js";import{R as qs}from"./refresh-cw-B2nHbzn8.js";import{F as Js}from"./folder-CcLGYOr-.js";import{M as Qs}from"./message-square-C4hcG7P3.js";import{C as Ks}from"./credit-card-B1BYDSKm.js";import{T as Xs}from"./truck-Bjx6mnMk.js";import{L as Zs}from"./lock-DWWiw9OW.js";import{U as Gs}from"./user-check-B5JIGFEE.js";import{U as Ws}from"./user-x-CMsmebXw.js";import"./index-BdQq_4o_.js";import"./index-DDpYfoMH.js";import"./chevron-up-DEDQgLDp.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=rs("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=rs("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ir=()=>{var Be,Ve;const f=ps(),{id:w}=us(),{add_role:er,delete_role:_e,edit_role:Me,view_roles:as,assign_users:P,remove_user_access:L}=js(["add_role","delete_role","edit_role","view_roles","assign_users","remove_user_access"]),[l,Re]=d.useState(null),[c,F]=d.useState([]),[C,ee]=d.useState(""),[A,se]=d.useState("all"),[S,U]=d.useState(""),[D,re]=d.useState(null),[ts,Pe]=d.useState(!0),[Le,ls]=d.useState([]),[T,is]=d.useState([]),[Fe,Ue]=d.useState("overview"),[ae,ze]=d.useState("grid"),[H,$e]=d.useState(!1),[os,Ie]=d.useState(!1);d.useEffect(()=>{if(!as){d.startTransition(()=>f("/unauthorized"));return}w&&(async()=>{try{Pe(!0);const t=(await E.get(`/get-permissions-details/${w}/`)).data;if(!t.error&&t.data){if(t.data.permissions&&is(t.data.permissions),t.data.access_levels){const i=t.data.access_levels.find(g=>g.id===w);i?(Re(i),F(i.assignedStaff||[])):(m.error("Access level not found"),f("/admin/access-control"))}else t.data.id&&(Re(t.data),F(t.data.assignedStaff||[]));t.data.staffs&&ls(t.data.staffs)}else m.error(t.data||"Failed to load data")}catch(r){console.error("Error fetching data:",r),m.error("Failed to load data")}finally{Pe(!1)}})()},[w,f]);const te=d.useMemo(()=>[...new Set(T.map(s=>s.category))],[T]),a=d.useMemo(()=>{if(!l)return null;const s=T.length,r=l.permissions.length,t=s>0?r/s*100:0,i=te.map(j=>{const _=T.filter(ie=>ie.category===j),He=_.filter(ie=>l.permissions.includes(ie.code)).length,hs=_.length>0?He/_.length*100:0;return{name:j,total:_.length,selected:He,percentage:hs}}),g=c.filter(j=>j.status==="active"||j.status==="1").length,ms=c.filter(j=>j.status!=="active"&&j.status!=="1").length,xs=[...c].sort((j,_)=>new Date(_.join_date).getTime()-new Date(j.join_date).getTime()).slice(0,3);return{totalPermissions:s,selectedCount:r,coveragePercentage:t,categoryStats:i,assignedStaffCount:c.length,activeStaff:g,inactiveStaff:ms,recentlyAdded:xs}},[l,c,T,te]),le=d.useMemo(()=>c.filter(s=>{const r=s.name.toLowerCase().includes(C.toLowerCase())||s.email.toLowerCase().includes(C.toLowerCase()),t=A==="all"||(A==="active"?s.status==="active"||s.status==="1":s.status!=="active"&&s.status!=="1");return r&&t}),[c,C,A]),N=d.useMemo(()=>{const s=new Set(c.map(r=>r.id));return Le.filter(r=>!s.has(r.id)).filter(r=>r.name.toLowerCase().includes(S.toLowerCase())||r.email.toLowerCase().includes(S.toLowerCase()))},[c,Le,S]),O=async s=>{if(P)try{$e(!0);const t=(await E.post("/assign-staff-access/",{access_level_id:l==null?void 0:l.id,staff_id:s.id})).data;if(!t.error&&t.data){F(i=>[...i,s]),U(""),m.success(`${s.name} has been assigned to this role`);return}m.error(t.data||"Failed to assign user")}catch{m.error("Failed to assign user")}finally{$e(!1)}},ds=async s=>{if(L)try{Ie(!0);const t=(await E.post("/remove-staff-access/",{access_level_id:l==null?void 0:l.id,staff_id:s.id})).data;if(!t.error&&t.data){m.success(`${s.name} has been removed from this role`),F(i=>i.filter(g=>g.id!==s.id)),re(null);return}m.error(t.data||"Failed to remove user")}catch{m.error("Failed to remove user")}finally{Ie(!1)}},cs=async()=>{if(L)try{const r=(await E.post("/remove-all-staff-access/",{access_level_id:l==null?void 0:l.id})).data;if(!r.error&&r.data){F([]),m.success("All staff members have been removed from this role");return}m.error(r.data||"Failed to remove users")}catch{m.error("Failed to remove users")}},ns=async()=>{if(_e)try{const r=(await E.post("/delete-role/",{access_level_id:w})).data;if(!r.error&&r.data){f("/admin/access-control"),m.success("Role deleted successfully");return}m.error(r.data||"Failed to delete role")}catch{m.error("Failed to delete role")}},q=s=>({Shield:z,Users:b,BarChart3:ks,ShoppingBag:Cs,Package:As,Settings:Ds,Tag:Ts,Folder:Js,MessageSquare:Qs,Bell:_s,CreditCard:Ks,Truck:Xs,Star:Oe,Zap:ss,Lock:Zs,Unlock:Ys,UserCheck:Gs,UserX:Ws})[s]||z,Ee=s=>s==="active"||s==="1"?"bg-gradient-to-r from-emerald-500/20 to-emerald-600/20 text-emerald-700 border-emerald-200/50":"bg-gradient-to-r from-rose-500/20 to-rose-600/20 text-rose-700 border-rose-200/50";return ts?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Y,{className:"h-10 w-64"}),e.jsx(Y,{className:"h-10 w-32"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((s,r)=>e.jsx(x,{className:"border-0 bg-gradient-to-br from-card/50 to-card/30 backdrop-blur-sm",children:e.jsx(h,{className:"p-6",children:e.jsx(Y,{className:"h-24 w-full"})})},r))}),e.jsx(x,{children:e.jsx(h,{className:"p-6",children:e.jsx(Y,{className:"h-64 w-full"})})})]}):l?e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/10 to-accent/5 p-6 border border-border/50 shadow-soft",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>f("/admin/access-control"),className:"hover:bg-background/50 backdrop-blur-sm border border-border/50 shadow-sm",children:e.jsx(Ge,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-primary to-accent shadow-md",children:e.jsx(z,{className:"h-6 w-6 text-white"})}),e.jsx("h1",{className:"font-display text-2xl md:text-3xl bg-clip-text text-transparent bg-gradient-to-r from-foreground to-foreground/80",children:l.name}),e.jsx(p,{variant:"outline",className:k("border-primary/30 bg-primary/10 text-primary shadow-sm",l.id==="admin"&&"border-amber-300/30 bg-amber-500/10 text-amber-600"),children:l.id==="admin"?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-3 w-3 mr-1"}),"Administrator"]}):"Custom Role"})]}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:l.description})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[Me&&e.jsx(oe,{children:e.jsxs(de,{children:[e.jsx(ce,{asChild:!0,children:e.jsxs(o,{variant:"outline",onClick:()=>f(`/admin/access-control/${w}/${qe(l.name)}`),className:"gap-2 hover:bg-background border-border/50 backdrop-blur-sm shadow-sm",children:[e.jsx(We,{className:"h-4 w-4"}),"Edit Permissions"]})}),e.jsx(ne,{children:e.jsx("p",{children:"Edit role permissions"})})]})}),_e&&e.jsxs(je,{children:[e.jsx(oe,{children:e.jsxs(de,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(Qe,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"gap-2 border-rose-200/50 text-rose-600 hover:bg-rose-50 hover:text-rose-700 backdrop-blur-sm shadow-sm",children:[e.jsx(Is,{className:"h-4 w-4"}),"Delete Role"]})})}),e.jsx(ne,{children:e.jsx("p",{children:"Delete this role permanently"})})]})}),e.jsxs(be,{className:"border-border/50 backdrop-blur-lg shadow-elevated",children:[e.jsxs(ge,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5 text-rose-500"}),"Delete Role Confirmation"]}),e.jsxs(Ne,{className:"space-y-3",children:[e.jsxs("p",{children:["Are you sure you want to delete ",e.jsx("span",{className:"font-semibold text-foreground",children:l.name}),"?"]}),e.jsx("div",{className:"p-3 rounded-lg bg-rose-50/50 border border-rose-200",children:e.jsxs("p",{className:"text-sm text-rose-700",children:["⚠️ This action cannot be undone. All ",c.length," staff members will lose this role."]})})]})]}),e.jsxs(ve,{children:[e.jsx(ye,{className:"border-border/50",children:"Cancel"}),e.jsx(we,{onClick:ns,className:"bg-gradient-to-r from-rose-600 to-rose-500 hover:from-rose-700 hover:to-rose-600 shadow-sm",children:"Delete Role"})]})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(x,{className:"border-0 bg-gradient-to-br from-blue-50/50 to-blue-100/30 dark:from-blue-950/20 dark:to-blue-900/10 backdrop-blur-sm overflow-hidden group hover:shadow-card-hover transition-all duration-300 shadow-card",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-200/10 rounded-full -translate-y-16 translate-x-16 group-hover:scale-125 transition-transform duration-300"}),e.jsxs(h,{className:"p-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-1",children:"Assigned Staff"}),e.jsx("h3",{className:"text-3xl font-bold mb-2",children:(a==null?void 0:a.assignedStaffCount)||0}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs(p,{className:"bg-emerald-500/20 text-emerald-700 border-emerald-200/50 px-2 py-0.5 text-xs",children:[e.jsx(Ae,{className:"h-3 w-3 mr-1"}),(a==null?void 0:a.activeStaff)||0," active"]}),e.jsxs(p,{className:"bg-rose-500/20 text-rose-700 border-rose-200/50 px-2 py-0.5 text-xs",children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),(a==null?void 0:a.inactiveStaff)||0," inactive"]})]})]}),e.jsx("div",{className:"p-3 rounded-full bg-blue-100/50 dark:bg-blue-900/30 shadow-sm",children:e.jsx(b,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]}),e.jsx(pe,{value:a!=null&&a.assignedStaffCount?a.activeStaff/a.assignedStaffCount*100:0,className:"h-2 mt-4 bg-blue-200/50 dark:bg-blue-900/30"})]})]})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(x,{className:"border-0 bg-gradient-to-br from-emerald-50/50 to-emerald-100/30 dark:from-emerald-950/20 dark:to-emerald-900/10 backdrop-blur-sm overflow-hidden group hover:shadow-card-hover transition-all duration-300 shadow-card",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-200/10 rounded-full -translate-y-16 translate-x-16 group-hover:scale-125 transition-transform duration-300"}),e.jsxs(h,{className:"p-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-emerald-700 dark:text-emerald-400 mb-1",children:"Permissions"}),e.jsx("h3",{className:"text-3xl font-bold mb-2",children:(a==null?void 0:a.selectedCount)||0}),e.jsxs("p",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:[(Be=a==null?void 0:a.coveragePercentage)==null?void 0:Be.toFixed(1),"% coverage"]})]}),e.jsx("div",{className:"p-3 rounded-full bg-emerald-100/50 dark:bg-emerald-900/30 shadow-sm",children:e.jsx(es,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})})]}),e.jsx(pe,{value:(a==null?void 0:a.coveragePercentage)||0,className:"h-2 mt-4 bg-emerald-200/50 dark:bg-emerald-900/30"})]})]})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs(x,{className:"border-0 bg-gradient-to-br from-amber-50/50 to-amber-100/30 dark:from-amber-950/20 dark:to-amber-900/10 backdrop-blur-sm overflow-hidden group hover:shadow-card-hover transition-all duration-300 shadow-card",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-200/10 rounded-full -translate-y-16 translate-x-16 group-hover:scale-125 transition-transform duration-300"}),e.jsxs(h,{className:"p-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-700 dark:text-amber-400 mb-1",children:"Last Modified"}),e.jsx("h3",{className:"text-3xl font-bold mb-2",children:new Date(l.lastModified).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Role updated"})]}),e.jsx("div",{className:"p-3 rounded-full bg-amber-100/50 dark:bg-amber-900/30 shadow-sm",children:e.jsx(Es,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]}),e.jsx(pe,{value:100,className:"h-2 mt-4 bg-amber-200/50 dark:bg-amber-900/30"})]})]})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsxs(x,{className:"border-0 bg-gradient-to-br from-purple-50/50 to-purple-100/30 dark:from-purple-950/20 dark:to-purple-900/10 backdrop-blur-sm overflow-hidden group hover:shadow-card-hover transition-all duration-300 shadow-card",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-200/10 rounded-full -translate-y-16 translate-x-16 group-hover:scale-125 transition-transform duration-300"}),e.jsxs(h,{className:"p-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-700 dark:text-purple-400 mb-1",children:"Created"}),e.jsx("h3",{className:"text-3xl font-bold mb-2",children:new Date(l.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Role creation date"})]}),e.jsx("div",{className:"p-3 rounded-full bg-purple-100/50 dark:bg-purple-900/30 shadow-sm",children:e.jsx(Bs,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]}),e.jsx("div",{className:"h-2 mt-4 bg-purple-200/50 dark:bg-purple-900/30 rounded-full"})]})]})})]}),e.jsxs(Us,{value:Fe,onValueChange:Ue,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-border/50 pb-2",children:[e.jsxs(zs,{className:"bg-muted/50 backdrop-blur-sm border border-border/50 shadow-sm",children:[e.jsxs(ke,{value:"overview",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary data-[state=active]:to-accent data-[state=active]:shadow-sm",children:[e.jsx(bs,{className:"h-4 w-4 mr-2"}),"Overview"]}),e.jsxs(ke,{value:"staff",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary data-[state=active]:to-accent data-[state=active]:shadow-sm",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Staff (",c.length,")"]}),e.jsxs(ke,{value:"permissions",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary data-[state=active]:to-accent data-[state=active]:shadow-sm",children:[e.jsx(es,{className:"h-4 w-4 mr-2"}),"Permissions (",(a==null?void 0:a.selectedCount)||0,")"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:Fe==="permissions"&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-muted/50 border border-border/50 shadow-sm",children:[e.jsx(o,{variant:"ghost",size:"sm",className:k("h-7 px-2 hover:bg-background/50",ae==="grid"&&"bg-background shadow-sm"),onClick:()=>ze("grid"),children:e.jsx(Vs,{className:"h-3.5 w-3.5"})}),e.jsx(o,{variant:"ghost",size:"sm",className:k("h-7 px-2 hover:bg-background/50",ae==="list"&&"bg-background shadow-sm"),onClick:()=>ze("list"),children:e.jsx(Hs,{className:"h-3.5 w-3.5"})})]})})]}),e.jsxs(Ce,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:e.jsxs(x,{className:"border-0 bg-gradient-to-br from-card/50 to-card/30 backdrop-blur-sm shadow-card",children:[e.jsxs(me,{children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5 text-primary"}),"Role Information"]}),e.jsx(he,{children:"Detailed information about this access level"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground",children:"Role ID"}),e.jsx("p",{className:"font-medium font-mono bg-muted/50 px-2 py-1 rounded text-xs",children:l.id})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground",children:"Staff Count"}),e.jsx("p",{className:"font-medium",children:(a==null?void 0:a.assignedStaffCount)||0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground",children:"Created Date"}),e.jsx("p",{className:"font-medium",children:new Date(l.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground",children:"Last Modified"}),e.jsx("p",{className:"font-medium",children:new Date(l.lastModified).toLocaleDateString()})]})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4 text-muted-foreground"}),"Permissions Summary by Category"]}),e.jsx("div",{className:"space-y-2",children:a==null?void 0:a.categoryStats.map(s=>{const r=q(s.name);return e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/30 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(r,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.selected," of ",s.total," permissions"]})]})]}),e.jsxs(p,{variant:"outline",className:k("border-border/50",s.percentage===100&&"bg-emerald-500/10 text-emerald-600 border-emerald-200"),children:[s.percentage.toFixed(0),"%"]})]},`${s.name}-${s.total}`)})})]})]})]})}),e.jsx(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:e.jsxs(x,{className:"border-0 bg-gradient-to-br from-card/50 to-card/30 backdrop-blur-sm shadow-card",children:[e.jsxs(me,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5 text-primary"}),"Recently Added Staff"]}),e.jsx(he,{children:"Latest members assigned to this role"})]}),e.jsxs(p,{variant:"outline",className:"border-primary/30 bg-primary/10 shadow-sm",children:[c.length," total"]})]}),e.jsx(h,{className:"space-y-4",children:e.jsx(Je,{children:a!=null&&a.recentlyAdded&&a.recentlyAdded.length>0?a.recentlyAdded.map((s,r)=>e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"flex items-center justify-between p-3 rounded-xl bg-gradient-to-r from-background/50 to-background/30 border border-border/50 hover:border-primary/30 transition-all group shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-10 w-10 border-2 border-background group-hover:border-primary/30 transition-colors shadow-sm",children:e.jsx(R,{className:"bg-gradient-to-br from-primary/20 to-accent/20 text-primary",children:s.name.split(" ").map(t=>t[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]}),e.jsxs(p,{className:k("border-0 shadow-sm",Ee(s.status)),children:[s.status==="active"||s.status==="1"?e.jsx(Ae,{className:"h-3 w-3 mr-1"}):e.jsx(De,{className:"h-3 w-3 mr-1"}),s.status==="active"||s.status==="1"?"Active":"Inactive"]})]},`${s.id}-recent`)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(b,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No staff members assigned yet"}),P&&e.jsxs(Q,{children:[e.jsx(K,{asChild:!0,children:e.jsxs(o,{size:"sm",className:"mt-3 gap-2 shadow-sm",variant:"outline",children:[e.jsx(u,{className:"h-3 w-3"}),"Add Staff Members"]})}),e.jsxs(X,{className:"border-border/50 backdrop-blur-lg shadow-elevated max-w-md",children:[e.jsxs(Z,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5 text-primary"}),"Add Staff to Role"]}),e.jsx(W,{children:"Search and select staff members to assign to this role"})]}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsxs("div",{children:[e.jsx(J,{children:"Search Staff Members"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx($,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(I,{placeholder:"Search by name or email...",value:S,onChange:s=>U(s.target.value),className:"pl-9 border-border/50"})]})]}),e.jsx(B,{className:"h-[300px] pr-4",children:e.jsx("div",{className:"space-y-2",children:N.length>0?N.map(s=>e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex items-center justify-between p-3 rounded-xl border border-border/50 hover:border-primary/50 hover:bg-primary/5 cursor-pointer transition-all",onClick:()=>O(s),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-10 w-10",children:e.jsx(R,{className:"bg-gradient-to-br from-primary/20 to-accent/20",children:s.name.split(" ").map(r=>r[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]}),e.jsx(o,{size:"sm",variant:"ghost",className:"hover:bg-primary/10",children:H?e.jsx(V,{className:"h-4 w-4 animate-spin text-primary"}):e.jsx(u,{className:"h-4 w-4 text-primary"})})]},`${s.id}-available`)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(b,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No staff members found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try a different search term"})]})})})]})]})]})]})})}),c.length>0&&e.jsx(Ms,{className:"border-t border-border/50 pt-4",children:e.jsxs(o,{onClick:()=>Ue("staff"),variant:"ghost",className:"w-full justify-center gap-2 text-primary hover:text-primary/90 hover:bg-primary/5",children:["View All Staff",e.jsx(gs,{className:"h-4 w-4"})]})})]})})]}),e.jsxs(x,{className:"border-0 bg-gradient-to-br from-card/50 to-card/30 backdrop-blur-sm shadow-card",children:[e.jsxs(me,{children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-5 w-5 text-primary"}),"Quick Actions"]}),e.jsx(he,{children:"Manage this role with quick actions"})]}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Me&&e.jsxs(o,{onClick:()=>f(`/admin/access-control/${w}/${qe(l.name)}`),variant:"outline",className:"h-auto py-6 flex-col gap-3 border-border/50 hover:border-primary/50 hover:bg-primary/5 group shadow-sm",children:[e.jsx("div",{className:"p-3 rounded-full bg-primary/10 group-hover:bg-primary/20 transition-colors",children:e.jsx(We,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Edit Permissions"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Modify role permissions"})]})]}),P&&e.jsxs(Q,{children:[e.jsx(K,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"h-auto py-6 flex-col gap-3 border-border/50 hover:border-primary/50 hover:bg-primary/5 group shadow-sm",children:[e.jsx("div",{className:"p-3 rounded-full bg-primary/10 group-hover:bg-primary/20 transition-colors",children:e.jsx(u,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Add Staff"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Assign staff to this role"})]})]})}),e.jsxs(X,{className:"border-border/50 backdrop-blur-lg shadow-elevated max-w-md",children:[e.jsxs(Z,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5 text-primary"}),"Add Staff to Role"]}),e.jsx(W,{children:"Search and select staff members to assign to this role"})]}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsxs("div",{children:[e.jsx(J,{children:"Search Staff Members"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx($,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(I,{placeholder:"Search by name or email...",value:S,onChange:s=>U(s.target.value),className:"pl-9 border-border/50"})]})]}),e.jsx(B,{className:"h-[300px] pr-4",children:e.jsx("div",{className:"space-y-2",children:N.length>0?N.map(s=>e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex items-center justify-between p-3 rounded-xl border border-border/50 hover:border-primary/50 hover:bg-primary/5 cursor-pointer transition-all",onClick:()=>O(s),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-10 w-10",children:e.jsx(R,{className:"bg-gradient-to-br from-primary/20 to-accent/20",children:s.name.split(" ").map(r=>r[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]}),e.jsx(o,{size:"sm",variant:"ghost",className:"hover:bg-primary/10",children:H?e.jsx(V,{className:"h-4 w-4 animate-spin text-primary"}):e.jsx(u,{className:"h-4 w-4 text-primary"})})]},`${s.id}-available`)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(b,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No staff members found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try a different search term"})]})})})]})]})]})]})})]})]}),e.jsxs(Ce,{value:"staff",className:"space-y-6",children:[e.jsx(x,{className:"border-0 bg-gradient-to-br from-card/50 to-card/30 backdrop-blur-sm shadow-card",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 justify-between items-start lg:items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Assigned Staff Management"}),e.jsxs("p",{className:"text-muted-foreground",children:["Manage staff members assigned to ",e.jsx("span",{className:"font-semibold text-primary",children:l.name})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:P&&e.jsxs(Q,{children:[e.jsx(K,{asChild:!0,children:e.jsxs(o,{size:"sm",className:"gap-2 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 shadow-sm",children:[e.jsx(u,{className:"h-3 w-3"}),"Add Staff"]})}),e.jsxs(X,{className:"border-border/50 backdrop-blur-lg shadow-elevated max-w-md",children:[e.jsxs(Z,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5 text-primary"}),"Add Staff to Role"]}),e.jsx(W,{children:"Search and select staff members to assign to this role"})]}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsxs("div",{children:[e.jsx(J,{children:"Search Staff Members"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx($,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(I,{placeholder:"Search by name or email...",value:S,onChange:s=>U(s.target.value),className:"pl-9 border-border/50"})]})]}),e.jsx(B,{className:"h-[300px] pr-4",children:e.jsx("div",{className:"space-y-2",children:N.length>0?N.map(s=>e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex items-center justify-between p-3 rounded-xl border border-border/50 hover:border-primary/50 hover:bg-primary/5 cursor-pointer transition-all",onClick:()=>O(s),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-10 w-10",children:e.jsx(R,{className:"bg-gradient-to-br from-primary/20 to-accent/20",children:s.name.split(" ").map(r=>r[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]}),e.jsx(o,{size:"sm",variant:"ghost",className:"hover:bg-primary/10",children:H?e.jsx(V,{className:"h-4 w-4 animate-spin text-primary"}):e.jsx(u,{className:"h-4 w-4 text-primary"})})]},`${s.id}-available`)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(b,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No staff members found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try a different search term"})]})})})]})]})]})})]})})}),e.jsx(x,{className:"border-0 bg-gradient-to-br from-card/50 to-card/30 backdrop-blur-sm shadow-card",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx($,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(I,{placeholder:"Search staff by name or email...",value:C,onChange:s=>ee(s.target.value),className:"pl-9 border-border/50 bg-background/50"})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full lg:w-auto",children:[e.jsxs(Rs,{value:A,onValueChange:se,children:[e.jsx(Ps,{className:"w-[140px] border-border/50 bg-background/50",children:e.jsx(Ls,{placeholder:"Status"})}),e.jsxs(Fs,{className:"border-border/50 backdrop-blur-lg shadow-elevated",children:[e.jsx(ue,{value:"all",children:"All Status"}),e.jsx(ue,{value:"active",children:"Active"}),e.jsx(ue,{value:"inactive",children:"Inactive"})]})]}),e.jsx(oe,{children:e.jsxs(de,{children:[e.jsx(ce,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>{ee(""),se("all")},className:"border-border/50",children:e.jsx(qs,{className:"h-4 w-4"})})}),e.jsx(ne,{children:e.jsx("p",{children:"Clear filters"})})]})})]})]})})}),e.jsxs(x,{className:"border-0 bg-gradient-to-br from-card/50 to-card/30 backdrop-blur-sm shadow-card overflow-hidden",children:[e.jsx(B,{className:"h-[600px]",children:e.jsxs(Ke,{children:[e.jsx(Xe,{className:"bg-muted/30 sticky top-0 z-10",children:e.jsxs(Se,{className:"border-border/50 hover:bg-transparent",children:[e.jsx(v,{className:"font-semibold",children:"Staff Member"}),e.jsx(v,{className:"font-semibold",children:"Status"}),e.jsx(v,{className:"font-semibold",children:"Joined"}),e.jsx(v,{className:"font-semibold",children:"Last Active"}),e.jsx(v,{className:"font-semibold text-right",children:"Actions"})]})}),e.jsx(Ze,{children:e.jsx(Je,{children:le.map((s,r)=>e.jsxs(n.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:r*.05},className:"border-border/50 hover:bg-muted/30 transition-colors group",children:[e.jsx(y,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-10 w-10 border-2 border-background group-hover:border-primary/30 transition-colors shadow-sm",children:e.jsx(R,{className:"bg-gradient-to-br from-primary/20 to-accent/20 text-primary",children:s.name.split(" ").map(t=>t[0]).join("")})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.email}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.phone})]})]})}),e.jsx(y,{children:e.jsxs(p,{className:k("border-0 px-3 py-1 shadow-sm",Ee(s.status)),children:[s.status==="active"||s.status==="1"?e.jsx(Ae,{className:"h-3 w-3 mr-1.5"}):e.jsx(De,{className:"h-3 w-3 mr-1.5"}),s.status==="active"||s.status==="1"?"Active":"Inactive"]})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm",children:new Date(s.join_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.floor((Date.now()-new Date(s.join_date).getTime())/(1e3*60*60*24*30))," months ago"]})]})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm",children:s.last_active?new Date(s.last_active).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Never"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Last seen"})]})}),e.jsx(y,{className:"text-right",children:L&&e.jsxs(fs,{children:[e.jsx(Ns,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted/50",children:e.jsx($s,{className:"h-4 w-4"})})}),e.jsxs(vs,{align:"end",className:"border-border/50 backdrop-blur-lg shadow-elevated w-48",children:[e.jsx(ys,{children:"Actions"}),e.jsx(ws,{}),l.id!=="admin"&&e.jsxs(Ss,{className:"text-rose-600 focus:text-rose-700 focus:bg-rose-50",onClick:()=>re(s),children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Remove from Role"]})]})]})})]},`${s.id}-row`))})})]})}),le.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b,{className:"h-16 w-16 mx-auto text-muted-foreground/30 mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No staff members found"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm mx-auto",children:C||A!=="all"?"Try adjusting your search or filter to find what you're looking for.":"No staff members are currently assigned to this role."}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[P&&e.jsxs(Q,{children:[e.jsx(K,{asChild:!0,children:e.jsxs(o,{className:"gap-2 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 shadow-sm",children:[e.jsx(u,{className:"h-4 w-4"}),"Add Staff Members"]})}),e.jsxs(X,{className:"border-border/50 backdrop-blur-lg shadow-elevated max-w-md",children:[e.jsxs(Z,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5 text-primary"}),"Add Staff to Role"]}),e.jsx(W,{children:"Search and select staff members to assign to this role"})]}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsxs("div",{children:[e.jsx(J,{children:"Search Staff Members"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx($,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(I,{placeholder:"Search by name or email...",value:S,onChange:s=>U(s.target.value),className:"pl-9 border-border/50"})]})]}),e.jsx(B,{className:"h-[300px] pr-4",children:e.jsx("div",{className:"space-y-2",children:N.length>0?N.map(s=>e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex items-center justify-between p-3 rounded-xl border border-border/50 hover:border-primary/50 hover:bg-primary/5 cursor-pointer transition-all",onClick:()=>O(s),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-10 w-10",children:e.jsx(R,{className:"bg-gradient-to-br from-primary/20 to-accent/20",children:s.name.split(" ").map(r=>r[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]})]}),e.jsx(o,{size:"sm",variant:"ghost",className:"hover:bg-primary/10",children:H?e.jsx(V,{className:"h-4 w-4 animate-spin text-primary"}):e.jsx(u,{className:"h-4 w-4 text-primary"})})]},`${s.id}-available`)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(b,{className:"h-12 w-12 mx-auto text-muted-foreground/30 mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No staff members found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try a different search term"})]})})})]})]})]}),(C||A!=="all")&&e.jsx(o,{variant:"outline",onClick:()=>{ee(""),se("all")},className:"border-border/50 shadow-sm",children:"Clear Filters"})]})]}),c.length>0&&e.jsx("div",{className:"p-4 border-t border-border/50 bg-muted/10",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.jsx("span",{className:"font-semibold text-foreground",children:le.length})," of"," ",e.jsx("span",{className:"font-semibold text-foreground",children:c.length})," staff members"]}),L&&c.length>0&&e.jsxs(je,{children:[e.jsx(Qe,{asChild:!0,children:e.jsxs(o,{variant:"outline",size:"sm",className:"gap-2 border-rose-200/50 text-rose-600 hover:bg-rose-50 hover:text-rose-700 hover:border-rose-300/50 shadow-sm",children:[e.jsx(Te,{className:"h-3 w-3"}),"Remove All Staff"]})}),e.jsxs(be,{className:"border-border/50 backdrop-blur-lg shadow-elevated",children:[e.jsxs(ge,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5 text-rose-500"}),"Remove All Staff Members"]}),e.jsxs(Ne,{className:"space-y-3",children:[e.jsxs("p",{children:["Are you sure you want to remove all ",c.length," staff members from"," ",e.jsx("span",{className:"font-semibold text-foreground",children:l.name}),"?"]}),e.jsx("div",{className:"p-3 rounded-lg bg-rose-50/50 border border-rose-200",children:e.jsx("p",{className:"text-sm text-rose-700",children:"⚠️ This action will remove all assigned staff from this role. They will lose all permissions associated with this role."})})]})]}),e.jsxs(ve,{children:[e.jsx(ye,{className:"border-border/50",children:"Cancel"}),e.jsx(we,{onClick:cs,className:"bg-gradient-to-r from-rose-600 to-rose-500 hover:from-rose-700 hover:to-rose-600 shadow-sm",children:"Remove All Staff"})]})]})]})]})})]})]}),e.jsxs(Ce,{value:"permissions",className:"space-y-6",children:[e.jsx(x,{className:"border-0 bg-gradient-to-br from-card/50 to-card/30 backdrop-blur-sm shadow-card",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 justify-between items-start lg:items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Role Permissions"}),e.jsxs("p",{className:"text-muted-foreground",children:["Manage permissions granted by ",e.jsx("span",{className:"font-semibold text-primary",children:l.name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(p,{variant:"outline",className:"border-primary/30 bg-primary/10 text-primary shadow-sm",children:[(a==null?void 0:a.selectedCount)||0," permissions granted"]}),e.jsxs(p,{variant:"outline",className:"border-border/50 shadow-sm",children:[(Ve=a==null?void 0:a.coveragePercentage)==null?void 0:Ve.toFixed(1),"% coverage"]})]})]})})}),e.jsx("div",{className:"space-y-6",children:te.map(s=>{const r=T.filter(i=>i.category===s),t=r.filter(i=>l==null?void 0:l.permissions.includes(i.code));return t.length===0?null:e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-primary/10 to-accent/10 shadow-sm",children:(()=>{const i=q(s);return e.jsx(i,{className:"h-5 w-5 text-primary"})})()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," of ",r.length," permissions granted"]})]})]}),e.jsxs(p,{variant:"outline",className:k("border-border/50 shadow-sm",t.length===r.length&&"bg-emerald-500/10 text-emerald-600 border-emerald-200"),children:[Math.round(t.length/r.length*100),"%"]})]}),ae==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(i=>{const g=q(i.icon);return e.jsxs(n.div,{whileHover:{scale:1.02},className:"group relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-accent/5 rounded-xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(x,{className:"border-0 bg-gradient-to-br from-card/50 to-card/30 backdrop-blur-sm hover:border-primary/30 transition-all relative z-10 shadow-card hover:shadow-card-hover",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 group-hover:bg-primary/20 transition-colors",children:e.jsx(g,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:i.name}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:i.description}),e.jsx("div",{className:"mt-2",children:e.jsx(p,{variant:"outline",className:"text-xs border-border/50",children:i.code})})]})]})})})]},`${i.id}-detail`)})}):e.jsx(x,{className:"border-0 bg-gradient-to-br from-card/50 to-card/30 backdrop-blur-sm shadow-card",children:e.jsxs(Ke,{children:[e.jsx(Xe,{className:"bg-muted/30",children:e.jsxs(Se,{className:"border-border/50 hover:bg-transparent",children:[e.jsx(v,{className:"font-semibold",children:"Permission"}),e.jsx(v,{className:"font-semibold",children:"Description"}),e.jsx(v,{className:"font-semibold",children:"Code"})]})}),e.jsx(Ze,{children:t.map(i=>{const g=q(i.icon);return e.jsxs(Se,{className:"border-border/50 hover:bg-muted/30",children:[e.jsx(y,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(g,{className:"h-4 w-4 text-primary"})}),e.jsx("span",{className:"font-medium",children:i.name})]})}),e.jsx(y,{children:e.jsx("span",{className:"text-sm text-muted-foreground",children:i.description})}),e.jsx(y,{children:e.jsx(p,{variant:"outline",className:"font-mono text-xs border-border/50",children:i.code})})]},`${i.id}-row`)})})]})})]},`${s}-permissions`)})})]})]}),L&&e.jsx(je,{open:!!D,onOpenChange:()=>re(null),children:e.jsxs(be,{className:"border-border/50 backdrop-blur-lg shadow-elevated",children:[e.jsxs(ge,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5 text-rose-500"}),"Remove Staff Member"]}),e.jsxs(Ne,{className:"space-y-3",children:[e.jsxs("p",{children:["Are you sure you want to remove"," ",e.jsx("span",{className:"font-semibold text-foreground",children:D==null?void 0:D.name})," from"," ",e.jsx("span",{className:"font-semibold text-primary",children:l.name}),"?"]}),e.jsx("div",{className:"p-3 rounded-lg bg-rose-50/50 border border-rose-200",children:e.jsx("p",{className:"text-sm text-rose-700",children:"⚠️ This staff member will lose all permissions associated with this role."})})]})]}),e.jsxs(ve,{children:[e.jsx(ye,{className:"border-border/50",children:"Cancel"}),e.jsx(we,{onClick:()=>D&&ds(D),className:"bg-gradient-to-r from-rose-600 to-rose-500 hover:from-rose-700 hover:to-rose-600 shadow-sm",children:os?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-4 w-4 mr-2 animate-spin"}),"Removing..."]}):"Remove from Role"})]})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] p-8 text-center",children:[e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 to-accent/10 rounded-full blur-3xl"}),e.jsx(z,{className:"h-24 w-24 mx-auto text-muted-foreground/50 mb-6 relative z-10"})]}),e.jsx("h2",{className:"font-display text-2xl font-semibold mb-2",children:"Access Level Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"The access level you're looking for doesn't exist or has been removed."}),e.jsxs(o,{onClick:()=>f("/admin/access-control"),className:"gap-2 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 shadow-lg hover:shadow-xl transition-all",children:[e.jsx(Ge,{className:"h-4 w-4"}),"Back to Access Control"]})]})};export{Ir as default};
