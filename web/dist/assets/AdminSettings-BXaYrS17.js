import{F as re,aN as ie,r as c,h as y,a6 as i,j as e,B as u,v as l,H as U,P as E,M as O,bf as ne,af as le,N as G,ar as ce}from"./index-DrzvgQSx.js";import{L as n}from"./label-D6nqg-AK.js";import{S as b}from"./switch-BNZbPRLI.js";import{S as D}from"./separator-DpYAwveS.js";import{C as d,a as o,d as x,b as m,c as h}from"./card-CSdj4VlM.js";import{T as de,a as oe,b as j,c as g}from"./tabs-kkrfGa6s.js";import{L as R}from"./loader-circle-oXQTLidO.js";import{S as q}from"./save-BctxvPZE.js";import{D as xe}from"./dollar-sign-CiHtqMiF.js";import{T as me}from"./triangle-alert-BegDlvxd.js";import{T as w}from"./truck-Bjx6mnMk.js";import{N as he}from"./navigation-CYup7lq0.js";import{C as pe}from"./credit-card-B1BYDSKm.js";import{E as f}from"./eye-off-MxEi3Of0.js";import{E as N}from"./eye-DtInb1xn.js";import{S as C}from"./server-CQyRLyxz.js";import{U as ue}from"./users-BACZCDYD.js";import"./index-DDpYfoMH.js";const Oe=()=>{const V=re(),{manage_settings:$}=ie(["manage_settings"]),[Q,I]=c.useState(!0),[v,M]=c.useState(!1),[Y,z]=c.useState("general"),[S,J]=c.useState(!1),[k,W]=c.useState(!1),[P,X]=c.useState(!1),[F,Z]=c.useState(!1),[T,ee]=c.useState(!1),[t,A]=c.useState({updated_at:"",store_gst:"",store_free_shipping:!1,store_free_shipping_threshold:0,stripe_secret_key:"",stripe_publishable_key:"",canadapost_customer_number:"",canadapost_username:"",canadapost_password:"",fedex_client_id:"",fedex_client_secret:"",fedex_account_number:"",dhl_account_number:"",dhl_api_key:"",shipment_postal_code:"M5V3L9",shipment_city:"Toronto",shipment_province:"ON",shipment_country:"CA",new_order_notification:!1,order_cancel_notification:!1,low_stock_notification:!1,out_of_stock_notification:!1,new_customer_notification:!1,support_request_notification:!1,product_review_notification:!1});c.useEffect(()=>{if(!$){c.startTransition(()=>V("/unauthorized"));return}se()},[]);const se=async()=>{try{I(!0);const a=(await y.get("/get-settings/")).data;!a.error&&a.data?A(a.data):i.error(a.data||"Failed to load settings")}catch(s){console.error("Error fetching store:",s),i.error("Failed to load settings")}finally{I(!1)}},B=async()=>{var s,a,p,K;try{if(M(!0),!t.store_gst||parseFloat(t.store_gst)<0){i.error("Please enter a valid GST rate");return}if(!((s=t.shipment_postal_code)!=null&&s.trim())){i.error("Please enter a valid postal code");return}if(!((a=t.shipment_city)!=null&&a.trim())){i.error("Please enter a city");return}if(!((p=t.shipment_province)!=null&&p.trim())){i.error("Please enter a province");return}if(!((K=t.shipment_country)!=null&&K.trim())){i.error("Please enter a country");return}const _=(await y.post("/update-settings/",t)).data;!_.error&&_.data?(A(_.data),i.success("Store settings saved successfully")):i.error(_.data||"Failed to save settings")}catch(H){console.error("Error saving store:",H),i.error("Failed to save settings")}finally{M(!1)}},r=(s,a)=>{A(p=>({...p,[s]:a}))},te=s=>{if(!s)return"Never";try{return new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return s}},ae=async()=>{try{const a=(await y.post("/test-stripe-connection/",{secret_key:t.stripe_secret_key,publishable_key:t.stripe_publishable_key})).data;!a.error&&a.data?i.success("Stripe connection successful!"):i.error(a.data||"Stripe connection failed")}catch{i.error("Failed to test Stripe connection")}},L=async s=>{try{const p=(await y.post("/test-shipping-connection/",{provider:s,credentials:s==="canadapost"?{customer_number:t.canadapost_customer_number,username:t.canadapost_username,password:t.canadapost_password}:s==="fedex"?{client_id:t.fedex_client_id,client_secret:t.fedex_client_secret,account_number:t.fedex_account_number}:s==="dhl"?{account_number:t.dhl_account_number,api_key:t.dhl_api_key}:{},origin:{postal_code:t.shipment_postal_code,city:t.shipment_city,province:t.shipment_province,country:t.shipment_country}})).data;!p.error&&p.data?i.success(`${s} connection successful!`):i.error(p.data||`${s} connection failed`)}catch{i.error(`Failed to test ${s} connection`)}};return Q?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-8 w-48 bg-muted rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-4 w-64 bg-muted/50 rounded animate-pulse"})]}),e.jsx("div",{className:"h-10 w-32 bg-muted rounded animate-pulse"})]}),[1,2,3,4].map(s=>e.jsxs(d,{className:"animate-pulse",children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-muted"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-32 bg-muted rounded"}),e.jsx("div",{className:"h-3 w-48 bg-muted/50 rounded"})]})]})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-10 w-full bg-muted rounded"}),e.jsx("div",{className:"h-10 w-full bg-muted rounded"})]})})]},s))]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-2xl md:text-3xl mb-2",children:"Store Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure your store preferences, notifications, and API integrations"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(u,{onClick:B,disabled:v,className:"gap-2",children:v?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-4 w-4"}),"Save All Settings"]})})})]}),e.jsxs(de,{value:Y,onValueChange:z,className:"w-full",children:[e.jsxs(oe,{className:"grid grid-cols-6 mb-8",children:[e.jsx(j,{value:"general",children:"General"}),e.jsx(j,{value:"origin",children:"Origin"}),e.jsx(j,{value:"payment",children:"Payment"}),e.jsx(j,{value:"shipping",children:"Shipping"}),e.jsx(j,{value:"notifications",children:"Notifications"}),e.jsx(j,{value:"advanced",children:"Advanced"})]}),e.jsxs(g,{value:"general",className:"space-y-6",children:[e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(xe,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx(m,{children:"Tax & Legal Settings"}),e.jsx(h,{children:"Configure tax rates and legal compliance"})]})]})}),e.jsxs(x,{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx(n,{htmlFor:"store_gst",children:"GST Rate (%) *"}),e.jsx(l,{id:"store_gst",type:"number",value:t.store_gst||"",onChange:s=>r("store_gst",s.target.value),min:"0",max:"100",step:"0.01",className:"mt-1"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Federal Goods and Services Tax rate"})]})}),e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(me,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Tax Calculation"}),e.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total tax rate: ",t.store_gst||"0","% (GST ",t.store_gst||"0","%). Applied to all taxable items. Make sure this complies with your local regulations."]})]})]})})]})]}),e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx(m,{children:"Shipping Settings"}),e.jsx(h,{children:"Configure shipping options and delivery policies"})]})]})}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Enable Free Shipping"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Offer free shipping on orders over a certain amount"})]}),e.jsx(b,{checked:t.store_free_shipping||!1,onCheckedChange:s=>r("store_free_shipping",s)})]}),e.jsx(D,{}),t.store_free_shipping&&e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"free_shipping_threshold",children:["Free Shipping Threshold (",U(t.store_free_shipping_threshold||0),")"]}),e.jsx(l,{id:"free_shipping_threshold",type:"number",value:t.store_free_shipping_threshold||0,onChange:s=>r("store_free_shipping_threshold",Number(s.target.value)),min:"0",step:"1",className:"mt-1 w-48"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum order amount for free shipping"})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(E,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Shipping Policy"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:t.store_free_shipping?`Free shipping available on orders above ${U(t.store_free_shipping_threshold||0)}`:"Free shipping is currently disabled. Standard shipping rates apply."})]})]})})]})]})]}),e.jsx(g,{value:"origin",className:"space-y-6",children:e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx(O,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx(m,{children:"Shipment Origin Address"}),e.jsx(h,{children:"Configure the origin address for shipping calculations (Canada Post, FedEx, DHL)"})]})]})}),e.jsxs(x,{className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(he,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Shipping Origin"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"This address is used as the starting point for all shipping rate calculations. Shipping carriers need this information to calculate accurate delivery costs and times."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"shipment_postal_code",children:"Postal Code *"}),e.jsx(l,{id:"shipment_postal_code",type:"text",value:t.shipment_postal_code||"",onChange:s=>r("shipment_postal_code",s.target.value.toUpperCase()),placeholder:"M5V3L9",className:"mt-1",maxLength:7}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Canadian postal code (e.g., M5V3L9)"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"shipment_city",children:"City *"}),e.jsx(l,{id:"shipment_city",type:"text",value:t.shipment_city||"",onChange:s=>r("shipment_city",s.target.value),placeholder:"Toronto",className:"mt-1"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"City where shipments originate"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"shipment_province",children:"Province *"}),e.jsxs("select",{id:"shipment_province",value:t.shipment_province||"",onChange:s=>r("shipment_province",s.target.value),className:"w-full px-3 py-2 border border-input rounded-lg bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary mt-1",children:[e.jsx("option",{value:"",children:"Select Province"}),e.jsx("option",{value:"AB",children:"Alberta"}),e.jsx("option",{value:"BC",children:"British Columbia"}),e.jsx("option",{value:"MB",children:"Manitoba"}),e.jsx("option",{value:"NB",children:"New Brunswick"}),e.jsx("option",{value:"NL",children:"Newfoundland and Labrador"}),e.jsx("option",{value:"NS",children:"Nova Scotia"}),e.jsx("option",{value:"ON",children:"Ontario"}),e.jsx("option",{value:"PE",children:"Prince Edward Island"}),e.jsx("option",{value:"QC",children:"Quebec"}),e.jsx("option",{value:"SK",children:"Saskatchewan"}),e.jsx("option",{value:"NT",children:"Northwest Territories"}),e.jsx("option",{value:"NU",children:"Nunavut"}),e.jsx("option",{value:"YT",children:"Yukon"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Province code (e.g., ON, BC, QC)"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"shipment_country",children:"Country *"}),e.jsxs("select",{id:"shipment_country",value:t.shipment_country||"CA",onChange:s=>r("shipment_country",s.target.value),className:"w-full px-3 py-2 border border-input rounded-lg bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary mt-1",children:[e.jsx("option",{value:"",children:"Select Country"}),ne.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Country where shipments originate"})]})]}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(le,{className:"h-5 w-5 text-indigo-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-indigo-800",children:"Current Shipment Origin"}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",t.shipment_city||"Not set",", ",t.shipment_province||"Not set"," ",t.shipment_postal_code||"Not set"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Country:"})," ",t.shipment_country||"Not set"]}),e.jsx("p",{className:"text-xs text-indigo-700 mt-2",children:"This address will be used for all shipping rate calculations with Canada Post, FedEx, and DHL."})]})]})]})}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("strong",{children:"Note:"})," Accurate origin information is required for shipping carriers to calculate correct shipping rates and delivery times. Make sure this matches your actual warehouse or fulfillment location."]})})]})]})}),e.jsx(g,{value:"payment",className:"space-y-6",children:e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(pe,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(m,{children:"Stripe Payment Gateway"}),e.jsx(h,{children:"Configure Stripe for secure payment processing"})]})]})}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"stripe_publishable_key",children:"Publishable Key"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"stripe_publishable_key",type:k?"text":"password",value:t.stripe_publishable_key||"",onChange:s=>r("stripe_publishable_key",s.target.value),placeholder:"pk_live_xxxxxxxxxxxxxxxxxxxxxxxx",className:"mt-1 pr-10"}),e.jsx("button",{type:"button",onClick:()=>W(!k),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:k?e.jsx(f,{className:"h-4 w-4"}):e.jsx(N,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Public key for Stripe.js integration"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"stripe_secret_key",children:"Secret Key"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"stripe_secret_key",type:S?"text":"password",value:t.stripe_secret_key||"",onChange:s=>r("stripe_secret_key",s.target.value),placeholder:"sk_live_xxxxxxxxxxxxxxxxxxxxxxxx",className:"mt-1 pr-10"}),e.jsx("button",{type:"button",onClick:()=>J(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:S?e.jsx(f,{className:"h-4 w-4"}):e.jsx(N,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Private key for server-side operations (keep secure!)"})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs(u,{onClick:ae,variant:"outline",className:"gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Test Stripe Connection"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Make sure to use live keys for production and test keys for development"})]}),e.jsx("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(G,{className:"h-5 w-5 text-purple-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Security Note"}),e.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Stripe secret keys should never be exposed to the client side. All payment processing should be handled server-side. Your keys are encrypted and stored securely."})]})]})})]})]})}),e.jsxs(g,{value:"shipping",className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{className:"h-5 w-5 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-indigo-800",children:"Shipment Origin"}),e.jsxs("p",{className:"text-xs text-indigo-700",children:["Shipping rates will be calculated from: ",t.shipment_city||"Not set",", ",t.shipment_province||"Not set"," ",t.shipment_postal_code||"Not set",", ",t.shipment_country||"Not set"]})]})]})}),e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx(m,{children:"Canada Post API"}),e.jsx(h,{children:"Configure Canada Post shipping integration"})]})]})}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"canadapost_customer_number",children:"Customer Number"}),e.jsx(l,{id:"canadapost_customer_number",type:"text",value:t.canadapost_customer_number||"",onChange:s=>r("canadapost_customer_number",s.target.value),placeholder:"0001234567",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"canadapost_username",children:"Username"}),e.jsx(l,{id:"canadapost_username",type:"text",value:t.canadapost_username||"",onChange:s=>r("canadapost_username",s.target.value),placeholder:"api_username",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"canadapost_password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"canadapost_password",type:P?"text":"password",value:t.canadapost_password||"",onChange:s=>r("canadapost_password",s.target.value),placeholder:"••••••••",className:"mt-1 pr-10"}),e.jsx("button",{type:"button",onClick:()=>X(!P),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:P?e.jsx(f,{className:"h-4 w-4"}):e.jsx(N,{className:"h-4 w-4"})})]})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(u,{onClick:()=>L("canadapost"),variant:"outline",className:"gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Test Canada Post Connection"]})})]})]}),e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx(m,{children:"FedEx API"}),e.jsx(h,{children:"Configure FedEx shipping integration"})]})]})}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"fedex_client_id",children:"Client ID"}),e.jsx(l,{id:"fedex_client_id",type:"text",value:t.fedex_client_id||"",onChange:s=>r("fedex_client_id",s.target.value),placeholder:"l7xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"fedex_client_secret",children:"Client Secret"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"fedex_client_secret",type:F?"text":"password",value:t.fedex_client_secret||"",onChange:s=>r("fedex_client_secret",s.target.value),placeholder:"••••••••",className:"mt-1 pr-10"}),e.jsx("button",{type:"button",onClick:()=>Z(!F),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:F?e.jsx(f,{className:"h-4 w-4"}):e.jsx(N,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"fedex_account_number",children:"Account Number"}),e.jsx(l,{id:"fedex_account_number",type:"text",value:t.fedex_account_number||"",onChange:s=>r("fedex_account_number",s.target.value),placeholder:"123456789",className:"mt-1"})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(u,{onClick:()=>L("fedex"),variant:"outline",className:"gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Test FedEx Connection"]})})]})]}),e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx(m,{children:"DHL API"}),e.jsx(h,{children:"Configure DHL shipping integration"})]})]})}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"dhl_account_number",children:"Account Number"}),e.jsx(l,{id:"dhl_account_number",type:"text",value:t.dhl_account_number||"",onChange:s=>r("dhl_account_number",s.target.value),placeholder:"123456789",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"dhl_api_key",children:"API Key"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"dhl_api_key",type:T?"text":"password",value:t.dhl_api_key||"",onChange:s=>r("dhl_api_key",s.target.value),placeholder:"••••••••",className:"mt-1 pr-10"}),e.jsx("button",{type:"button",onClick:()=>ee(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:T?e.jsx(f,{className:"h-4 w-4"}):e.jsx(N,{className:"h-4 w-4"})})]})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(u,{onClick:()=>L("dhl"),variant:"outline",className:"gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Test DHL Connection"]})})]})]})]}),e.jsx(g,{value:"notifications",className:"space-y-6",children:e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(ce,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx(m,{children:"Email Notifications"}),e.jsx(h,{children:"Configure email notifications for administrators"})]})]})}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("h4",{className:"font-medium",children:"Order Notifications"})]}),e.jsx("div",{className:"space-y-3",children:[{key:"new_order_notification",label:"New Order Received",desc:"Notify when a new order is placed"},{key:"order_cancel_notification",label:"Order Cancellation",desc:"Notify when an order is cancelled"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]}),e.jsx(b,{checked:t[s.key]||!1,onCheckedChange:a=>r(s.key,a)})]},s.key))})]}),e.jsx(D,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("h4",{className:"font-medium",children:"Inventory Notifications"})]}),e.jsx("div",{className:"space-y-3",children:[{key:"low_stock_notification",label:"Low Stock Alert",desc:"Notify when products are low in stock"},{key:"out_of_stock_notification",label:"Out of Stock Alert",desc:"Notify when products go out of stock"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]}),e.jsx(b,{checked:t[s.key]||!1,onCheckedChange:a=>r(s.key,a)})]},s.key))})]}),e.jsx(D,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("h4",{className:"font-medium",children:"Customer Notifications"})]}),e.jsx("div",{className:"space-y-3",children:[{key:"new_customer_notification",label:"New Customer Registration",desc:"Notify when a new customer signs up"},{key:"support_request_notification",label:"Customer Support Request",desc:"Notify when a customer submits support request"},{key:"product_review_notification",label:"Product Review Submitted",desc:"Notify when a customer submits a review"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.desc})]}),e.jsx(b,{checked:t[s.key]||!1,onCheckedChange:a=>r(s.key,a)})]},s.key))})]})]})]})}),e.jsx(g,{value:"advanced",className:"space-y-6",children:e.jsxs(d,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(G,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx(m,{children:"API Keys Summary"}),e.jsx(h,{children:"Overview of all configured API credentials"})]})]})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-200",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-indigo-600"}),"Shipment Origin"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Postal Code:"}),e.jsx("span",{className:t.shipment_postal_code?"text-green-600 font-medium":"text-red-600",children:t.shipment_postal_code||"Not configured"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"City:"}),e.jsx("span",{className:t.shipment_city?"text-green-600 font-medium":"text-red-600",children:t.shipment_city||"Not configured"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Province:"}),e.jsx("span",{className:t.shipment_province?"text-green-600 font-medium":"text-red-600",children:t.shipment_province||"Not configured"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Country:"}),e.jsx("span",{className:t.shipment_country?"text-green-600 font-medium":"text-red-600",children:t.shipment_country||"Not configured"})]})]})]}),[{label:"Stripe",keys:[{name:"Publishable Key",value:t.stripe_publishable_key},{name:"Secret Key",value:t.stripe_secret_key}]},{label:"Canada Post",keys:[{name:"Customer Number",value:t.canadapost_customer_number},{name:"Username",value:t.canadapost_username},{name:"Password",value:t.canadapost_password?"••••••••":""}]},{label:"FedEx",keys:[{name:"Client ID",value:t.fedex_client_id},{name:"Client Secret",value:t.fedex_client_secret?"••••••••":""},{name:"Account Number",value:t.fedex_account_number}]},{label:"DHL",keys:[{name:"Account Number",value:t.dhl_account_number},{name:"API Key",value:t.dhl_api_key?"••••••••":""}]}].map(s=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-3",children:s.label}),e.jsx("div",{className:"space-y-2",children:s.keys.map(a=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[a.name,":"]}),e.jsx("span",{className:a.value?"text-green-600 font-medium":"text-red-600",children:a.value?a.name.includes("Secret")||a.name.includes("Password")?"••••••••":a.value:"Not configured"})]},a.name))})]},s.label))]})})]})})]}),e.jsxs("div",{className:"sticky bottom-6 bg-background/80 backdrop-blur-sm border border-border rounded-lg p-4 flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsxs("p",{children:["Last updated: ",te(t.updated_at)]})}),e.jsx("div",{className:"flex gap-3",children:e.jsx(u,{onClick:B,disabled:v,className:"gap-2",size:"lg",children:v?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 animate-spin"}),"Saving Changes..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-4 w-4"}),"Save All Settings"]})})})]})]})};export{Oe as default};
