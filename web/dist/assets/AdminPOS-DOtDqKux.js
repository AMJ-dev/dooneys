import{p as Vl,ao as Ht,F as Mp,aN as Bp,r as D,h as Hl,a6 as ln,j as s,m as en,u as Fp,v as Gl,B as J,X as ts,w as rs,d as Fr,T as ql,H,S as kl,g as Dp,J as is,P as Wp,x as Up,c as Kl,l as zp,i as Hp}from"./index-DrzvgQSx.js";import{C as ss,d as as,a as Gp,b as qp}from"./card-CSdj4VlM.js";import{D as ls,a as us,b as os,c as cs,f as fs}from"./dialog-B_H0D0bM.js";import{S as $l}from"./separator-DpYAwveS.js";import{S as kp,a as Kp,b as $p,c as Yp,d as Zp}from"./select-CeCrIOLN.js";import{L as Xp}from"./label-D6nqg-AK.js";import{T as Jp,a as Qp,b as Yl}from"./tabs-kkrfGa6s.js";import{B as Vp}from"./BarcodeScanner-BtlacBUn.js";import{C as Zl}from"./camera-D3qhaZ7q.js";import{S as eg}from"./scan-CVDoaV8-.js";import{I as ng}from"./info-Bi8M6cC4.js";import{F as tg}from"./filter-D38QoaQC.js";import{P as Dr}from"./plus-CdXz1Jo6.js";import{T as Xl}from"./trash-2-DF_8SWob.js";import{M as rg}from"./minus-BZn02uM1.js";import{C as Jl}from"./credit-card-B1BYDSKm.js";import{D as ig}from"./dollar-sign-CiHtqMiF.js";import{R as sg}from"./refresh-cw-B2nHbzn8.js";import{P as ds}from"./printer-BRFKyG0J.js";import{C as ag}from"./circle-check-big-Cc93Cm_Q.js";import"./index-BdQq_4o_.js";import"./index-DDpYfoMH.js";import"./chevron-up-DEDQgLDp.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Vl("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Vl("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);var Wr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Wr.exports;(function(Le,ve){(function(){var u,un="4.17.21",le=200,on="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",Fn="Invalid `variable` option passed into `_.template`",Nt="__lodash_hash_undefined__",bn=500,st="__lodash_placeholder__",_e=1,Q=2,Nn=4,Oe=1,Dn=2,K=1,Ke=2,$e=4,he=8,cn=16,we=32,P=64,Pe=128,ue=256,Wn=512,Gt=30,Ur="...",Un=800,jt=16,qt=1,kt=2,ye=3,be=1/0,Ne=9007199254740991,zr=17976931348623157e292,jn=NaN,Me=4294967295,at=Me-1,Hr=Me>>>1,Kt=[["ary",Pe],["bind",K],["bindKey",Ke],["curry",he],["curryRight",cn],["flip",Wn],["partial",we],["partialRight",P],["rearg",ue]],Cn="[object Arguments]",lt="[object Array]",Gr="[object AsyncFunction]",zn="[object Boolean]",fn="[object Date]",Hn="[object DOMException]",dn="[object Error]",Ye="[object Function]",Gn="[object GeneratorFunction]",je="[object Map]",Sn="[object Number]",qn="[object Null]",Be="[object Object]",$t="[object Promise]",Ct="[object Proxy]",kn="[object RegExp]",Ce="[object Set]",Kn="[object String]",ut="[object Symbol]",Yt="[object Undefined]",An="[object WeakMap]",m="[object WeakSet]",b="[object ArrayBuffer]",G="[object DataView]",oe="[object Float32Array]",Fe="[object Float64Array]",B="[object Int8Array]",tn="[object Int16Array]",$n="[object Int32Array]",St="[object Uint8Array]",Yn="[object Uint8ClampedArray]",Ze="[object Uint16Array]",Zn="[object Uint32Array]",eu=/\b__p \+= '';/g,nu=/\b(__p \+=) '' \+/g,tu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hs=/&(?:amp|lt|gt|quot|#39);/g,ms=/[&<>"']/g,ru=RegExp(hs.source),iu=RegExp(ms.source),su=/<%-([\s\S]+?)%>/g,au=/<%([\s\S]+?)%>/g,ps=/<%=([\s\S]+?)%>/g,lu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uu=/^\w*$/,ou=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qr=/[\\^$.*+?()[\]{}|]/g,cu=RegExp(qr.source),kr=/^\s+/,fu=/\s/,du=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hu=/\{\n\/\* \[wrapped with (.+)\] \*/,mu=/,? & /,pu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gu=/[()=,{}\[\]\/\s]/,xu=/\\(\\)?/g,vu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gs=/\w*$/,_u=/^[-+]0x[0-9a-f]+$/i,wu=/^0b[01]+$/i,yu=/^\[object .+?Constructor\]$/,bu=/^0o[0-7]+$/i,Nu=/^(?:0|[1-9]\d*)$/,ju=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zt=/($^)/,Cu=/['\n\r\u2028\u2029\\]/g,Xt="\\ud800-\\udfff",Su="\\u0300-\\u036f",Au="\\ufe20-\\ufe2f",Tu="\\u20d0-\\u20ff",xs=Su+Au+Tu,vs="\\u2700-\\u27bf",_s="a-z\\xdf-\\xf6\\xf8-\\xff",Ru="\\xac\\xb1\\xd7\\xf7",Iu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Eu="\\u2000-\\u206f",Lu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ws="A-Z\\xc0-\\xd6\\xd8-\\xde",ys="\\ufe0e\\ufe0f",bs=Ru+Iu+Eu+Lu,Kr="['’]",Ou="["+Xt+"]",Ns="["+bs+"]",Jt="["+xs+"]",js="\\d+",Pu="["+vs+"]",Cs="["+_s+"]",Ss="[^"+Xt+bs+js+vs+_s+ws+"]",$r="\\ud83c[\\udffb-\\udfff]",Mu="(?:"+Jt+"|"+$r+")",As="[^"+Xt+"]",Yr="(?:\\ud83c[\\udde6-\\uddff]){2}",Zr="[\\ud800-\\udbff][\\udc00-\\udfff]",ot="["+ws+"]",Ts="\\u200d",Rs="(?:"+Cs+"|"+Ss+")",Bu="(?:"+ot+"|"+Ss+")",Is="(?:"+Kr+"(?:d|ll|m|re|s|t|ve))?",Es="(?:"+Kr+"(?:D|LL|M|RE|S|T|VE))?",Ls=Mu+"?",Os="["+ys+"]?",Fu="(?:"+Ts+"(?:"+[As,Yr,Zr].join("|")+")"+Os+Ls+")*",Du="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ps=Os+Ls+Fu,Uu="(?:"+[Pu,Yr,Zr].join("|")+")"+Ps,zu="(?:"+[As+Jt+"?",Jt,Yr,Zr,Ou].join("|")+")",Hu=RegExp(Kr,"g"),Gu=RegExp(Jt,"g"),Xr=RegExp($r+"(?="+$r+")|"+zu+Ps,"g"),qu=RegExp([ot+"?"+Cs+"+"+Is+"(?="+[Ns,ot,"$"].join("|")+")",Bu+"+"+Es+"(?="+[Ns,ot+Rs,"$"].join("|")+")",ot+"?"+Rs+"+"+Is,ot+"+"+Es,Wu,Du,js,Uu].join("|"),"g"),ku=RegExp("["+Ts+Xt+xs+ys+"]"),Ku=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$u=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yu=-1,q={};q[oe]=q[Fe]=q[B]=q[tn]=q[$n]=q[St]=q[Yn]=q[Ze]=q[Zn]=!0,q[Cn]=q[lt]=q[b]=q[zn]=q[G]=q[fn]=q[dn]=q[Ye]=q[je]=q[Sn]=q[Be]=q[kn]=q[Ce]=q[Kn]=q[An]=!1;var z={};z[Cn]=z[lt]=z[b]=z[G]=z[zn]=z[fn]=z[oe]=z[Fe]=z[B]=z[tn]=z[$n]=z[je]=z[Sn]=z[Be]=z[kn]=z[Ce]=z[Kn]=z[ut]=z[St]=z[Yn]=z[Ze]=z[Zn]=!0,z[dn]=z[Ye]=z[An]=!1;var Zu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Xu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ju={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vu=parseFloat,eo=parseInt,Ms=typeof Ht=="object"&&Ht&&Ht.Object===Object&&Ht,no=typeof self=="object"&&self&&self.Object===Object&&self,te=Ms||no||Function("return this")(),Jr=ve&&!ve.nodeType&&ve,Xn=Jr&&!0&&Le&&!Le.nodeType&&Le,Bs=Xn&&Xn.exports===Jr,Qr=Bs&&Ms.process,De=function(){try{var f=Xn&&Xn.require&&Xn.require("util").types;return f||Qr&&Qr.binding&&Qr.binding("util")}catch{}}(),Fs=De&&De.isArrayBuffer,Ds=De&&De.isDate,Ws=De&&De.isMap,Us=De&&De.isRegExp,zs=De&&De.isSet,Hs=De&&De.isTypedArray;function Se(f,p,h){switch(h.length){case 0:return f.call(p);case 1:return f.call(p,h[0]);case 2:return f.call(p,h[0],h[1]);case 3:return f.call(p,h[0],h[1],h[2])}return f.apply(p,h)}function to(f,p,h,w){for(var S=-1,M=f==null?0:f.length;++S<M;){var V=f[S];p(w,V,h(V),f)}return w}function We(f,p){for(var h=-1,w=f==null?0:f.length;++h<w&&p(f[h],h,f)!==!1;);return f}function ro(f,p){for(var h=f==null?0:f.length;h--&&p(f[h],h,f)!==!1;);return f}function Gs(f,p){for(var h=-1,w=f==null?0:f.length;++h<w;)if(!p(f[h],h,f))return!1;return!0}function Tn(f,p){for(var h=-1,w=f==null?0:f.length,S=0,M=[];++h<w;){var V=f[h];p(V,h,f)&&(M[S++]=V)}return M}function Qt(f,p){var h=f==null?0:f.length;return!!h&&ct(f,p,0)>-1}function Vr(f,p,h){for(var w=-1,S=f==null?0:f.length;++w<S;)if(h(p,f[w]))return!0;return!1}function k(f,p){for(var h=-1,w=f==null?0:f.length,S=Array(w);++h<w;)S[h]=p(f[h],h,f);return S}function Rn(f,p){for(var h=-1,w=p.length,S=f.length;++h<w;)f[S+h]=p[h];return f}function ei(f,p,h,w){var S=-1,M=f==null?0:f.length;for(w&&M&&(h=f[++S]);++S<M;)h=p(h,f[S],S,f);return h}function io(f,p,h,w){var S=f==null?0:f.length;for(w&&S&&(h=f[--S]);S--;)h=p(h,f[S],S,f);return h}function ni(f,p){for(var h=-1,w=f==null?0:f.length;++h<w;)if(p(f[h],h,f))return!0;return!1}var so=ti("length");function ao(f){return f.split("")}function lo(f){return f.match(pu)||[]}function qs(f,p,h){var w;return h(f,function(S,M,V){if(p(S,M,V))return w=M,!1}),w}function Vt(f,p,h,w){for(var S=f.length,M=h+(w?1:-1);w?M--:++M<S;)if(p(f[M],M,f))return M;return-1}function ct(f,p,h){return p===p?wo(f,p,h):Vt(f,ks,h)}function uo(f,p,h,w){for(var S=h-1,M=f.length;++S<M;)if(w(f[S],p))return S;return-1}function ks(f){return f!==f}function Ks(f,p){var h=f==null?0:f.length;return h?ii(f,p)/h:jn}function ti(f){return function(p){return p==null?u:p[f]}}function ri(f){return function(p){return f==null?u:f[p]}}function $s(f,p,h,w,S){return S(f,function(M,V,U){h=w?(w=!1,M):p(h,M,V,U)}),h}function oo(f,p){var h=f.length;for(f.sort(p);h--;)f[h]=f[h].value;return f}function ii(f,p){for(var h,w=-1,S=f.length;++w<S;){var M=p(f[w]);M!==u&&(h=h===u?M:h+M)}return h}function si(f,p){for(var h=-1,w=Array(f);++h<f;)w[h]=p(h);return w}function co(f,p){return k(p,function(h){return[h,f[h]]})}function Ys(f){return f&&f.slice(0,Qs(f)+1).replace(kr,"")}function Ae(f){return function(p){return f(p)}}function ai(f,p){return k(p,function(h){return f[h]})}function At(f,p){return f.has(p)}function Zs(f,p){for(var h=-1,w=f.length;++h<w&&ct(p,f[h],0)>-1;);return h}function Xs(f,p){for(var h=f.length;h--&&ct(p,f[h],0)>-1;);return h}function fo(f,p){for(var h=f.length,w=0;h--;)f[h]===p&&++w;return w}var ho=ri(Zu),mo=ri(Xu);function po(f){return"\\"+Qu[f]}function go(f,p){return f==null?u:f[p]}function ft(f){return ku.test(f)}function xo(f){return Ku.test(f)}function vo(f){for(var p,h=[];!(p=f.next()).done;)h.push(p.value);return h}function li(f){var p=-1,h=Array(f.size);return f.forEach(function(w,S){h[++p]=[S,w]}),h}function Js(f,p){return function(h){return f(p(h))}}function In(f,p){for(var h=-1,w=f.length,S=0,M=[];++h<w;){var V=f[h];(V===p||V===st)&&(f[h]=st,M[S++]=h)}return M}function er(f){var p=-1,h=Array(f.size);return f.forEach(function(w){h[++p]=w}),h}function _o(f){var p=-1,h=Array(f.size);return f.forEach(function(w){h[++p]=[w,w]}),h}function wo(f,p,h){for(var w=h-1,S=f.length;++w<S;)if(f[w]===p)return w;return-1}function yo(f,p,h){for(var w=h+1;w--;)if(f[w]===p)return w;return w}function dt(f){return ft(f)?No(f):so(f)}function Xe(f){return ft(f)?jo(f):ao(f)}function Qs(f){for(var p=f.length;p--&&fu.test(f.charAt(p)););return p}var bo=ri(Ju);function No(f){for(var p=Xr.lastIndex=0;Xr.test(f);)++p;return p}function jo(f){return f.match(Xr)||[]}function Co(f){return f.match(qu)||[]}var So=function f(p){p=p==null?te:ht.defaults(te.Object(),p,ht.pick(te,$u));var h=p.Array,w=p.Date,S=p.Error,M=p.Function,V=p.Math,U=p.Object,ui=p.RegExp,Ao=p.String,Ue=p.TypeError,nr=h.prototype,To=M.prototype,mt=U.prototype,tr=p["__core-js_shared__"],rr=To.toString,W=mt.hasOwnProperty,Ro=0,Vs=function(){var e=/[^.]+$/.exec(tr&&tr.keys&&tr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ir=mt.toString,Io=rr.call(U),Eo=te._,Lo=ui("^"+rr.call(W).replace(qr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sr=Bs?p.Buffer:u,En=p.Symbol,ar=p.Uint8Array,ea=sr?sr.allocUnsafe:u,lr=Js(U.getPrototypeOf,U),na=U.create,ta=mt.propertyIsEnumerable,ur=nr.splice,ra=En?En.isConcatSpreadable:u,Tt=En?En.iterator:u,Jn=En?En.toStringTag:u,or=function(){try{var e=tt(U,"defineProperty");return e({},"",{}),e}catch{}}(),Oo=p.clearTimeout!==te.clearTimeout&&p.clearTimeout,Po=w&&w.now!==te.Date.now&&w.now,Mo=p.setTimeout!==te.setTimeout&&p.setTimeout,cr=V.ceil,fr=V.floor,oi=U.getOwnPropertySymbols,Bo=sr?sr.isBuffer:u,ia=p.isFinite,Fo=nr.join,Do=Js(U.keys,U),ee=V.max,se=V.min,Wo=w.now,Uo=p.parseInt,sa=V.random,zo=nr.reverse,ci=tt(p,"DataView"),Rt=tt(p,"Map"),fi=tt(p,"Promise"),pt=tt(p,"Set"),It=tt(p,"WeakMap"),Et=tt(U,"create"),dr=It&&new It,gt={},Ho=rt(ci),Go=rt(Rt),qo=rt(fi),ko=rt(pt),Ko=rt(It),hr=En?En.prototype:u,Lt=hr?hr.valueOf:u,aa=hr?hr.toString:u;function a(e){if(Y(e)&&!A(e)&&!(e instanceof L)){if(e instanceof ze)return e;if(W.call(e,"__wrapped__"))return ll(e)}return new ze(e)}var xt=function(){function e(){}return function(n){if(!$(n))return{};if(na)return na(n);e.prototype=n;var t=new e;return e.prototype=u,t}}();function mr(){}function ze(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=u}a.templateSettings={escape:su,evaluate:au,interpolate:ps,variable:"",imports:{_:a}},a.prototype=mr.prototype,a.prototype.constructor=a,ze.prototype=xt(mr.prototype),ze.prototype.constructor=ze;function L(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Me,this.__views__=[]}function $o(){var e=new L(this.__wrapped__);return e.__actions__=me(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=me(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=me(this.__views__),e}function Yo(){if(this.__filtered__){var e=new L(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Zo(){var e=this.__wrapped__.value(),n=this.__dir__,t=A(e),r=n<0,i=t?e.length:0,l=uf(0,i,this.__views__),o=l.start,c=l.end,d=c-o,g=r?c:o-1,x=this.__iteratees__,v=x.length,_=0,y=se(d,this.__takeCount__);if(!t||!r&&i==d&&y==d)return Ia(e,this.__actions__);var j=[];e:for(;d--&&_<y;){g+=n;for(var R=-1,C=e[g];++R<v;){var E=x[R],O=E.iteratee,Ie=E.type,de=O(C);if(Ie==kt)C=de;else if(!de){if(Ie==qt)continue e;break e}}j[_++]=C}return j}L.prototype=xt(mr.prototype),L.prototype.constructor=L;function Qn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Xo(){this.__data__=Et?Et(null):{},this.size=0}function Jo(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Qo(e){var n=this.__data__;if(Et){var t=n[e];return t===Nt?u:t}return W.call(n,e)?n[e]:u}function Vo(e){var n=this.__data__;return Et?n[e]!==u:W.call(n,e)}function ec(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Et&&n===u?Nt:n,this}Qn.prototype.clear=Xo,Qn.prototype.delete=Jo,Qn.prototype.get=Qo,Qn.prototype.has=Vo,Qn.prototype.set=ec;function hn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function nc(){this.__data__=[],this.size=0}function tc(e){var n=this.__data__,t=pr(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():ur.call(n,t,1),--this.size,!0}function rc(e){var n=this.__data__,t=pr(n,e);return t<0?u:n[t][1]}function ic(e){return pr(this.__data__,e)>-1}function sc(e,n){var t=this.__data__,r=pr(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}hn.prototype.clear=nc,hn.prototype.delete=tc,hn.prototype.get=rc,hn.prototype.has=ic,hn.prototype.set=sc;function mn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function ac(){this.size=0,this.__data__={hash:new Qn,map:new(Rt||hn),string:new Qn}}function lc(e){var n=Ar(this,e).delete(e);return this.size-=n?1:0,n}function uc(e){return Ar(this,e).get(e)}function oc(e){return Ar(this,e).has(e)}function cc(e,n){var t=Ar(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}mn.prototype.clear=ac,mn.prototype.delete=lc,mn.prototype.get=uc,mn.prototype.has=oc,mn.prototype.set=cc;function Vn(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new mn;++n<t;)this.add(e[n])}function fc(e){return this.__data__.set(e,Nt),this}function dc(e){return this.__data__.has(e)}Vn.prototype.add=Vn.prototype.push=fc,Vn.prototype.has=dc;function Je(e){var n=this.__data__=new hn(e);this.size=n.size}function hc(){this.__data__=new hn,this.size=0}function mc(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function pc(e){return this.__data__.get(e)}function gc(e){return this.__data__.has(e)}function xc(e,n){var t=this.__data__;if(t instanceof hn){var r=t.__data__;if(!Rt||r.length<le-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new mn(r)}return t.set(e,n),this.size=t.size,this}Je.prototype.clear=hc,Je.prototype.delete=mc,Je.prototype.get=pc,Je.prototype.has=gc,Je.prototype.set=xc;function la(e,n){var t=A(e),r=!t&&it(e),i=!t&&!r&&Bn(e),l=!t&&!r&&!i&&yt(e),o=t||r||i||l,c=o?si(e.length,Ao):[],d=c.length;for(var g in e)(n||W.call(e,g))&&!(o&&(g=="length"||i&&(g=="offset"||g=="parent")||l&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||vn(g,d)))&&c.push(g);return c}function ua(e){var n=e.length;return n?e[bi(0,n-1)]:u}function vc(e,n){return Tr(me(e),et(n,0,e.length))}function _c(e){return Tr(me(e))}function di(e,n,t){(t!==u&&!Qe(e[n],t)||t===u&&!(n in e))&&pn(e,n,t)}function Ot(e,n,t){var r=e[n];(!(W.call(e,n)&&Qe(r,t))||t===u&&!(n in e))&&pn(e,n,t)}function pr(e,n){for(var t=e.length;t--;)if(Qe(e[t][0],n))return t;return-1}function wc(e,n,t,r){return Ln(e,function(i,l,o){n(r,i,t(i),o)}),r}function oa(e,n){return e&&sn(n,ne(n),e)}function yc(e,n){return e&&sn(n,ge(n),e)}function pn(e,n,t){n=="__proto__"&&or?or(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function hi(e,n){for(var t=-1,r=n.length,i=h(r),l=e==null;++t<r;)i[t]=l?u:$i(e,n[t]);return i}function et(e,n,t){return e===e&&(t!==u&&(e=e<=t?e:t),n!==u&&(e=e>=n?e:n)),e}function He(e,n,t,r,i,l){var o,c=n&_e,d=n&Q,g=n&Nn;if(t&&(o=i?t(e,r,i,l):t(e)),o!==u)return o;if(!$(e))return e;var x=A(e);if(x){if(o=cf(e),!c)return me(e,o)}else{var v=ae(e),_=v==Ye||v==Gn;if(Bn(e))return Oa(e,c);if(v==Be||v==Cn||_&&!i){if(o=d||_?{}:Qa(e),!c)return d?Qc(e,yc(o,e)):Jc(e,oa(o,e))}else{if(!z[v])return i?e:{};o=ff(e,v,c)}}l||(l=new Je);var y=l.get(e);if(y)return y;l.set(e,o),Al(e)?e.forEach(function(C){o.add(He(C,n,t,C,e,l))}):Cl(e)&&e.forEach(function(C,E){o.set(E,He(C,n,t,E,e,l))});var j=g?d?Oi:Li:d?ge:ne,R=x?u:j(e);return We(R||e,function(C,E){R&&(E=C,C=e[E]),Ot(o,E,He(C,n,t,E,e,l))}),o}function bc(e){var n=ne(e);return function(t){return ca(t,e,n)}}function ca(e,n,t){var r=t.length;if(e==null)return!r;for(e=U(e);r--;){var i=t[r],l=n[i],o=e[i];if(o===u&&!(i in e)||!l(o))return!1}return!0}function fa(e,n,t){if(typeof e!="function")throw new Ue(ie);return Ut(function(){e.apply(u,t)},n)}function Pt(e,n,t,r){var i=-1,l=Qt,o=!0,c=e.length,d=[],g=n.length;if(!c)return d;t&&(n=k(n,Ae(t))),r?(l=Vr,o=!1):n.length>=le&&(l=At,o=!1,n=new Vn(n));e:for(;++i<c;){var x=e[i],v=t==null?x:t(x);if(x=r||x!==0?x:0,o&&v===v){for(var _=g;_--;)if(n[_]===v)continue e;d.push(x)}else l(n,v,r)||d.push(x)}return d}var Ln=Da(rn),da=Da(pi,!0);function Nc(e,n){var t=!0;return Ln(e,function(r,i,l){return t=!!n(r,i,l),t}),t}function gr(e,n,t){for(var r=-1,i=e.length;++r<i;){var l=e[r],o=n(l);if(o!=null&&(c===u?o===o&&!Re(o):t(o,c)))var c=o,d=l}return d}function jc(e,n,t,r){var i=e.length;for(t=T(t),t<0&&(t=-t>i?0:i+t),r=r===u||r>i?i:T(r),r<0&&(r+=i),r=t>r?0:Rl(r);t<r;)e[t++]=n;return e}function ha(e,n){var t=[];return Ln(e,function(r,i,l){n(r,i,l)&&t.push(r)}),t}function re(e,n,t,r,i){var l=-1,o=e.length;for(t||(t=hf),i||(i=[]);++l<o;){var c=e[l];n>0&&t(c)?n>1?re(c,n-1,t,r,i):Rn(i,c):r||(i[i.length]=c)}return i}var mi=Wa(),ma=Wa(!0);function rn(e,n){return e&&mi(e,n,ne)}function pi(e,n){return e&&ma(e,n,ne)}function xr(e,n){return Tn(n,function(t){return _n(e[t])})}function nt(e,n){n=Pn(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[an(n[t++])];return t&&t==r?e:u}function pa(e,n,t){var r=n(e);return A(e)?r:Rn(r,t(e))}function ce(e){return e==null?e===u?Yt:qn:Jn&&Jn in U(e)?lf(e):wf(e)}function gi(e,n){return e>n}function Cc(e,n){return e!=null&&W.call(e,n)}function Sc(e,n){return e!=null&&n in U(e)}function Ac(e,n,t){return e>=se(n,t)&&e<ee(n,t)}function xi(e,n,t){for(var r=t?Vr:Qt,i=e[0].length,l=e.length,o=l,c=h(l),d=1/0,g=[];o--;){var x=e[o];o&&n&&(x=k(x,Ae(n))),d=se(x.length,d),c[o]=!t&&(n||i>=120&&x.length>=120)?new Vn(o&&x):u}x=e[0];var v=-1,_=c[0];e:for(;++v<i&&g.length<d;){var y=x[v],j=n?n(y):y;if(y=t||y!==0?y:0,!(_?At(_,j):r(g,j,t))){for(o=l;--o;){var R=c[o];if(!(R?At(R,j):r(e[o],j,t)))continue e}_&&_.push(j),g.push(y)}}return g}function Tc(e,n,t,r){return rn(e,function(i,l,o){n(r,t(i),l,o)}),r}function Mt(e,n,t){n=Pn(n,e),e=tl(e,n);var r=e==null?e:e[an(qe(n))];return r==null?u:Se(r,e,t)}function ga(e){return Y(e)&&ce(e)==Cn}function Rc(e){return Y(e)&&ce(e)==b}function Ic(e){return Y(e)&&ce(e)==fn}function Bt(e,n,t,r,i){return e===n?!0:e==null||n==null||!Y(e)&&!Y(n)?e!==e&&n!==n:Ec(e,n,t,r,Bt,i)}function Ec(e,n,t,r,i,l){var o=A(e),c=A(n),d=o?lt:ae(e),g=c?lt:ae(n);d=d==Cn?Be:d,g=g==Cn?Be:g;var x=d==Be,v=g==Be,_=d==g;if(_&&Bn(e)){if(!Bn(n))return!1;o=!0,x=!1}if(_&&!x)return l||(l=new Je),o||yt(e)?Za(e,n,t,r,i,l):sf(e,n,d,t,r,i,l);if(!(t&Oe)){var y=x&&W.call(e,"__wrapped__"),j=v&&W.call(n,"__wrapped__");if(y||j){var R=y?e.value():e,C=j?n.value():n;return l||(l=new Je),i(R,C,t,r,l)}}return _?(l||(l=new Je),af(e,n,t,r,i,l)):!1}function Lc(e){return Y(e)&&ae(e)==je}function vi(e,n,t,r){var i=t.length,l=i,o=!r;if(e==null)return!l;for(e=U(e);i--;){var c=t[i];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<l;){c=t[i];var d=c[0],g=e[d],x=c[1];if(o&&c[2]){if(g===u&&!(d in e))return!1}else{var v=new Je;if(r)var _=r(g,x,d,e,n,v);if(!(_===u?Bt(x,g,Oe|Dn,r,v):_))return!1}}return!0}function xa(e){if(!$(e)||pf(e))return!1;var n=_n(e)?Lo:yu;return n.test(rt(e))}function Oc(e){return Y(e)&&ce(e)==kn}function Pc(e){return Y(e)&&ae(e)==Ce}function Mc(e){return Y(e)&&Pr(e.length)&&!!q[ce(e)]}function va(e){return typeof e=="function"?e:e==null?xe:typeof e=="object"?A(e)?ya(e[0],e[1]):wa(e):Ul(e)}function _i(e){if(!Wt(e))return Do(e);var n=[];for(var t in U(e))W.call(e,t)&&t!="constructor"&&n.push(t);return n}function Bc(e){if(!$(e))return _f(e);var n=Wt(e),t=[];for(var r in e)r=="constructor"&&(n||!W.call(e,r))||t.push(r);return t}function wi(e,n){return e<n}function _a(e,n){var t=-1,r=pe(e)?h(e.length):[];return Ln(e,function(i,l,o){r[++t]=n(i,l,o)}),r}function wa(e){var n=Mi(e);return n.length==1&&n[0][2]?el(n[0][0],n[0][1]):function(t){return t===e||vi(t,e,n)}}function ya(e,n){return Fi(e)&&Va(n)?el(an(e),n):function(t){var r=$i(t,e);return r===u&&r===n?Yi(t,e):Bt(n,r,Oe|Dn)}}function vr(e,n,t,r,i){e!==n&&mi(n,function(l,o){if(i||(i=new Je),$(l))Fc(e,n,o,t,vr,r,i);else{var c=r?r(Wi(e,o),l,o+"",e,n,i):u;c===u&&(c=l),di(e,o,c)}},ge)}function Fc(e,n,t,r,i,l,o){var c=Wi(e,t),d=Wi(n,t),g=o.get(d);if(g){di(e,t,g);return}var x=l?l(c,d,t+"",e,n,o):u,v=x===u;if(v){var _=A(d),y=!_&&Bn(d),j=!_&&!y&&yt(d);x=d,_||y||j?A(c)?x=c:Z(c)?x=me(c):y?(v=!1,x=Oa(d,!0)):j?(v=!1,x=Pa(d,!0)):x=[]:zt(d)||it(d)?(x=c,it(c)?x=Il(c):(!$(c)||_n(c))&&(x=Qa(d))):v=!1}v&&(o.set(d,x),i(x,d,r,l,o),o.delete(d)),di(e,t,x)}function ba(e,n){var t=e.length;if(t)return n+=n<0?t:0,vn(n,t)?e[n]:u}function Na(e,n,t){n.length?n=k(n,function(l){return A(l)?function(o){return nt(o,l.length===1?l[0]:l)}:l}):n=[xe];var r=-1;n=k(n,Ae(N()));var i=_a(e,function(l,o,c){var d=k(n,function(g){return g(l)});return{criteria:d,index:++r,value:l}});return oo(i,function(l,o){return Xc(l,o,t)})}function Dc(e,n){return ja(e,n,function(t,r){return Yi(e,r)})}function ja(e,n,t){for(var r=-1,i=n.length,l={};++r<i;){var o=n[r],c=nt(e,o);t(c,o)&&Ft(l,Pn(o,e),c)}return l}function Wc(e){return function(n){return nt(n,e)}}function yi(e,n,t,r){var i=r?uo:ct,l=-1,o=n.length,c=e;for(e===n&&(n=me(n)),t&&(c=k(e,Ae(t)));++l<o;)for(var d=0,g=n[l],x=t?t(g):g;(d=i(c,x,d,r))>-1;)c!==e&&ur.call(c,d,1),ur.call(e,d,1);return e}function Ca(e,n){for(var t=e?n.length:0,r=t-1;t--;){var i=n[t];if(t==r||i!==l){var l=i;vn(i)?ur.call(e,i,1):Ci(e,i)}}return e}function bi(e,n){return e+fr(sa()*(n-e+1))}function Uc(e,n,t,r){for(var i=-1,l=ee(cr((n-e)/(t||1)),0),o=h(l);l--;)o[r?l:++i]=e,e+=t;return o}function Ni(e,n){var t="";if(!e||n<1||n>Ne)return t;do n%2&&(t+=e),n=fr(n/2),n&&(e+=e);while(n);return t}function I(e,n){return Ui(nl(e,n,xe),e+"")}function zc(e){return ua(bt(e))}function Hc(e,n){var t=bt(e);return Tr(t,et(n,0,t.length))}function Ft(e,n,t,r){if(!$(e))return e;n=Pn(n,e);for(var i=-1,l=n.length,o=l-1,c=e;c!=null&&++i<l;){var d=an(n[i]),g=t;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=o){var x=c[d];g=r?r(x,d,c):u,g===u&&(g=$(x)?x:vn(n[i+1])?[]:{})}Ot(c,d,g),c=c[d]}return e}var Sa=dr?function(e,n){return dr.set(e,n),e}:xe,Gc=or?function(e,n){return or(e,"toString",{configurable:!0,enumerable:!1,value:Xi(n),writable:!0})}:xe;function qc(e){return Tr(bt(e))}function Ge(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var l=h(i);++r<i;)l[r]=e[r+n];return l}function kc(e,n){var t;return Ln(e,function(r,i,l){return t=n(r,i,l),!t}),!!t}function _r(e,n,t){var r=0,i=e==null?r:e.length;if(typeof n=="number"&&n===n&&i<=Hr){for(;r<i;){var l=r+i>>>1,o=e[l];o!==null&&!Re(o)&&(t?o<=n:o<n)?r=l+1:i=l}return i}return ji(e,n,xe,t)}function ji(e,n,t,r){var i=0,l=e==null?0:e.length;if(l===0)return 0;n=t(n);for(var o=n!==n,c=n===null,d=Re(n),g=n===u;i<l;){var x=fr((i+l)/2),v=t(e[x]),_=v!==u,y=v===null,j=v===v,R=Re(v);if(o)var C=r||j;else g?C=j&&(r||_):c?C=j&&_&&(r||!y):d?C=j&&_&&!y&&(r||!R):y||R?C=!1:C=r?v<=n:v<n;C?i=x+1:l=x}return se(l,at)}function Aa(e,n){for(var t=-1,r=e.length,i=0,l=[];++t<r;){var o=e[t],c=n?n(o):o;if(!t||!Qe(c,d)){var d=c;l[i++]=o===0?0:o}}return l}function Ta(e){return typeof e=="number"?e:Re(e)?jn:+e}function Te(e){if(typeof e=="string")return e;if(A(e))return k(e,Te)+"";if(Re(e))return aa?aa.call(e):"";var n=e+"";return n=="0"&&1/e==-be?"-0":n}function On(e,n,t){var r=-1,i=Qt,l=e.length,o=!0,c=[],d=c;if(t)o=!1,i=Vr;else if(l>=le){var g=n?null:tf(e);if(g)return er(g);o=!1,i=At,d=new Vn}else d=n?[]:c;e:for(;++r<l;){var x=e[r],v=n?n(x):x;if(x=t||x!==0?x:0,o&&v===v){for(var _=d.length;_--;)if(d[_]===v)continue e;n&&d.push(v),c.push(x)}else i(d,v,t)||(d!==c&&d.push(v),c.push(x))}return c}function Ci(e,n){return n=Pn(n,e),e=tl(e,n),e==null||delete e[an(qe(n))]}function Ra(e,n,t,r){return Ft(e,n,t(nt(e,n)),r)}function wr(e,n,t,r){for(var i=e.length,l=r?i:-1;(r?l--:++l<i)&&n(e[l],l,e););return t?Ge(e,r?0:l,r?l+1:i):Ge(e,r?l+1:0,r?i:l)}function Ia(e,n){var t=e;return t instanceof L&&(t=t.value()),ei(n,function(r,i){return i.func.apply(i.thisArg,Rn([r],i.args))},t)}function Si(e,n,t){var r=e.length;if(r<2)return r?On(e[0]):[];for(var i=-1,l=h(r);++i<r;)for(var o=e[i],c=-1;++c<r;)c!=i&&(l[i]=Pt(l[i]||o,e[c],n,t));return On(re(l,1),n,t)}function Ea(e,n,t){for(var r=-1,i=e.length,l=n.length,o={};++r<i;){var c=r<l?n[r]:u;t(o,e[r],c)}return o}function Ai(e){return Z(e)?e:[]}function Ti(e){return typeof e=="function"?e:xe}function Pn(e,n){return A(e)?e:Fi(e,n)?[e]:al(F(e))}var Kc=I;function Mn(e,n,t){var r=e.length;return t=t===u?r:t,!n&&t>=r?e:Ge(e,n,t)}var La=Oo||function(e){return te.clearTimeout(e)};function Oa(e,n){if(n)return e.slice();var t=e.length,r=ea?ea(t):new e.constructor(t);return e.copy(r),r}function Ri(e){var n=new e.constructor(e.byteLength);return new ar(n).set(new ar(e)),n}function $c(e,n){var t=n?Ri(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function Yc(e){var n=new e.constructor(e.source,gs.exec(e));return n.lastIndex=e.lastIndex,n}function Zc(e){return Lt?U(Lt.call(e)):{}}function Pa(e,n){var t=n?Ri(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function Ma(e,n){if(e!==n){var t=e!==u,r=e===null,i=e===e,l=Re(e),o=n!==u,c=n===null,d=n===n,g=Re(n);if(!c&&!g&&!l&&e>n||l&&o&&d&&!c&&!g||r&&o&&d||!t&&d||!i)return 1;if(!r&&!l&&!g&&e<n||g&&t&&i&&!r&&!l||c&&t&&i||!o&&i||!d)return-1}return 0}function Xc(e,n,t){for(var r=-1,i=e.criteria,l=n.criteria,o=i.length,c=t.length;++r<o;){var d=Ma(i[r],l[r]);if(d){if(r>=c)return d;var g=t[r];return d*(g=="desc"?-1:1)}}return e.index-n.index}function Ba(e,n,t,r){for(var i=-1,l=e.length,o=t.length,c=-1,d=n.length,g=ee(l-o,0),x=h(d+g),v=!r;++c<d;)x[c]=n[c];for(;++i<o;)(v||i<l)&&(x[t[i]]=e[i]);for(;g--;)x[c++]=e[i++];return x}function Fa(e,n,t,r){for(var i=-1,l=e.length,o=-1,c=t.length,d=-1,g=n.length,x=ee(l-c,0),v=h(x+g),_=!r;++i<x;)v[i]=e[i];for(var y=i;++d<g;)v[y+d]=n[d];for(;++o<c;)(_||i<l)&&(v[y+t[o]]=e[i++]);return v}function me(e,n){var t=-1,r=e.length;for(n||(n=h(r));++t<r;)n[t]=e[t];return n}function sn(e,n,t,r){var i=!t;t||(t={});for(var l=-1,o=n.length;++l<o;){var c=n[l],d=r?r(t[c],e[c],c,t,e):u;d===u&&(d=e[c]),i?pn(t,c,d):Ot(t,c,d)}return t}function Jc(e,n){return sn(e,Bi(e),n)}function Qc(e,n){return sn(e,Xa(e),n)}function yr(e,n){return function(t,r){var i=A(t)?to:wc,l=n?n():{};return i(t,e,N(r,2),l)}}function vt(e){return I(function(n,t){var r=-1,i=t.length,l=i>1?t[i-1]:u,o=i>2?t[2]:u;for(l=e.length>3&&typeof l=="function"?(i--,l):u,o&&fe(t[0],t[1],o)&&(l=i<3?u:l,i=1),n=U(n);++r<i;){var c=t[r];c&&e(n,c,r,l)}return n})}function Da(e,n){return function(t,r){if(t==null)return t;if(!pe(t))return e(t,r);for(var i=t.length,l=n?i:-1,o=U(t);(n?l--:++l<i)&&r(o[l],l,o)!==!1;);return t}}function Wa(e){return function(n,t,r){for(var i=-1,l=U(n),o=r(n),c=o.length;c--;){var d=o[e?c:++i];if(t(l[d],d,l)===!1)break}return n}}function Vc(e,n,t){var r=n&K,i=Dt(e);function l(){var o=this&&this!==te&&this instanceof l?i:e;return o.apply(r?t:this,arguments)}return l}function Ua(e){return function(n){n=F(n);var t=ft(n)?Xe(n):u,r=t?t[0]:n.charAt(0),i=t?Mn(t,1).join(""):n.slice(1);return r[e]()+i}}function _t(e){return function(n){return ei(Dl(Fl(n).replace(Hu,"")),e,"")}}function Dt(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=xt(e.prototype),r=e.apply(t,n);return $(r)?r:t}}function ef(e,n,t){var r=Dt(e);function i(){for(var l=arguments.length,o=h(l),c=l,d=wt(i);c--;)o[c]=arguments[c];var g=l<3&&o[0]!==d&&o[l-1]!==d?[]:In(o,d);if(l-=g.length,l<t)return ka(e,n,br,i.placeholder,u,o,g,u,u,t-l);var x=this&&this!==te&&this instanceof i?r:e;return Se(x,this,o)}return i}function za(e){return function(n,t,r){var i=U(n);if(!pe(n)){var l=N(t,3);n=ne(n),t=function(c){return l(i[c],c,i)}}var o=e(n,t,r);return o>-1?i[l?n[o]:o]:u}}function Ha(e){return xn(function(n){var t=n.length,r=t,i=ze.prototype.thru;for(e&&n.reverse();r--;){var l=n[r];if(typeof l!="function")throw new Ue(ie);if(i&&!o&&Sr(l)=="wrapper")var o=new ze([],!0)}for(r=o?r:t;++r<t;){l=n[r];var c=Sr(l),d=c=="wrapper"?Pi(l):u;d&&Di(d[0])&&d[1]==(Pe|he|we|ue)&&!d[4].length&&d[9]==1?o=o[Sr(d[0])].apply(o,d[3]):o=l.length==1&&Di(l)?o[c]():o.thru(l)}return function(){var g=arguments,x=g[0];if(o&&g.length==1&&A(x))return o.plant(x).value();for(var v=0,_=t?n[v].apply(this,g):x;++v<t;)_=n[v].call(this,_);return _}})}function br(e,n,t,r,i,l,o,c,d,g){var x=n&Pe,v=n&K,_=n&Ke,y=n&(he|cn),j=n&Wn,R=_?u:Dt(e);function C(){for(var E=arguments.length,O=h(E),Ie=E;Ie--;)O[Ie]=arguments[Ie];if(y)var de=wt(C),Ee=fo(O,de);if(r&&(O=Ba(O,r,i,y)),l&&(O=Fa(O,l,o,y)),E-=Ee,y&&E<g){var X=In(O,de);return ka(e,n,br,C.placeholder,t,O,X,c,d,g-E)}var Ve=v?t:this,yn=_?Ve[e]:e;return E=O.length,c?O=yf(O,c):j&&E>1&&O.reverse(),x&&d<E&&(O.length=d),this&&this!==te&&this instanceof C&&(yn=R||Dt(yn)),yn.apply(Ve,O)}return C}function Ga(e,n){return function(t,r){return Tc(t,e,n(r),{})}}function Nr(e,n){return function(t,r){var i;if(t===u&&r===u)return n;if(t!==u&&(i=t),r!==u){if(i===u)return r;typeof t=="string"||typeof r=="string"?(t=Te(t),r=Te(r)):(t=Ta(t),r=Ta(r)),i=e(t,r)}return i}}function Ii(e){return xn(function(n){return n=k(n,Ae(N())),I(function(t){var r=this;return e(n,function(i){return Se(i,r,t)})})})}function jr(e,n){n=n===u?" ":Te(n);var t=n.length;if(t<2)return t?Ni(n,e):n;var r=Ni(n,cr(e/dt(n)));return ft(n)?Mn(Xe(r),0,e).join(""):r.slice(0,e)}function nf(e,n,t,r){var i=n&K,l=Dt(e);function o(){for(var c=-1,d=arguments.length,g=-1,x=r.length,v=h(x+d),_=this&&this!==te&&this instanceof o?l:e;++g<x;)v[g]=r[g];for(;d--;)v[g++]=arguments[++c];return Se(_,i?t:this,v)}return o}function qa(e){return function(n,t,r){return r&&typeof r!="number"&&fe(n,t,r)&&(t=r=u),n=wn(n),t===u?(t=n,n=0):t=wn(t),r=r===u?n<t?1:-1:wn(r),Uc(n,t,r,e)}}function Cr(e){return function(n,t){return typeof n=="string"&&typeof t=="string"||(n=ke(n),t=ke(t)),e(n,t)}}function ka(e,n,t,r,i,l,o,c,d,g){var x=n&he,v=x?o:u,_=x?u:o,y=x?l:u,j=x?u:l;n|=x?we:P,n&=~(x?P:we),n&$e||(n&=~(K|Ke));var R=[e,n,i,y,v,j,_,c,d,g],C=t.apply(u,R);return Di(e)&&rl(C,R),C.placeholder=r,il(C,e,n)}function Ei(e){var n=V[e];return function(t,r){if(t=ke(t),r=r==null?0:se(T(r),292),r&&ia(t)){var i=(F(t)+"e").split("e"),l=n(i[0]+"e"+(+i[1]+r));return i=(F(l)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return n(t)}}var tf=pt&&1/er(new pt([,-0]))[1]==be?function(e){return new pt(e)}:Vi;function Ka(e){return function(n){var t=ae(n);return t==je?li(n):t==Ce?_o(n):co(n,e(n))}}function gn(e,n,t,r,i,l,o,c){var d=n&Ke;if(!d&&typeof e!="function")throw new Ue(ie);var g=r?r.length:0;if(g||(n&=~(we|P),r=i=u),o=o===u?o:ee(T(o),0),c=c===u?c:T(c),g-=i?i.length:0,n&P){var x=r,v=i;r=i=u}var _=d?u:Pi(e),y=[e,n,t,r,i,x,v,l,o,c];if(_&&vf(y,_),e=y[0],n=y[1],t=y[2],r=y[3],i=y[4],c=y[9]=y[9]===u?d?0:e.length:ee(y[9]-g,0),!c&&n&(he|cn)&&(n&=~(he|cn)),!n||n==K)var j=Vc(e,n,t);else n==he||n==cn?j=ef(e,n,c):(n==we||n==(K|we))&&!i.length?j=nf(e,n,t,r):j=br.apply(u,y);var R=_?Sa:rl;return il(R(j,y),e,n)}function $a(e,n,t,r){return e===u||Qe(e,mt[t])&&!W.call(r,t)?n:e}function Ya(e,n,t,r,i,l){return $(e)&&$(n)&&(l.set(n,e),vr(e,n,u,Ya,l),l.delete(n)),e}function rf(e){return zt(e)?u:e}function Za(e,n,t,r,i,l){var o=t&Oe,c=e.length,d=n.length;if(c!=d&&!(o&&d>c))return!1;var g=l.get(e),x=l.get(n);if(g&&x)return g==n&&x==e;var v=-1,_=!0,y=t&Dn?new Vn:u;for(l.set(e,n),l.set(n,e);++v<c;){var j=e[v],R=n[v];if(r)var C=o?r(R,j,v,n,e,l):r(j,R,v,e,n,l);if(C!==u){if(C)continue;_=!1;break}if(y){if(!ni(n,function(E,O){if(!At(y,O)&&(j===E||i(j,E,t,r,l)))return y.push(O)})){_=!1;break}}else if(!(j===R||i(j,R,t,r,l))){_=!1;break}}return l.delete(e),l.delete(n),_}function sf(e,n,t,r,i,l,o){switch(t){case G:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case b:return!(e.byteLength!=n.byteLength||!l(new ar(e),new ar(n)));case zn:case fn:case Sn:return Qe(+e,+n);case dn:return e.name==n.name&&e.message==n.message;case kn:case Kn:return e==n+"";case je:var c=li;case Ce:var d=r&Oe;if(c||(c=er),e.size!=n.size&&!d)return!1;var g=o.get(e);if(g)return g==n;r|=Dn,o.set(e,n);var x=Za(c(e),c(n),r,i,l,o);return o.delete(e),x;case ut:if(Lt)return Lt.call(e)==Lt.call(n)}return!1}function af(e,n,t,r,i,l){var o=t&Oe,c=Li(e),d=c.length,g=Li(n),x=g.length;if(d!=x&&!o)return!1;for(var v=d;v--;){var _=c[v];if(!(o?_ in n:W.call(n,_)))return!1}var y=l.get(e),j=l.get(n);if(y&&j)return y==n&&j==e;var R=!0;l.set(e,n),l.set(n,e);for(var C=o;++v<d;){_=c[v];var E=e[_],O=n[_];if(r)var Ie=o?r(O,E,_,n,e,l):r(E,O,_,e,n,l);if(!(Ie===u?E===O||i(E,O,t,r,l):Ie)){R=!1;break}C||(C=_=="constructor")}if(R&&!C){var de=e.constructor,Ee=n.constructor;de!=Ee&&"constructor"in e&&"constructor"in n&&!(typeof de=="function"&&de instanceof de&&typeof Ee=="function"&&Ee instanceof Ee)&&(R=!1)}return l.delete(e),l.delete(n),R}function xn(e){return Ui(nl(e,u,cl),e+"")}function Li(e){return pa(e,ne,Bi)}function Oi(e){return pa(e,ge,Xa)}var Pi=dr?function(e){return dr.get(e)}:Vi;function Sr(e){for(var n=e.name+"",t=gt[n],r=W.call(gt,n)?t.length:0;r--;){var i=t[r],l=i.func;if(l==null||l==e)return i.name}return n}function wt(e){var n=W.call(a,"placeholder")?a:e;return n.placeholder}function N(){var e=a.iteratee||Ji;return e=e===Ji?va:e,arguments.length?e(arguments[0],arguments[1]):e}function Ar(e,n){var t=e.__data__;return mf(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Mi(e){for(var n=ne(e),t=n.length;t--;){var r=n[t],i=e[r];n[t]=[r,i,Va(i)]}return n}function tt(e,n){var t=go(e,n);return xa(t)?t:u}function lf(e){var n=W.call(e,Jn),t=e[Jn];try{e[Jn]=u;var r=!0}catch{}var i=ir.call(e);return r&&(n?e[Jn]=t:delete e[Jn]),i}var Bi=oi?function(e){return e==null?[]:(e=U(e),Tn(oi(e),function(n){return ta.call(e,n)}))}:es,Xa=oi?function(e){for(var n=[];e;)Rn(n,Bi(e)),e=lr(e);return n}:es,ae=ce;(ci&&ae(new ci(new ArrayBuffer(1)))!=G||Rt&&ae(new Rt)!=je||fi&&ae(fi.resolve())!=$t||pt&&ae(new pt)!=Ce||It&&ae(new It)!=An)&&(ae=function(e){var n=ce(e),t=n==Be?e.constructor:u,r=t?rt(t):"";if(r)switch(r){case Ho:return G;case Go:return je;case qo:return $t;case ko:return Ce;case Ko:return An}return n});function uf(e,n,t){for(var r=-1,i=t.length;++r<i;){var l=t[r],o=l.size;switch(l.type){case"drop":e+=o;break;case"dropRight":n-=o;break;case"take":n=se(n,e+o);break;case"takeRight":e=ee(e,n-o);break}}return{start:e,end:n}}function of(e){var n=e.match(hu);return n?n[1].split(mu):[]}function Ja(e,n,t){n=Pn(n,e);for(var r=-1,i=n.length,l=!1;++r<i;){var o=an(n[r]);if(!(l=e!=null&&t(e,o)))break;e=e[o]}return l||++r!=i?l:(i=e==null?0:e.length,!!i&&Pr(i)&&vn(o,i)&&(A(e)||it(e)))}function cf(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&W.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function Qa(e){return typeof e.constructor=="function"&&!Wt(e)?xt(lr(e)):{}}function ff(e,n,t){var r=e.constructor;switch(n){case b:return Ri(e);case zn:case fn:return new r(+e);case G:return $c(e,t);case oe:case Fe:case B:case tn:case $n:case St:case Yn:case Ze:case Zn:return Pa(e,t);case je:return new r;case Sn:case Kn:return new r(e);case kn:return Yc(e);case Ce:return new r;case ut:return Zc(e)}}function df(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace(du,`{
/* [wrapped with `+n+`] */
`)}function hf(e){return A(e)||it(e)||!!(ra&&e&&e[ra])}function vn(e,n){var t=typeof e;return n=n??Ne,!!n&&(t=="number"||t!="symbol"&&Nu.test(e))&&e>-1&&e%1==0&&e<n}function fe(e,n,t){if(!$(t))return!1;var r=typeof n;return(r=="number"?pe(t)&&vn(n,t.length):r=="string"&&n in t)?Qe(t[n],e):!1}function Fi(e,n){if(A(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Re(e)?!0:uu.test(e)||!lu.test(e)||n!=null&&e in U(n)}function mf(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Di(e){var n=Sr(e),t=a[n];if(typeof t!="function"||!(n in L.prototype))return!1;if(e===t)return!0;var r=Pi(t);return!!r&&e===r[0]}function pf(e){return!!Vs&&Vs in e}var gf=tr?_n:ns;function Wt(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||mt;return e===t}function Va(e){return e===e&&!$(e)}function el(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==u||e in U(t))}}function xf(e){var n=Lr(e,function(r){return t.size===bn&&t.clear(),r}),t=n.cache;return n}function vf(e,n){var t=e[1],r=n[1],i=t|r,l=i<(K|Ke|Pe),o=r==Pe&&t==he||r==Pe&&t==ue&&e[7].length<=n[8]||r==(Pe|ue)&&n[7].length<=n[8]&&t==he;if(!(l||o))return e;r&K&&(e[2]=n[2],i|=t&K?0:$e);var c=n[3];if(c){var d=e[3];e[3]=d?Ba(d,c,n[4]):c,e[4]=d?In(e[3],st):n[4]}return c=n[5],c&&(d=e[5],e[5]=d?Fa(d,c,n[6]):c,e[6]=d?In(e[5],st):n[6]),c=n[7],c&&(e[7]=c),r&Pe&&(e[8]=e[8]==null?n[8]:se(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=i,e}function _f(e){var n=[];if(e!=null)for(var t in U(e))n.push(t);return n}function wf(e){return ir.call(e)}function nl(e,n,t){return n=ee(n===u?e.length-1:n,0),function(){for(var r=arguments,i=-1,l=ee(r.length-n,0),o=h(l);++i<l;)o[i]=r[n+i];i=-1;for(var c=h(n+1);++i<n;)c[i]=r[i];return c[n]=t(o),Se(e,this,c)}}function tl(e,n){return n.length<2?e:nt(e,Ge(n,0,-1))}function yf(e,n){for(var t=e.length,r=se(n.length,t),i=me(e);r--;){var l=n[r];e[r]=vn(l,t)?i[l]:u}return e}function Wi(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var rl=sl(Sa),Ut=Mo||function(e,n){return te.setTimeout(e,n)},Ui=sl(Gc);function il(e,n,t){var r=n+"";return Ui(e,df(r,bf(of(r),t)))}function sl(e){var n=0,t=0;return function(){var r=Wo(),i=jt-(r-t);if(t=r,i>0){if(++n>=Un)return arguments[0]}else n=0;return e.apply(u,arguments)}}function Tr(e,n){var t=-1,r=e.length,i=r-1;for(n=n===u?r:n;++t<n;){var l=bi(t,i),o=e[l];e[l]=e[t],e[t]=o}return e.length=n,e}var al=xf(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(ou,function(t,r,i,l){n.push(i?l.replace(xu,"$1"):r||t)}),n});function an(e){if(typeof e=="string"||Re(e))return e;var n=e+"";return n=="0"&&1/e==-be?"-0":n}function rt(e){if(e!=null){try{return rr.call(e)}catch{}try{return e+""}catch{}}return""}function bf(e,n){return We(Kt,function(t){var r="_."+t[0];n&t[1]&&!Qt(e,r)&&e.push(r)}),e.sort()}function ll(e){if(e instanceof L)return e.clone();var n=new ze(e.__wrapped__,e.__chain__);return n.__actions__=me(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function Nf(e,n,t){(t?fe(e,n,t):n===u)?n=1:n=ee(T(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var i=0,l=0,o=h(cr(r/n));i<r;)o[l++]=Ge(e,i,i+=n);return o}function jf(e){for(var n=-1,t=e==null?0:e.length,r=0,i=[];++n<t;){var l=e[n];l&&(i[r++]=l)}return i}function Cf(){var e=arguments.length;if(!e)return[];for(var n=h(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return Rn(A(t)?me(t):[t],re(n,1))}var Sf=I(function(e,n){return Z(e)?Pt(e,re(n,1,Z,!0)):[]}),Af=I(function(e,n){var t=qe(n);return Z(t)&&(t=u),Z(e)?Pt(e,re(n,1,Z,!0),N(t,2)):[]}),Tf=I(function(e,n){var t=qe(n);return Z(t)&&(t=u),Z(e)?Pt(e,re(n,1,Z,!0),u,t):[]});function Rf(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===u?1:T(n),Ge(e,n<0?0:n,r)):[]}function If(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===u?1:T(n),n=r-n,Ge(e,0,n<0?0:n)):[]}function Ef(e,n){return e&&e.length?wr(e,N(n,3),!0,!0):[]}function Lf(e,n){return e&&e.length?wr(e,N(n,3),!0):[]}function Of(e,n,t,r){var i=e==null?0:e.length;return i?(t&&typeof t!="number"&&fe(e,n,t)&&(t=0,r=i),jc(e,n,t,r)):[]}function ul(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:T(t);return i<0&&(i=ee(r+i,0)),Vt(e,N(n,3),i)}function ol(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return t!==u&&(i=T(t),i=t<0?ee(r+i,0):se(i,r-1)),Vt(e,N(n,3),i,!0)}function cl(e){var n=e==null?0:e.length;return n?re(e,1):[]}function Pf(e){var n=e==null?0:e.length;return n?re(e,be):[]}function Mf(e,n){var t=e==null?0:e.length;return t?(n=n===u?1:T(n),re(e,n)):[]}function Bf(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var i=e[n];r[i[0]]=i[1]}return r}function fl(e){return e&&e.length?e[0]:u}function Ff(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:T(t);return i<0&&(i=ee(r+i,0)),ct(e,n,i)}function Df(e){var n=e==null?0:e.length;return n?Ge(e,0,-1):[]}var Wf=I(function(e){var n=k(e,Ai);return n.length&&n[0]===e[0]?xi(n):[]}),Uf=I(function(e){var n=qe(e),t=k(e,Ai);return n===qe(t)?n=u:t.pop(),t.length&&t[0]===e[0]?xi(t,N(n,2)):[]}),zf=I(function(e){var n=qe(e),t=k(e,Ai);return n=typeof n=="function"?n:u,n&&t.pop(),t.length&&t[0]===e[0]?xi(t,u,n):[]});function Hf(e,n){return e==null?"":Fo.call(e,n)}function qe(e){var n=e==null?0:e.length;return n?e[n-1]:u}function Gf(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r;return t!==u&&(i=T(t),i=i<0?ee(r+i,0):se(i,r-1)),n===n?yo(e,n,i):Vt(e,ks,i,!0)}function qf(e,n){return e&&e.length?ba(e,T(n)):u}var kf=I(dl);function dl(e,n){return e&&e.length&&n&&n.length?yi(e,n):e}function Kf(e,n,t){return e&&e.length&&n&&n.length?yi(e,n,N(t,2)):e}function $f(e,n,t){return e&&e.length&&n&&n.length?yi(e,n,u,t):e}var Yf=xn(function(e,n){var t=e==null?0:e.length,r=hi(e,n);return Ca(e,k(n,function(i){return vn(i,t)?+i:i}).sort(Ma)),r});function Zf(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,i=[],l=e.length;for(n=N(n,3);++r<l;){var o=e[r];n(o,r,e)&&(t.push(o),i.push(r))}return Ca(e,i),t}function zi(e){return e==null?e:zo.call(e)}function Xf(e,n,t){var r=e==null?0:e.length;return r?(t&&typeof t!="number"&&fe(e,n,t)?(n=0,t=r):(n=n==null?0:T(n),t=t===u?r:T(t)),Ge(e,n,t)):[]}function Jf(e,n){return _r(e,n)}function Qf(e,n,t){return ji(e,n,N(t,2))}function Vf(e,n){var t=e==null?0:e.length;if(t){var r=_r(e,n);if(r<t&&Qe(e[r],n))return r}return-1}function ed(e,n){return _r(e,n,!0)}function nd(e,n,t){return ji(e,n,N(t,2),!0)}function td(e,n){var t=e==null?0:e.length;if(t){var r=_r(e,n,!0)-1;if(Qe(e[r],n))return r}return-1}function rd(e){return e&&e.length?Aa(e):[]}function id(e,n){return e&&e.length?Aa(e,N(n,2)):[]}function sd(e){var n=e==null?0:e.length;return n?Ge(e,1,n):[]}function ad(e,n,t){return e&&e.length?(n=t||n===u?1:T(n),Ge(e,0,n<0?0:n)):[]}function ld(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===u?1:T(n),n=r-n,Ge(e,n<0?0:n,r)):[]}function ud(e,n){return e&&e.length?wr(e,N(n,3),!1,!0):[]}function od(e,n){return e&&e.length?wr(e,N(n,3)):[]}var cd=I(function(e){return On(re(e,1,Z,!0))}),fd=I(function(e){var n=qe(e);return Z(n)&&(n=u),On(re(e,1,Z,!0),N(n,2))}),dd=I(function(e){var n=qe(e);return n=typeof n=="function"?n:u,On(re(e,1,Z,!0),u,n)});function hd(e){return e&&e.length?On(e):[]}function md(e,n){return e&&e.length?On(e,N(n,2)):[]}function pd(e,n){return n=typeof n=="function"?n:u,e&&e.length?On(e,u,n):[]}function Hi(e){if(!(e&&e.length))return[];var n=0;return e=Tn(e,function(t){if(Z(t))return n=ee(t.length,n),!0}),si(n,function(t){return k(e,ti(t))})}function hl(e,n){if(!(e&&e.length))return[];var t=Hi(e);return n==null?t:k(t,function(r){return Se(n,u,r)})}var gd=I(function(e,n){return Z(e)?Pt(e,n):[]}),xd=I(function(e){return Si(Tn(e,Z))}),vd=I(function(e){var n=qe(e);return Z(n)&&(n=u),Si(Tn(e,Z),N(n,2))}),_d=I(function(e){var n=qe(e);return n=typeof n=="function"?n:u,Si(Tn(e,Z),u,n)}),wd=I(Hi);function yd(e,n){return Ea(e||[],n||[],Ot)}function bd(e,n){return Ea(e||[],n||[],Ft)}var Nd=I(function(e){var n=e.length,t=n>1?e[n-1]:u;return t=typeof t=="function"?(e.pop(),t):u,hl(e,t)});function ml(e){var n=a(e);return n.__chain__=!0,n}function jd(e,n){return n(e),e}function Rr(e,n){return n(e)}var Cd=xn(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,i=function(l){return hi(l,e)};return n>1||this.__actions__.length||!(r instanceof L)||!vn(t)?this.thru(i):(r=r.slice(t,+t+(n?1:0)),r.__actions__.push({func:Rr,args:[i],thisArg:u}),new ze(r,this.__chain__).thru(function(l){return n&&!l.length&&l.push(u),l}))});function Sd(){return ml(this)}function Ad(){return new ze(this.value(),this.__chain__)}function Td(){this.__values__===u&&(this.__values__=Tl(this.value()));var e=this.__index__>=this.__values__.length,n=e?u:this.__values__[this.__index__++];return{done:e,value:n}}function Rd(){return this}function Id(e){for(var n,t=this;t instanceof mr;){var r=ll(t);r.__index__=0,r.__values__=u,n?i.__wrapped__=r:n=r;var i=r;t=t.__wrapped__}return i.__wrapped__=e,n}function Ed(){var e=this.__wrapped__;if(e instanceof L){var n=e;return this.__actions__.length&&(n=new L(this)),n=n.reverse(),n.__actions__.push({func:Rr,args:[zi],thisArg:u}),new ze(n,this.__chain__)}return this.thru(zi)}function Ld(){return Ia(this.__wrapped__,this.__actions__)}var Od=yr(function(e,n,t){W.call(e,t)?++e[t]:pn(e,t,1)});function Pd(e,n,t){var r=A(e)?Gs:Nc;return t&&fe(e,n,t)&&(n=u),r(e,N(n,3))}function Md(e,n){var t=A(e)?Tn:ha;return t(e,N(n,3))}var Bd=za(ul),Fd=za(ol);function Dd(e,n){return re(Ir(e,n),1)}function Wd(e,n){return re(Ir(e,n),be)}function Ud(e,n,t){return t=t===u?1:T(t),re(Ir(e,n),t)}function pl(e,n){var t=A(e)?We:Ln;return t(e,N(n,3))}function gl(e,n){var t=A(e)?ro:da;return t(e,N(n,3))}var zd=yr(function(e,n,t){W.call(e,t)?e[t].push(n):pn(e,t,[n])});function Hd(e,n,t,r){e=pe(e)?e:bt(e),t=t&&!r?T(t):0;var i=e.length;return t<0&&(t=ee(i+t,0)),Mr(e)?t<=i&&e.indexOf(n,t)>-1:!!i&&ct(e,n,t)>-1}var Gd=I(function(e,n,t){var r=-1,i=typeof n=="function",l=pe(e)?h(e.length):[];return Ln(e,function(o){l[++r]=i?Se(n,o,t):Mt(o,n,t)}),l}),qd=yr(function(e,n,t){pn(e,t,n)});function Ir(e,n){var t=A(e)?k:_a;return t(e,N(n,3))}function kd(e,n,t,r){return e==null?[]:(A(n)||(n=n==null?[]:[n]),t=r?u:t,A(t)||(t=t==null?[]:[t]),Na(e,n,t))}var Kd=yr(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function $d(e,n,t){var r=A(e)?ei:$s,i=arguments.length<3;return r(e,N(n,4),t,i,Ln)}function Yd(e,n,t){var r=A(e)?io:$s,i=arguments.length<3;return r(e,N(n,4),t,i,da)}function Zd(e,n){var t=A(e)?Tn:ha;return t(e,Or(N(n,3)))}function Xd(e){var n=A(e)?ua:zc;return n(e)}function Jd(e,n,t){(t?fe(e,n,t):n===u)?n=1:n=T(n);var r=A(e)?vc:Hc;return r(e,n)}function Qd(e){var n=A(e)?_c:qc;return n(e)}function Vd(e){if(e==null)return 0;if(pe(e))return Mr(e)?dt(e):e.length;var n=ae(e);return n==je||n==Ce?e.size:_i(e).length}function eh(e,n,t){var r=A(e)?ni:kc;return t&&fe(e,n,t)&&(n=u),r(e,N(n,3))}var nh=I(function(e,n){if(e==null)return[];var t=n.length;return t>1&&fe(e,n[0],n[1])?n=[]:t>2&&fe(n[0],n[1],n[2])&&(n=[n[0]]),Na(e,re(n,1),[])}),Er=Po||function(){return te.Date.now()};function th(e,n){if(typeof n!="function")throw new Ue(ie);return e=T(e),function(){if(--e<1)return n.apply(this,arguments)}}function xl(e,n,t){return n=t?u:n,n=e&&n==null?e.length:n,gn(e,Pe,u,u,u,u,n)}function vl(e,n){var t;if(typeof n!="function")throw new Ue(ie);return e=T(e),function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=u),t}}var Gi=I(function(e,n,t){var r=K;if(t.length){var i=In(t,wt(Gi));r|=we}return gn(e,r,n,t,i)}),_l=I(function(e,n,t){var r=K|Ke;if(t.length){var i=In(t,wt(_l));r|=we}return gn(n,r,e,t,i)});function wl(e,n,t){n=t?u:n;var r=gn(e,he,u,u,u,u,u,n);return r.placeholder=wl.placeholder,r}function yl(e,n,t){n=t?u:n;var r=gn(e,cn,u,u,u,u,u,n);return r.placeholder=yl.placeholder,r}function bl(e,n,t){var r,i,l,o,c,d,g=0,x=!1,v=!1,_=!0;if(typeof e!="function")throw new Ue(ie);n=ke(n)||0,$(t)&&(x=!!t.leading,v="maxWait"in t,l=v?ee(ke(t.maxWait)||0,n):l,_="trailing"in t?!!t.trailing:_);function y(X){var Ve=r,yn=i;return r=i=u,g=X,o=e.apply(yn,Ve),o}function j(X){return g=X,c=Ut(E,n),x?y(X):o}function R(X){var Ve=X-d,yn=X-g,zl=n-Ve;return v?se(zl,l-yn):zl}function C(X){var Ve=X-d,yn=X-g;return d===u||Ve>=n||Ve<0||v&&yn>=l}function E(){var X=Er();if(C(X))return O(X);c=Ut(E,R(X))}function O(X){return c=u,_&&r?y(X):(r=i=u,o)}function Ie(){c!==u&&La(c),g=0,r=d=i=c=u}function de(){return c===u?o:O(Er())}function Ee(){var X=Er(),Ve=C(X);if(r=arguments,i=this,d=X,Ve){if(c===u)return j(d);if(v)return La(c),c=Ut(E,n),y(d)}return c===u&&(c=Ut(E,n)),o}return Ee.cancel=Ie,Ee.flush=de,Ee}var rh=I(function(e,n){return fa(e,1,n)}),ih=I(function(e,n,t){return fa(e,ke(n)||0,t)});function sh(e){return gn(e,Wn)}function Lr(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Ue(ie);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],l=t.cache;if(l.has(i))return l.get(i);var o=e.apply(this,r);return t.cache=l.set(i,o)||l,o};return t.cache=new(Lr.Cache||mn),t}Lr.Cache=mn;function Or(e){if(typeof e!="function")throw new Ue(ie);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function ah(e){return vl(2,e)}var lh=Kc(function(e,n){n=n.length==1&&A(n[0])?k(n[0],Ae(N())):k(re(n,1),Ae(N()));var t=n.length;return I(function(r){for(var i=-1,l=se(r.length,t);++i<l;)r[i]=n[i].call(this,r[i]);return Se(e,this,r)})}),qi=I(function(e,n){var t=In(n,wt(qi));return gn(e,we,u,n,t)}),Nl=I(function(e,n){var t=In(n,wt(Nl));return gn(e,P,u,n,t)}),uh=xn(function(e,n){return gn(e,ue,u,u,u,n)});function oh(e,n){if(typeof e!="function")throw new Ue(ie);return n=n===u?n:T(n),I(e,n)}function ch(e,n){if(typeof e!="function")throw new Ue(ie);return n=n==null?0:ee(T(n),0),I(function(t){var r=t[n],i=Mn(t,0,n);return r&&Rn(i,r),Se(e,this,i)})}function fh(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new Ue(ie);return $(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),bl(e,n,{leading:r,maxWait:n,trailing:i})}function dh(e){return xl(e,1)}function hh(e,n){return qi(Ti(n),e)}function mh(){if(!arguments.length)return[];var e=arguments[0];return A(e)?e:[e]}function ph(e){return He(e,Nn)}function gh(e,n){return n=typeof n=="function"?n:u,He(e,Nn,n)}function xh(e){return He(e,_e|Nn)}function vh(e,n){return n=typeof n=="function"?n:u,He(e,_e|Nn,n)}function _h(e,n){return n==null||ca(e,n,ne(n))}function Qe(e,n){return e===n||e!==e&&n!==n}var wh=Cr(gi),yh=Cr(function(e,n){return e>=n}),it=ga(function(){return arguments}())?ga:function(e){return Y(e)&&W.call(e,"callee")&&!ta.call(e,"callee")},A=h.isArray,bh=Fs?Ae(Fs):Rc;function pe(e){return e!=null&&Pr(e.length)&&!_n(e)}function Z(e){return Y(e)&&pe(e)}function Nh(e){return e===!0||e===!1||Y(e)&&ce(e)==zn}var Bn=Bo||ns,jh=Ds?Ae(Ds):Ic;function Ch(e){return Y(e)&&e.nodeType===1&&!zt(e)}function Sh(e){if(e==null)return!0;if(pe(e)&&(A(e)||typeof e=="string"||typeof e.splice=="function"||Bn(e)||yt(e)||it(e)))return!e.length;var n=ae(e);if(n==je||n==Ce)return!e.size;if(Wt(e))return!_i(e).length;for(var t in e)if(W.call(e,t))return!1;return!0}function Ah(e,n){return Bt(e,n)}function Th(e,n,t){t=typeof t=="function"?t:u;var r=t?t(e,n):u;return r===u?Bt(e,n,u,t):!!r}function ki(e){if(!Y(e))return!1;var n=ce(e);return n==dn||n==Hn||typeof e.message=="string"&&typeof e.name=="string"&&!zt(e)}function Rh(e){return typeof e=="number"&&ia(e)}function _n(e){if(!$(e))return!1;var n=ce(e);return n==Ye||n==Gn||n==Gr||n==Ct}function jl(e){return typeof e=="number"&&e==T(e)}function Pr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ne}function $(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Y(e){return e!=null&&typeof e=="object"}var Cl=Ws?Ae(Ws):Lc;function Ih(e,n){return e===n||vi(e,n,Mi(n))}function Eh(e,n,t){return t=typeof t=="function"?t:u,vi(e,n,Mi(n),t)}function Lh(e){return Sl(e)&&e!=+e}function Oh(e){if(gf(e))throw new S(on);return xa(e)}function Ph(e){return e===null}function Mh(e){return e==null}function Sl(e){return typeof e=="number"||Y(e)&&ce(e)==Sn}function zt(e){if(!Y(e)||ce(e)!=Be)return!1;var n=lr(e);if(n===null)return!0;var t=W.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&rr.call(t)==Io}var Ki=Us?Ae(Us):Oc;function Bh(e){return jl(e)&&e>=-Ne&&e<=Ne}var Al=zs?Ae(zs):Pc;function Mr(e){return typeof e=="string"||!A(e)&&Y(e)&&ce(e)==Kn}function Re(e){return typeof e=="symbol"||Y(e)&&ce(e)==ut}var yt=Hs?Ae(Hs):Mc;function Fh(e){return e===u}function Dh(e){return Y(e)&&ae(e)==An}function Wh(e){return Y(e)&&ce(e)==m}var Uh=Cr(wi),zh=Cr(function(e,n){return e<=n});function Tl(e){if(!e)return[];if(pe(e))return Mr(e)?Xe(e):me(e);if(Tt&&e[Tt])return vo(e[Tt]());var n=ae(e),t=n==je?li:n==Ce?er:bt;return t(e)}function wn(e){if(!e)return e===0?e:0;if(e=ke(e),e===be||e===-be){var n=e<0?-1:1;return n*zr}return e===e?e:0}function T(e){var n=wn(e),t=n%1;return n===n?t?n-t:n:0}function Rl(e){return e?et(T(e),0,Me):0}function ke(e){if(typeof e=="number")return e;if(Re(e))return jn;if($(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=$(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Ys(e);var t=wu.test(e);return t||bu.test(e)?eo(e.slice(2),t?2:8):_u.test(e)?jn:+e}function Il(e){return sn(e,ge(e))}function Hh(e){return e?et(T(e),-Ne,Ne):e===0?e:0}function F(e){return e==null?"":Te(e)}var Gh=vt(function(e,n){if(Wt(n)||pe(n)){sn(n,ne(n),e);return}for(var t in n)W.call(n,t)&&Ot(e,t,n[t])}),El=vt(function(e,n){sn(n,ge(n),e)}),Br=vt(function(e,n,t,r){sn(n,ge(n),e,r)}),qh=vt(function(e,n,t,r){sn(n,ne(n),e,r)}),kh=xn(hi);function Kh(e,n){var t=xt(e);return n==null?t:oa(t,n)}var $h=I(function(e,n){e=U(e);var t=-1,r=n.length,i=r>2?n[2]:u;for(i&&fe(n[0],n[1],i)&&(r=1);++t<r;)for(var l=n[t],o=ge(l),c=-1,d=o.length;++c<d;){var g=o[c],x=e[g];(x===u||Qe(x,mt[g])&&!W.call(e,g))&&(e[g]=l[g])}return e}),Yh=I(function(e){return e.push(u,Ya),Se(Ll,u,e)});function Zh(e,n){return qs(e,N(n,3),rn)}function Xh(e,n){return qs(e,N(n,3),pi)}function Jh(e,n){return e==null?e:mi(e,N(n,3),ge)}function Qh(e,n){return e==null?e:ma(e,N(n,3),ge)}function Vh(e,n){return e&&rn(e,N(n,3))}function em(e,n){return e&&pi(e,N(n,3))}function nm(e){return e==null?[]:xr(e,ne(e))}function tm(e){return e==null?[]:xr(e,ge(e))}function $i(e,n,t){var r=e==null?u:nt(e,n);return r===u?t:r}function rm(e,n){return e!=null&&Ja(e,n,Cc)}function Yi(e,n){return e!=null&&Ja(e,n,Sc)}var im=Ga(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=ir.call(n)),e[n]=t},Xi(xe)),sm=Ga(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=ir.call(n)),W.call(e,n)?e[n].push(t):e[n]=[t]},N),am=I(Mt);function ne(e){return pe(e)?la(e):_i(e)}function ge(e){return pe(e)?la(e,!0):Bc(e)}function lm(e,n){var t={};return n=N(n,3),rn(e,function(r,i,l){pn(t,n(r,i,l),r)}),t}function um(e,n){var t={};return n=N(n,3),rn(e,function(r,i,l){pn(t,i,n(r,i,l))}),t}var om=vt(function(e,n,t){vr(e,n,t)}),Ll=vt(function(e,n,t,r){vr(e,n,t,r)}),cm=xn(function(e,n){var t={};if(e==null)return t;var r=!1;n=k(n,function(l){return l=Pn(l,e),r||(r=l.length>1),l}),sn(e,Oi(e),t),r&&(t=He(t,_e|Q|Nn,rf));for(var i=n.length;i--;)Ci(t,n[i]);return t});function fm(e,n){return Ol(e,Or(N(n)))}var dm=xn(function(e,n){return e==null?{}:Dc(e,n)});function Ol(e,n){if(e==null)return{};var t=k(Oi(e),function(r){return[r]});return n=N(n),ja(e,t,function(r,i){return n(r,i[0])})}function hm(e,n,t){n=Pn(n,e);var r=-1,i=n.length;for(i||(i=1,e=u);++r<i;){var l=e==null?u:e[an(n[r])];l===u&&(r=i,l=t),e=_n(l)?l.call(e):l}return e}function mm(e,n,t){return e==null?e:Ft(e,n,t)}function pm(e,n,t,r){return r=typeof r=="function"?r:u,e==null?e:Ft(e,n,t,r)}var Pl=Ka(ne),Ml=Ka(ge);function gm(e,n,t){var r=A(e),i=r||Bn(e)||yt(e);if(n=N(n,4),t==null){var l=e&&e.constructor;i?t=r?new l:[]:$(e)?t=_n(l)?xt(lr(e)):{}:t={}}return(i?We:rn)(e,function(o,c,d){return n(t,o,c,d)}),t}function xm(e,n){return e==null?!0:Ci(e,n)}function vm(e,n,t){return e==null?e:Ra(e,n,Ti(t))}function _m(e,n,t,r){return r=typeof r=="function"?r:u,e==null?e:Ra(e,n,Ti(t),r)}function bt(e){return e==null?[]:ai(e,ne(e))}function wm(e){return e==null?[]:ai(e,ge(e))}function ym(e,n,t){return t===u&&(t=n,n=u),t!==u&&(t=ke(t),t=t===t?t:0),n!==u&&(n=ke(n),n=n===n?n:0),et(ke(e),n,t)}function bm(e,n,t){return n=wn(n),t===u?(t=n,n=0):t=wn(t),e=ke(e),Ac(e,n,t)}function Nm(e,n,t){if(t&&typeof t!="boolean"&&fe(e,n,t)&&(n=t=u),t===u&&(typeof n=="boolean"?(t=n,n=u):typeof e=="boolean"&&(t=e,e=u)),e===u&&n===u?(e=0,n=1):(e=wn(e),n===u?(n=e,e=0):n=wn(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var i=sa();return se(e+i*(n-e+Vu("1e-"+((i+"").length-1))),n)}return bi(e,n)}var jm=_t(function(e,n,t){return n=n.toLowerCase(),e+(t?Bl(n):n)});function Bl(e){return Zi(F(e).toLowerCase())}function Fl(e){return e=F(e),e&&e.replace(ju,ho).replace(Gu,"")}function Cm(e,n,t){e=F(e),n=Te(n);var r=e.length;t=t===u?r:et(T(t),0,r);var i=t;return t-=n.length,t>=0&&e.slice(t,i)==n}function Sm(e){return e=F(e),e&&iu.test(e)?e.replace(ms,mo):e}function Am(e){return e=F(e),e&&cu.test(e)?e.replace(qr,"\\$&"):e}var Tm=_t(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),Rm=_t(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),Im=Ua("toLowerCase");function Em(e,n,t){e=F(e),n=T(n);var r=n?dt(e):0;if(!n||r>=n)return e;var i=(n-r)/2;return jr(fr(i),t)+e+jr(cr(i),t)}function Lm(e,n,t){e=F(e),n=T(n);var r=n?dt(e):0;return n&&r<n?e+jr(n-r,t):e}function Om(e,n,t){e=F(e),n=T(n);var r=n?dt(e):0;return n&&r<n?jr(n-r,t)+e:e}function Pm(e,n,t){return t||n==null?n=0:n&&(n=+n),Uo(F(e).replace(kr,""),n||0)}function Mm(e,n,t){return(t?fe(e,n,t):n===u)?n=1:n=T(n),Ni(F(e),n)}function Bm(){var e=arguments,n=F(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var Fm=_t(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function Dm(e,n,t){return t&&typeof t!="number"&&fe(e,n,t)&&(n=t=u),t=t===u?Me:t>>>0,t?(e=F(e),e&&(typeof n=="string"||n!=null&&!Ki(n))&&(n=Te(n),!n&&ft(e))?Mn(Xe(e),0,t):e.split(n,t)):[]}var Wm=_t(function(e,n,t){return e+(t?" ":"")+Zi(n)});function Um(e,n,t){return e=F(e),t=t==null?0:et(T(t),0,e.length),n=Te(n),e.slice(t,t+n.length)==n}function zm(e,n,t){var r=a.templateSettings;t&&fe(e,n,t)&&(n=u),e=F(e),n=Br({},n,r,$a);var i=Br({},n.imports,r.imports,$a),l=ne(i),o=ai(i,l),c,d,g=0,x=n.interpolate||Zt,v="__p += '",_=ui((n.escape||Zt).source+"|"+x.source+"|"+(x===ps?vu:Zt).source+"|"+(n.evaluate||Zt).source+"|$","g"),y="//# sourceURL="+(W.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yu+"]")+`
`;e.replace(_,function(C,E,O,Ie,de,Ee){return O||(O=Ie),v+=e.slice(g,Ee).replace(Cu,po),E&&(c=!0,v+=`' +
__e(`+E+`) +
'`),de&&(d=!0,v+=`';
`+de+`;
__p += '`),O&&(v+=`' +
((__t = (`+O+`)) == null ? '' : __t) +
'`),g=Ee+C.length,C}),v+=`';
`;var j=W.call(n,"variable")&&n.variable;if(!j)v=`with (obj) {
`+v+`
}
`;else if(gu.test(j))throw new S(Fn);v=(d?v.replace(eu,""):v).replace(nu,"$1").replace(tu,"$1;"),v="function("+(j||"obj")+`) {
`+(j?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(c?", __e = _.escape":"")+(d?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+v+`return __p
}`;var R=Wl(function(){return M(l,y+"return "+v).apply(u,o)});if(R.source=v,ki(R))throw R;return R}function Hm(e){return F(e).toLowerCase()}function Gm(e){return F(e).toUpperCase()}function qm(e,n,t){if(e=F(e),e&&(t||n===u))return Ys(e);if(!e||!(n=Te(n)))return e;var r=Xe(e),i=Xe(n),l=Zs(r,i),o=Xs(r,i)+1;return Mn(r,l,o).join("")}function km(e,n,t){if(e=F(e),e&&(t||n===u))return e.slice(0,Qs(e)+1);if(!e||!(n=Te(n)))return e;var r=Xe(e),i=Xs(r,Xe(n))+1;return Mn(r,0,i).join("")}function Km(e,n,t){if(e=F(e),e&&(t||n===u))return e.replace(kr,"");if(!e||!(n=Te(n)))return e;var r=Xe(e),i=Zs(r,Xe(n));return Mn(r,i).join("")}function $m(e,n){var t=Gt,r=Ur;if($(n)){var i="separator"in n?n.separator:i;t="length"in n?T(n.length):t,r="omission"in n?Te(n.omission):r}e=F(e);var l=e.length;if(ft(e)){var o=Xe(e);l=o.length}if(t>=l)return e;var c=t-dt(r);if(c<1)return r;var d=o?Mn(o,0,c).join(""):e.slice(0,c);if(i===u)return d+r;if(o&&(c+=d.length-c),Ki(i)){if(e.slice(c).search(i)){var g,x=d;for(i.global||(i=ui(i.source,F(gs.exec(i))+"g")),i.lastIndex=0;g=i.exec(x);)var v=g.index;d=d.slice(0,v===u?c:v)}}else if(e.indexOf(Te(i),c)!=c){var _=d.lastIndexOf(i);_>-1&&(d=d.slice(0,_))}return d+r}function Ym(e){return e=F(e),e&&ru.test(e)?e.replace(hs,bo):e}var Zm=_t(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),Zi=Ua("toUpperCase");function Dl(e,n,t){return e=F(e),n=t?u:n,n===u?xo(e)?Co(e):lo(e):e.match(n)||[]}var Wl=I(function(e,n){try{return Se(e,u,n)}catch(t){return ki(t)?t:new S(t)}}),Xm=xn(function(e,n){return We(n,function(t){t=an(t),pn(e,t,Gi(e[t],e))}),e});function Jm(e){var n=e==null?0:e.length,t=N();return e=n?k(e,function(r){if(typeof r[1]!="function")throw new Ue(ie);return[t(r[0]),r[1]]}):[],I(function(r){for(var i=-1;++i<n;){var l=e[i];if(Se(l[0],this,r))return Se(l[1],this,r)}})}function Qm(e){return bc(He(e,_e))}function Xi(e){return function(){return e}}function Vm(e,n){return e==null||e!==e?n:e}var ep=Ha(),np=Ha(!0);function xe(e){return e}function Ji(e){return va(typeof e=="function"?e:He(e,_e))}function tp(e){return wa(He(e,_e))}function rp(e,n){return ya(e,He(n,_e))}var ip=I(function(e,n){return function(t){return Mt(t,e,n)}}),sp=I(function(e,n){return function(t){return Mt(e,t,n)}});function Qi(e,n,t){var r=ne(n),i=xr(n,r);t==null&&!($(n)&&(i.length||!r.length))&&(t=n,n=e,e=this,i=xr(n,ne(n)));var l=!($(t)&&"chain"in t)||!!t.chain,o=_n(e);return We(i,function(c){var d=n[c];e[c]=d,o&&(e.prototype[c]=function(){var g=this.__chain__;if(l||g){var x=e(this.__wrapped__),v=x.__actions__=me(this.__actions__);return v.push({func:d,args:arguments,thisArg:e}),x.__chain__=g,x}return d.apply(e,Rn([this.value()],arguments))})}),e}function ap(){return te._===this&&(te._=Eo),this}function Vi(){}function lp(e){return e=T(e),I(function(n){return ba(n,e)})}var up=Ii(k),op=Ii(Gs),cp=Ii(ni);function Ul(e){return Fi(e)?ti(an(e)):Wc(e)}function fp(e){return function(n){return e==null?u:nt(e,n)}}var dp=qa(),hp=qa(!0);function es(){return[]}function ns(){return!1}function mp(){return{}}function pp(){return""}function gp(){return!0}function xp(e,n){if(e=T(e),e<1||e>Ne)return[];var t=Me,r=se(e,Me);n=N(n),e-=Me;for(var i=si(r,n);++t<e;)n(t);return i}function vp(e){return A(e)?k(e,an):Re(e)?[e]:me(al(F(e)))}function _p(e){var n=++Ro;return F(e)+n}var wp=Nr(function(e,n){return e+n},0),yp=Ei("ceil"),bp=Nr(function(e,n){return e/n},1),Np=Ei("floor");function jp(e){return e&&e.length?gr(e,xe,gi):u}function Cp(e,n){return e&&e.length?gr(e,N(n,2),gi):u}function Sp(e){return Ks(e,xe)}function Ap(e,n){return Ks(e,N(n,2))}function Tp(e){return e&&e.length?gr(e,xe,wi):u}function Rp(e,n){return e&&e.length?gr(e,N(n,2),wi):u}var Ip=Nr(function(e,n){return e*n},1),Ep=Ei("round"),Lp=Nr(function(e,n){return e-n},0);function Op(e){return e&&e.length?ii(e,xe):0}function Pp(e,n){return e&&e.length?ii(e,N(n,2)):0}return a.after=th,a.ary=xl,a.assign=Gh,a.assignIn=El,a.assignInWith=Br,a.assignWith=qh,a.at=kh,a.before=vl,a.bind=Gi,a.bindAll=Xm,a.bindKey=_l,a.castArray=mh,a.chain=ml,a.chunk=Nf,a.compact=jf,a.concat=Cf,a.cond=Jm,a.conforms=Qm,a.constant=Xi,a.countBy=Od,a.create=Kh,a.curry=wl,a.curryRight=yl,a.debounce=bl,a.defaults=$h,a.defaultsDeep=Yh,a.defer=rh,a.delay=ih,a.difference=Sf,a.differenceBy=Af,a.differenceWith=Tf,a.drop=Rf,a.dropRight=If,a.dropRightWhile=Ef,a.dropWhile=Lf,a.fill=Of,a.filter=Md,a.flatMap=Dd,a.flatMapDeep=Wd,a.flatMapDepth=Ud,a.flatten=cl,a.flattenDeep=Pf,a.flattenDepth=Mf,a.flip=sh,a.flow=ep,a.flowRight=np,a.fromPairs=Bf,a.functions=nm,a.functionsIn=tm,a.groupBy=zd,a.initial=Df,a.intersection=Wf,a.intersectionBy=Uf,a.intersectionWith=zf,a.invert=im,a.invertBy=sm,a.invokeMap=Gd,a.iteratee=Ji,a.keyBy=qd,a.keys=ne,a.keysIn=ge,a.map=Ir,a.mapKeys=lm,a.mapValues=um,a.matches=tp,a.matchesProperty=rp,a.memoize=Lr,a.merge=om,a.mergeWith=Ll,a.method=ip,a.methodOf=sp,a.mixin=Qi,a.negate=Or,a.nthArg=lp,a.omit=cm,a.omitBy=fm,a.once=ah,a.orderBy=kd,a.over=up,a.overArgs=lh,a.overEvery=op,a.overSome=cp,a.partial=qi,a.partialRight=Nl,a.partition=Kd,a.pick=dm,a.pickBy=Ol,a.property=Ul,a.propertyOf=fp,a.pull=kf,a.pullAll=dl,a.pullAllBy=Kf,a.pullAllWith=$f,a.pullAt=Yf,a.range=dp,a.rangeRight=hp,a.rearg=uh,a.reject=Zd,a.remove=Zf,a.rest=oh,a.reverse=zi,a.sampleSize=Jd,a.set=mm,a.setWith=pm,a.shuffle=Qd,a.slice=Xf,a.sortBy=nh,a.sortedUniq=rd,a.sortedUniqBy=id,a.split=Dm,a.spread=ch,a.tail=sd,a.take=ad,a.takeRight=ld,a.takeRightWhile=ud,a.takeWhile=od,a.tap=jd,a.throttle=fh,a.thru=Rr,a.toArray=Tl,a.toPairs=Pl,a.toPairsIn=Ml,a.toPath=vp,a.toPlainObject=Il,a.transform=gm,a.unary=dh,a.union=cd,a.unionBy=fd,a.unionWith=dd,a.uniq=hd,a.uniqBy=md,a.uniqWith=pd,a.unset=xm,a.unzip=Hi,a.unzipWith=hl,a.update=vm,a.updateWith=_m,a.values=bt,a.valuesIn=wm,a.without=gd,a.words=Dl,a.wrap=hh,a.xor=xd,a.xorBy=vd,a.xorWith=_d,a.zip=wd,a.zipObject=yd,a.zipObjectDeep=bd,a.zipWith=Nd,a.entries=Pl,a.entriesIn=Ml,a.extend=El,a.extendWith=Br,Qi(a,a),a.add=wp,a.attempt=Wl,a.camelCase=jm,a.capitalize=Bl,a.ceil=yp,a.clamp=ym,a.clone=ph,a.cloneDeep=xh,a.cloneDeepWith=vh,a.cloneWith=gh,a.conformsTo=_h,a.deburr=Fl,a.defaultTo=Vm,a.divide=bp,a.endsWith=Cm,a.eq=Qe,a.escape=Sm,a.escapeRegExp=Am,a.every=Pd,a.find=Bd,a.findIndex=ul,a.findKey=Zh,a.findLast=Fd,a.findLastIndex=ol,a.findLastKey=Xh,a.floor=Np,a.forEach=pl,a.forEachRight=gl,a.forIn=Jh,a.forInRight=Qh,a.forOwn=Vh,a.forOwnRight=em,a.get=$i,a.gt=wh,a.gte=yh,a.has=rm,a.hasIn=Yi,a.head=fl,a.identity=xe,a.includes=Hd,a.indexOf=Ff,a.inRange=bm,a.invoke=am,a.isArguments=it,a.isArray=A,a.isArrayBuffer=bh,a.isArrayLike=pe,a.isArrayLikeObject=Z,a.isBoolean=Nh,a.isBuffer=Bn,a.isDate=jh,a.isElement=Ch,a.isEmpty=Sh,a.isEqual=Ah,a.isEqualWith=Th,a.isError=ki,a.isFinite=Rh,a.isFunction=_n,a.isInteger=jl,a.isLength=Pr,a.isMap=Cl,a.isMatch=Ih,a.isMatchWith=Eh,a.isNaN=Lh,a.isNative=Oh,a.isNil=Mh,a.isNull=Ph,a.isNumber=Sl,a.isObject=$,a.isObjectLike=Y,a.isPlainObject=zt,a.isRegExp=Ki,a.isSafeInteger=Bh,a.isSet=Al,a.isString=Mr,a.isSymbol=Re,a.isTypedArray=yt,a.isUndefined=Fh,a.isWeakMap=Dh,a.isWeakSet=Wh,a.join=Hf,a.kebabCase=Tm,a.last=qe,a.lastIndexOf=Gf,a.lowerCase=Rm,a.lowerFirst=Im,a.lt=Uh,a.lte=zh,a.max=jp,a.maxBy=Cp,a.mean=Sp,a.meanBy=Ap,a.min=Tp,a.minBy=Rp,a.stubArray=es,a.stubFalse=ns,a.stubObject=mp,a.stubString=pp,a.stubTrue=gp,a.multiply=Ip,a.nth=qf,a.noConflict=ap,a.noop=Vi,a.now=Er,a.pad=Em,a.padEnd=Lm,a.padStart=Om,a.parseInt=Pm,a.random=Nm,a.reduce=$d,a.reduceRight=Yd,a.repeat=Mm,a.replace=Bm,a.result=hm,a.round=Ep,a.runInContext=f,a.sample=Xd,a.size=Vd,a.snakeCase=Fm,a.some=eh,a.sortedIndex=Jf,a.sortedIndexBy=Qf,a.sortedIndexOf=Vf,a.sortedLastIndex=ed,a.sortedLastIndexBy=nd,a.sortedLastIndexOf=td,a.startCase=Wm,a.startsWith=Um,a.subtract=Lp,a.sum=Op,a.sumBy=Pp,a.template=zm,a.times=xp,a.toFinite=wn,a.toInteger=T,a.toLength=Rl,a.toLower=Hm,a.toNumber=ke,a.toSafeInteger=Hh,a.toString=F,a.toUpper=Gm,a.trim=qm,a.trimEnd=km,a.trimStart=Km,a.truncate=$m,a.unescape=Ym,a.uniqueId=_p,a.upperCase=Zm,a.upperFirst=Zi,a.each=pl,a.eachRight=gl,a.first=fl,Qi(a,function(){var e={};return rn(a,function(n,t){W.call(a.prototype,t)||(e[t]=n)}),e}(),{chain:!1}),a.VERSION=un,We(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a}),We(["drop","take"],function(e,n){L.prototype[e]=function(t){t=t===u?1:ee(T(t),0);var r=this.__filtered__&&!n?new L(this):this.clone();return r.__filtered__?r.__takeCount__=se(t,r.__takeCount__):r.__views__.push({size:se(t,Me),type:e+(r.__dir__<0?"Right":"")}),r},L.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),We(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==qt||t==ye;L.prototype[e]=function(i){var l=this.clone();return l.__iteratees__.push({iteratee:N(i,3),type:t}),l.__filtered__=l.__filtered__||r,l}}),We(["head","last"],function(e,n){var t="take"+(n?"Right":"");L.prototype[e]=function(){return this[t](1).value()[0]}}),We(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");L.prototype[e]=function(){return this.__filtered__?new L(this):this[t](1)}}),L.prototype.compact=function(){return this.filter(xe)},L.prototype.find=function(e){return this.filter(e).head()},L.prototype.findLast=function(e){return this.reverse().find(e)},L.prototype.invokeMap=I(function(e,n){return typeof e=="function"?new L(this):this.map(function(t){return Mt(t,e,n)})}),L.prototype.reject=function(e){return this.filter(Or(N(e)))},L.prototype.slice=function(e,n){e=T(e);var t=this;return t.__filtered__&&(e>0||n<0)?new L(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),n!==u&&(n=T(n),t=n<0?t.dropRight(-n):t.take(n-e)),t)},L.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},L.prototype.toArray=function(){return this.take(Me)},rn(L.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=a[r?"take"+(n=="last"?"Right":""):n],l=r||/^find/.test(n);i&&(a.prototype[n]=function(){var o=this.__wrapped__,c=r?[1]:arguments,d=o instanceof L,g=c[0],x=d||A(o),v=function(E){var O=i.apply(a,Rn([E],c));return r&&_?O[0]:O};x&&t&&typeof g=="function"&&g.length!=1&&(d=x=!1);var _=this.__chain__,y=!!this.__actions__.length,j=l&&!_,R=d&&!y;if(!l&&x){o=R?o:new L(this);var C=e.apply(o,c);return C.__actions__.push({func:Rr,args:[v],thisArg:u}),new ze(C,_)}return j&&R?e.apply(this,c):(C=this.thru(v),j?r?C.value()[0]:C.value():C)})}),We(["pop","push","shift","sort","splice","unshift"],function(e){var n=nr[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var l=this.value();return n.apply(A(l)?l:[],i)}return this[t](function(o){return n.apply(A(o)?o:[],i)})}}),rn(L.prototype,function(e,n){var t=a[n];if(t){var r=t.name+"";W.call(gt,r)||(gt[r]=[]),gt[r].push({name:n,func:t})}}),gt[br(u,Ke).name]=[{name:"wrapper",func:u}],L.prototype.clone=$o,L.prototype.reverse=Yo,L.prototype.value=Zo,a.prototype.at=Cd,a.prototype.chain=Sd,a.prototype.commit=Ad,a.prototype.next=Td,a.prototype.plant=Id,a.prototype.reverse=Ed,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=Ld,a.prototype.first=a.prototype.head,Tt&&(a.prototype[Tt]=Rd),a},ht=So();Xn?((Xn.exports=ht)._=ht,Jr._=ht):te._=ht}).call(Ht)})(Wr,Wr.exports);var og=Wr.exports;const nn=(Le,ve)=>!ve||Object.keys(ve).length===0?Le:Le+"|"+Object.keys(ve).sort().map(u=>`${u}:${ve[u]}`).join("|"),Ql=(Le,ve)=>{let u=Le.price;return ve&&Le.variants&&Le.variants.forEach(un=>{const le=ve[un.type];if(!le)return;const on=un.options.find(ie=>ie.value===le);on!=null&&on.price_modifier&&(u+=parseFloat(on.price_modifier))}),u},Og=()=>{var Yt,An;const Le=Mp(),{manage_pos:ve}=Bp(["manage_pos"]),[u,un]=D.useState([]),[le,on]=D.useState("");D.useState(!1);const[ie,Fn]=D.useState(!1),[Nt,bn]=D.useState(!1);D.useState(!1);const[st,_e]=D.useState(!1),[Q,Nn]=D.useState(null),[Oe,Dn]=D.useState({}),[K,Ke]=D.useState(null),[$e,he]=D.useState(""),[cn,we]=D.useState(!1),[P,Pe]=D.useState(null),[ue,Wn]=D.useState("all"),[Gt,Ur]=D.useState("grid");D.useRef(null);const Un=D.useRef(null),jt=D.useRef(null),[qt,kt]=D.useState(!0),[ye,be]=D.useState(!1),[Ne,zr]=D.useState([]),[jn,Me]=D.useState([]),[at,Hr]=D.useState(0),[Kt,Cn]=D.useState(new Date);D.useEffect(()=>{const m=setInterval(()=>{Cn(new Date)},1e3);return()=>clearInterval(m)},[]),D.useEffect(()=>{ve||D.startTransition(()=>Le("/unauthorized")),lt()},[]),D.useEffect(()=>{!ye&&Un.current&&Un.current.focus()},[ye]);const lt=async()=>{kt(!0);try{const b=(await Hl.get("/get-store-products/")).data;if(!b.error&&b.data){Me(b.data.categories),zr(b.data.products),Hr(Number(b.data.store_gst));return}ln.error(b.data||"Error fetching products")}catch(m){console.error("Error fetching products:",m),ln.error("Error fetching products")}finally{kt(!1)}},Gr=D.useCallback(og.debounce(m=>{on(m)},300),[]),zn=m=>{const b=m.target.value;ye||Gr(b)},fn=D.useMemo(()=>!le&&ue==="all"?Ne:Ne.filter(m=>{var oe;const b=le?m.name.toLowerCase().includes(le.toLowerCase())||m.id.toLowerCase().includes(le.toLowerCase())||((oe=m.category)==null?void 0:oe.toLowerCase().includes(le.toLowerCase())):!0,G=ue==="all"||m.category===ue;return b&&G}),[Ne,le,ue]),Hn=u.reduce((m,b)=>m+b.price*b.quantity,0),dn=Hn*(at/100),Ye=Hn+dn,Gn=$e?parseFloat($e)-Ye:0,je=m=>{Nn(m),Dn({}),_e(!0)},Sn=(m,b)=>{nn(m.id,b),un(G=>{if(G.find(B=>nn(B.product.id,B.selectedVariants||{})===nn(m.id,b||{})))return G.map(B=>{const tn=nn(B.product.id,B.selectedVariants||{}),$n=nn(m.id,b||{});return tn===$n?{...B,quantity:B.quantity+1}:B});const Fe=Ql(m,b);return[...G,{product:m,quantity:1,price:Fe,selectedVariants:b||{}}]}),ln.success(`${m.name} added to cart`),_e(!1)},qn=m=>{m.variants&&m.variants.length>0?je(m):Sn(m)},Be=(m,b,G)=>{const oe=nn(m,b);un(Fe=>Fe.map(B=>nn(B.product.id,B.selectedVariants)===oe?{...B,quantity:Math.max(0,B.quantity+G)}:B).filter(B=>B.quantity>0))},$t=(m,b)=>{const G=nn(m,b);un(oe=>oe.filter(Fe=>nn(Fe.product.id,Fe.selectedVariants)!==G))},Ct=()=>{un([]),ln.success("Cart cleared")},kn=m=>{const b=Ne.find(G=>G.sku===m);b?qn(b):ln.error("Product not found"),setTimeout(()=>be(!1),2e3)},Ce=async()=>{var m;if(K){if(K==="cash"&&(!$e||parseFloat($e)<Ye)){ln.error("Insufficient cash amount");return}we(!0);try{const b={items:u.map(B=>{const tn=[];return B.selectedVariants&&B.product.variants&&Object.entries(B.selectedVariants).forEach(([$n,St])=>{const Yn=B.product.variants.find(Zn=>Zn.type===$n),Ze=Yn==null?void 0:Yn.options.find(Zn=>Zn.value===St);(Ze==null?void 0:Ze.option_id)!==void 0&&(Ze==null?void 0:Ze.option_id)!==null&&tn.push(Number(Ze.option_id))}),{product_id:Number(B.product.id),quantity:Number(B.quantity),price:Number(B.price),product_name:B.product.name,variant_options:tn}}),subtotal:Number(Hn),tax:Number(dn),total:Number(Ye),payment_method:K,...K==="cash"?{cash_received:Number($e),change:Number(Gn)}:{}},oe=(await Hl.post("/process-pos/",b)).data;if(oe.error)throw new Error(oe.data||"Payment failed");const Fe={id:((m=oe.data)==null?void 0:m.receipt_id)||`RCP-${Date.now()}`,date:new Date().toLocaleString(),items:u,subtotal:Hn,tax:dn,total:Ye,paymentMethod:K,cashReceived:K==="cash"?Number($e):null,change:K==="cash"?Gn:null};Pe(Fe),Fn(!1),bn(!0),Ct(),ln.success("Payment successful")}catch(b){ln.error(b.message||"Payment processing failed")}finally{we(!1)}}},Kn=()=>{const m=window.open("","_blank");m&&jt.current&&(m.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Receipt - ${P==null?void 0:P.id}</title>
            <style>
              @media print {
                body {
                  font-family: 'Courier New', monospace;
                  font-size: 11px !important;
                  width: 57mm !important;
                  max-width: 57mm !important;
                  margin: 0 !important;
                  padding: 2mm !important;
                  line-height: 1.1;
                  -webkit-print-color-adjust: exact;
                }
                * {
                  box-sizing: border-box;
                  margin: 0;
                  padding: 0;
                }
                .receipt-container {
                  width: 100% !important;
                  max-width: 53mm !important;
                  word-wrap: break-word;
                  overflow-wrap: break-word;
                  word-break: break-word;
                }
                .header {
                  text-align: center;
                  margin-bottom: 2mm;
                }
                .logo-main {
                  font-size: 12px;
                  font-weight: bold;
                  margin-bottom: 1mm;
                }
                .logo-sub {
                  font-size: 9px;
                  margin-bottom: 1mm;
                  color: #666;
                }
                .order-type {
                  font-size: 10px;
                  font-weight: bold;
                  text-transform: uppercase;
                  margin: 1mm 0;
                }
                .divider {
                  border-top: 1px dashed #000;
                  margin: 2mm 0;
                }
                .divider-thick {
                  border-top: 2px solid #000;
                  margin: 3mm 0;
                }
                .divider-total {
                  border-top: 1px solid #333;
                  margin: 1mm 0;
                }
                .section-title {
                  font-weight: bold;
                  font-size: 10px;
                  text-transform: uppercase;
                  margin-bottom: 1mm;
                  text-align: center;
                }
                .info-row {
                  display: flex;
                  justify-content: space-between;
                  margin: 1mm 0;
                  font-size: 10px;
                }
                .info-row div:first-child {
                  font-weight: bold;
                  min-width: 40%;
                }
                .info-row div:last-child {
                  text-align: right;
                  min-width: 60%;
                }
                .items-section {
                  margin: 2mm 0;
                }
                .item {
                  margin: 2mm 0;
                  padding-bottom: 1mm;
                  border-bottom: 1px dotted #ccc;
                  page-break-inside: avoid;
                }
                .item-main {
                  display: flex;
                  justify-content: space-between;
                  align-items: flex-start;
                  margin-bottom: 0.5mm;
                }
                .item-name {
                  font-size: 10px;
                  font-weight: bold;
                  flex: 1;
                  line-height: 1.2;
                  word-break: break-word;
                  white-space: normal;
                  max-width: 70%;
                }
                .item-quantity {
                  font-size: 10px;
                  font-weight: bold;
                  margin-left: 1mm;
                  white-space: nowrap;
                }
                .item-price-row {
                  display: flex;
                  justify-content: space-between;
                  font-size: 9px;
                  color: #666;
                }
                .item-unit {
                  flex: 1;
                }
                .item-total {
                  font-weight: bold;
                  text-align: right;
                  min-width: 30%;
                }
                .item-variants {
                  margin-top: 1mm;
                  font-size: 8px;
                  color: #888;
                  padding-left: 2mm;
                }
                .variant-item {
                  margin: 0.3mm 0;
                }
                .payment-info {
                  margin: 2mm 0;
                }
                .totals {
                  margin: 2mm 0;
                }
                .total-item {
                  display: flex;
                  justify-content: space-between;
                  margin: 1mm 0;
                  font-size: 10px;
                }
                .total-amount {
                  font-weight: bold;
                  min-width: 35%;
                  text-align: right;
                }
                .grand-total {
                  font-size: 11px;
                  margin-top: 1mm;
                  padding-top: 1mm;
                  border-top: 1px solid #000;
                }
                .footer {
                  text-align: center;
                  margin-top: 3mm;
                  font-size: 9px;
                  line-height: 1.2;
                }
                .thank-you {
                  font-weight: bold;
                  font-size: 10px;
                  margin-bottom: 1mm;
                }
                .store-info {
                  margin-bottom: 1mm;
                  color: #666;
                }
                .store-info div:first-child {
                  font-weight: bold;
                  font-size: 10px;
                }
                .receipt-number {
                  font-size: 8px;
                  color: #888;
                  margin-top: 1mm;
                }
                .print-date {
                  font-size: 8px;
                  color: #888;
                  margin-top: 0.5mm;
                }
                
                @page {
                  margin: 0;
                  size: 57mm auto;
                }
                body, html {
                  width: 57mm !important;
                  min-width: 57mm !important;
                  max-width: 57mm !important;
                }
                * {
                  max-width: 53mm !important;
                }
              }
              
              @media screen {
                body {
                  background: white;
                  padding: 10px;
                }
                .receipt-container {
                  max-width: 57mm;
                  margin: 0 auto;
                  border: 1px solid #ccc;
                  padding: 5px;
                  box-shadow: 0 0 5px rgba(0,0,0,0.1);
                }
              }
            </style>
          </head>
          <body>
            ${jt.current.innerHTML}
            <script>
              window.onload = function() {
                setTimeout(function() {
                  window.print();
                  setTimeout(function() {
                    window.close();
                  }, 500);
                }, 250);
              };
            <\/script>
          </body>
        </html>
      `),m.document.close())},ut=()=>{Kn(),Ct(),bn(!1),Ke(null),he(""),Pe(null),ln.success("Transaction completed!")};return qt?s.jsx("div",{className:"min-h-[400px] flex items-center justify-center bg-gradient-warm",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"relative mx-auto w-16 h-16",children:[s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/10"}),s.jsx(en.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent"})]}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Loading POS System"})})]})}):s.jsxs(s.Fragment,{children:[s.jsx(Vp,{onScan:kn,enabled:ye}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"font-display text-2xl md:text-3xl mb-2",children:"Point of Sale"}),s.jsx("p",{className:"text-muted-foreground",children:"Quick and efficient checkout system"})]})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsx(ss,{className:"border-0 shadow-soft",children:s.jsxs(as,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-2 rounded-md ${ye?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:s.jsx(ug,{className:"h-5 w-5"})}),s.jsx("span",{className:"font-medium",children:ye?"Barcode Scan Mode":"Search Mode"})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Fp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Gl,{ref:Un,placeholder:"Type to search products...",onChange:zn,defaultValue:le,className:"pl-9",autoFocus:!0})]}),s.jsx(J,{type:"button",variant:ye?"destructive":"outline",onClick:()=>{ye?be(!1):(be(!0),ln.info("Ready to scan. Point camera at barcode...",{autoClose:3e3}))},className:"gap-2",children:ye?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Zl,{className:"h-4 w-4 animate-pulse"}),s.jsx("div",{className:"absolute inset-0 bg-red-500 rounded-full animate-ping opacity-75"})]}),s.jsxs("span",{className:"relative",children:["Scanning...",s.jsx("span",{className:"absolute -top-1 -right-2 h-2 w-2 bg-red-500 rounded-full animate-pulse"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(eg,{className:"h-4 w-4"}),s.jsx("span",{children:"Scan Barcode"})]})})]}),le&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[fn.length," products found"]}),s.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{on(""),Un.current&&(Un.current.value="")},children:"Clear Search"})]})]}),ye&&s.jsx(en.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:()=>be(!1),children:s.jsxs("div",{className:"relative",onClick:m=>m.stopPropagation(),children:[s.jsxs("div",{className:"relative w-64 h-64 md:w-80 md:h-80",children:[s.jsx("div",{className:"absolute inset-0 border-4 border-primary/20 rounded-2xl"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-primary to-transparent animate-[scan_2s_linear_infinite]"}),s.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-primary"}),s.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-primary"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-primary"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-primary"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-32 h-32 border-2 border-primary/40 rounded-full animate-pulse"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full animate-ping"})})]})}),s.jsx("div",{className:"absolute -bottom-16 left-0 right-0 text-center",children:s.jsxs(en.div,{animate:{y:[0,-5,0]},transition:{duration:1.5,repeat:1/0},className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Zl,{className:"h-5 w-5 text-primary animate-pulse"}),s.jsx("h3",{className:"text-xl font-display font-semibold text-white",children:"Scanning..."})]}),s.jsx("p",{className:"text-sm text-primary/80",children:"Point camera at barcode"}),s.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-xs text-white/60",children:[s.jsx("div",{className:"h-1.5 w-1.5 bg-primary rounded-full animate-pulse"}),s.jsx("div",{className:"h-1.5 w-1.5 bg-primary rounded-full animate-pulse delay-150"}),s.jsx("div",{className:"h-1.5 w-1.5 bg-primary rounded-full animate-pulse delay-300"}),s.jsx("span",{className:"ml-2",children:"Looking for barcode"})]})]})})]}),s.jsxs(en.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"mt-12 bg-black/40 backdrop-blur-md rounded-xl p-6 max-w-md mx-auto border border-white/10",children:[s.jsxs("h4",{className:"font-display font-medium text-white mb-3 flex items-center gap-2",children:[s.jsx(ng,{className:"h-4 w-4 text-primary"}),"Scanning Tips"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-white/70",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 bg-primary rounded-full mt-1.5"}),"Ensure good lighting on the barcode"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 bg-primary rounded-full mt-1.5"}),"Hold camera steady for 2-3 seconds"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 bg-primary rounded-full mt-1.5"}),"Keep barcode within the scanning frame"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 bg-primary rounded-full mt-1.5"}),"Scan will auto-populate SKU field"]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:s.jsxs(J,{onClick:()=>be(!1),variant:"destructive",size:"sm",className:"w-full gap-2",children:[s.jsx(ts,{className:"h-4 w-4"}),"Stop Scanning"]})})]})]})}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tg,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Categories"})]}),s.jsx(Jp,{value:Gt,onValueChange:m=>Ur(m),className:"w-auto",children:s.jsxs(Qp,{className:"h-8",children:[s.jsx(Yl,{value:"grid",className:"px-3 text-xs",children:"Grid"}),s.jsx(Yl,{value:"list",className:"px-3 text-xs",children:"List"})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(J,{variant:ue==="all"?"default":"outline",size:"sm",onClick:()=>Wn("all"),className:rs("h-8",ue==="all"&&"bg-primary hover:bg-primary/90"),children:"All Products"}),jn.slice(0,6).map(m=>s.jsx(J,{variant:ue===m.name?"default":"outline",size:"sm",onClick:()=>Wn(m.name),className:rs("h-8",ue===m.name&&"bg-primary hover:bg-primary/90"),children:m.name},m.id)),jn.length>6&&s.jsxs(kp,{value:ue,onValueChange:Wn,children:[s.jsx(Kp,{className:"h-8 w-[140px]",children:s.jsx($p,{placeholder:"More..."})}),s.jsx(Yp,{children:jn.slice(6).map(m=>s.jsx(Zp,{value:m.name,children:m.name},m.id))})]})]})]})]})}),s.jsx(ss,{className:"border-0 shadow-soft",children:s.jsx(as,{className:"p-4",children:Gt==="grid"?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 max-h-[500px] overflow-y-auto p-1",children:fn.map(m=>s.jsxs("div",{className:"group relative p-3 rounded-lg border border-border hover:border-primary/50 hover:bg-primary/5 transition-all text-left cursor-pointer",onClick:()=>qn(m),children:[s.jsx(en.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"aspect-square rounded-md overflow-hidden mb-2 bg-muted",children:s.jsx("img",{src:Fr(m.image),alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-sm line-clamp-2",children:m.name}),m.variants&&m.variants.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ql,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Has variants"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-primary font-semibold",children:H(m.price)}),s.jsx("button",{onClick:b=>{b.stopPropagation(),qn(m)},className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-md hover:bg-primary/10",children:s.jsx(Dr,{className:"h-3 w-3"})})]})]})]},m.id))}):s.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:fn.map(m=>s.jsxs("div",{className:"w-full flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 hover:bg-primary/5 transition-all text-left cursor-pointer group",onClick:()=>qn(m),children:[s.jsx(en.div,{whileHover:{scale:1.01},className:"w-16 h-16 rounded-md overflow-hidden flex-shrink-0 bg-muted",children:s.jsx("img",{src:Fr(m.image),alt:m.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:m.name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:m.category}),m.variants&&m.variants.length>0&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(ql,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Select variants"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-primary font-semibold",children:H(m.price)}),s.jsx("button",{onClick:b=>{b.stopPropagation(),qn(m)},className:"h-6 w-6 p-0 mt-1 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-md hover:bg-primary/10 ml-auto",children:s.jsx(Dr,{className:"h-3 w-3"})})]})]},m.id))})})})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs(ss,{className:"sticky top-4 border-0 shadow-elevated",children:[s.jsx(Gp,{className:"pb-3 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(qp,{className:"text-lg flex items-center gap-2",children:[s.jsx(kl,{className:"h-5 w-5 text-primary"}),"Cart (",u.reduce((m,b)=>m+b.quantity,0),")"]}),u.length>0&&s.jsxs(J,{variant:"ghost",size:"sm",onClick:Ct,className:"text-destructive hover:text-destructive h-8 px-2",children:[s.jsx(Xl,{className:"h-4 w-4 mr-1"}),"Clear"]})]})}),s.jsxs(as,{className:"space-y-4 p-4",children:[s.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:u.length===0?s.jsxs("div",{className:"text-center py-8 space-y-3",children:[s.jsx(Dp,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),s.jsx("p",{className:"text-muted-foreground",children:"Cart is empty"}),s.jsx("p",{className:"text-sm text-muted-foreground/70",children:ye?"Scan a barcode or switch to search":"Search or scan products to add"})]}):u.map(m=>s.jsxs("div",{className:"group flex items-center gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[s.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden flex-shrink-0",children:s.jsx("img",{src:Fr(m.product.image),alt:"",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm truncate",children:m.product.name}),m.selectedVariants&&Object.keys(m.selectedVariants).length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Object.entries(m.selectedVariants).map(([b,G])=>s.jsx(is,{variant:"outline",className:"text-xs py-0 px-1.5",children:G},b))})]}),s.jsx("p",{className:"text-primary font-semibold text-sm",children:H(m.price)})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(J,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Be(m.product.id,m.selectedVariants,-1),children:s.jsx(rg,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-6 text-center font-medium text-sm",children:m.quantity}),s.jsx(J,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Be(m.product.id,m.selectedVariants,1),children:s.jsx(Dr,{className:"h-3 w-3"})})]}),s.jsx("p",{className:"text-sm font-medium",children:H(m.price*m.quantity)})]})]}),s.jsx(J,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive flex-shrink-0",onClick:()=>$t(m.product.id,m.selectedVariants),children:s.jsx(Xl,{className:"h-3 w-3"})})]},nn(m.product.id,m.selectedVariants)))}),s.jsx($l,{className:"my-4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsx("span",{children:H(Hn)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["GST (",at,"%)"]}),s.jsx("span",{children:H(dn)})]}),s.jsx($l,{}),s.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{className:"text-primary text-xl",children:H(Ye)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[s.jsxs(J,{className:"h-12",disabled:u.length===0,onClick:()=>{Ke("cash"),Fn(!0)},children:[s.jsx(lg,{className:"h-4 w-4 mr-2"}),"Cash"]}),s.jsxs(J,{variant:"secondary",className:"h-12",disabled:u.length===0,onClick:()=>{Ke("card"),Fn(!0)},children:[s.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Card"]})]})]})]})})]}),s.jsx(ls,{open:st,onOpenChange:_e,children:s.jsxs(us,{className:"max-w-md max-h-[85vh] overflow-hidden flex flex-col",children:[s.jsx(os,{className:"pb-3",children:s.jsxs(cs,{className:"flex items-center gap-2",children:[s.jsx(Wp,{className:"h-5 w-5 text-primary"}),Q==null?void 0:Q.name]})}),Q&&s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex gap-4 pb-4 border-b",children:[s.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0 bg-muted",children:s.jsx("img",{src:Fr(Q.image),alt:Q.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold truncate",children:Q.name}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Q.category}),s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-2xl font-bold text-primary",children:H(Q.price)}),Q.originalPrice&&s.jsx("span",{className:"text-sm text-muted-foreground line-through ml-2",children:H(Q.originalPrice)})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:Q.variants&&Q.variants.length>0&&s.jsx("div",{className:"space-y-4",children:Q.variants.map(m=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Xp,{className:"font-medium",children:m.type}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Oe[m.type]||"Not selected"})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:m.options.map(b=>s.jsx(J,{variant:Oe[m.type]===b.value?"default":"outline",size:"sm",onClick:()=>{Dn(G=>({...G,[m.type]:b.value}))},className:rs("h-10",Oe[m.type]===b.value&&"bg-primary hover:bg-primary/90"),children:s.jsxs("div",{className:"text-xs",children:[b.value,b.price_modifier&&s.jsx("div",{className:"text-[10px] opacity-75",children:parseFloat(b.price_modifier)>0?`+$${b.price_modifier}`:`$${b.price_modifier}`})]})},b.value))})]},m.type))})}),s.jsxs("div",{className:"pt-4 border-t mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"font-medium",children:"Final Price:"}),s.jsx("span",{className:"text-xl font-bold text-primary",children:H(Ql(Q,Oe))})]}),s.jsxs(fs,{className:"flex-col sm:flex-row gap-2",children:[s.jsx(J,{variant:"outline",onClick:()=>_e(!1),className:"flex-1",children:"Cancel"}),s.jsxs(J,{onClick:()=>Sn(Q,Oe),className:"flex-1",children:[s.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})]})]})]})]})}),s.jsx(ls,{open:ie,onOpenChange:Fn,children:s.jsxs(us,{className:"max-w-md",children:[s.jsx(os,{children:s.jsx(cs,{children:K==="cash"?"Cash Payment":"Card Payment"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center py-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsx("p",{className:"text-3xl font-bold text-primary",children:H(Ye)})]}),K==="cash"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ig,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Gl,{type:"number",placeholder:"Cash amount",value:$e,onChange:m=>he(m.target.value),className:"pl-9 text-lg h-12",step:"0.01",autoFocus:!0})]}),$e&&Gn>=0&&s.jsxs("div",{className:"p-3 bg-green-50 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-green-600",children:"Change Due"}),s.jsx("p",{className:"text-xl font-bold text-green-700",children:H(Gn)})]}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:[10,20,50,100].map(m=>s.jsx(J,{variant:"outline",onClick:()=>he(m.toString()),className:"h-10",children:H(m)},m))})]}),K==="card"&&s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Jl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Process card payment"})]})]}),s.jsxs(fs,{children:[s.jsx(J,{variant:"outline",onClick:()=>Fn(!1),children:"Cancel"}),s.jsx(J,{onClick:Ce,disabled:cn,children:cn?s.jsxs(s.Fragment,{children:[s.jsx(sg,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Up,{className:"h-4 w-4 mr-2"}),"Complete"]})})]})]})}),s.jsx(ls,{open:Nt,onOpenChange:bn,children:s.jsxs(us,{className:"max-w-sm sm:max-w-md border-0 bg-gradient-to-br from-white/30 via-white/20 to-white/10 backdrop-blur-2xl shadow-2xl rounded-3xl p-0 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-primary/10 via-transparent to-transparent"}),s.jsxs(os,{className:"relative p-6 border-b border-white/30",children:[s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-primary/20 to-accent/20 border border-primary/30",children:s.jsx(ds,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(cs,{className:"font-display text-xl font-bold bg-gradient-to-r from-foreground to-foreground/90 bg-clip-text text-transparent",children:"Receipt Preview"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:P?`Order #${P.id}`:"Complete a transaction"})]})]})}),s.jsx(J,{variant:"ghost",size:"icon",className:"absolute right-4 top-4 h-9 w-9 rounded-xl bg-white/30 hover:bg-white/40 backdrop-blur-xl",onClick:()=>bn(!1),children:s.jsx(ts,{className:"h-4 w-4"})})]}),P?s.jsxs("div",{className:"relative p-6 space-y-6",children:[s.jsxs(en.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsxs(is,{className:"mb-4 px-4 py-2 rounded-full bg-gradient-to-r from-primary/20 to-accent/20 text-white border-primary/30 backdrop-blur-xl",children:[s.jsx(ag,{className:"h-4 w-4 mr-2"}),"Transaction Complete"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/10 to-accent/10 border border-primary/20",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Items"}),s.jsx("div",{className:"text-lg font-bold text-primary",children:P.items.reduce((m,b)=>m+b.quantity,0)})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-gradient-to-br from-orange-500/10 to-amber-400/10 border border-orange-400/20",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Payment"}),s.jsx("div",{className:"text-lg font-bold text-orange-400",children:(Yt=P.paymentMethod)==null?void 0:Yt.toUpperCase()})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-gradient-to-br from-emerald-500/10 to-green-400/10 border border-emerald-400/20",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Total"}),s.jsx("div",{className:"text-lg font-bold text-emerald-400",children:H(P.total)})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-xl border border-white/20 rounded-2xl p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsx("span",{className:"font-medium",children:H(P.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["GST (",at,"%)"]}),s.jsx("span",{className:"font-medium",children:H(P.tax)})]})]}),s.jsx("div",{className:"space-y-2",children:P.cashReceived&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cash"}),s.jsx("span",{className:"font-medium",children:H(P.cashReceived)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Change"}),s.jsx("span",{className:"font-medium text-emerald-400",children:H(P.change)})]})]})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-bold",children:"Grand Total"}),s.jsx("span",{className:"text-2xl font-bold text-primary",children:H(P.total)})]})})]})]}),s.jsxs(en.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs("div",{className:"relative max-h-[240px] overflow-y-auto border-2 border-white/20 rounded-2xl p-4 bg-gradient-to-b from-white/40 via-white/20 to-white/10 backdrop-blur-xl",children:[s.jsx("div",{className:"sticky top-0 z-10 mb-3 pb-2 bg-gradient-to-b from-white/40 to-transparent backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:s.jsx(kl,{className:"h-4 w-4 text-primary"})}),s.jsx("span",{className:"font-medium",children:"Thermal Receipt Preview"})]}),s.jsx(is,{className:"bg-gradient-to-r from-primary/10 to-accent/10 text-white border-primary/20",children:"57mm"})]})}),s.jsxs("div",{ref:jt,className:"receipt-container mx-auto w-[180px] scale-110 origin-top",children:[s.jsxs("div",{className:"header",children:[s.jsxs("div",{className:"logo",children:[s.jsx("div",{className:"logo-main",children:Kl}),s.jsx("div",{className:"logo-sub",children:"Premium Beauty & Cosmetics"})]}),s.jsx("div",{className:"divider"}),s.jsx("div",{className:"order-type",children:"POS RECEIPT"})]}),s.jsx("div",{className:"divider"}),s.jsxs("div",{className:"order-info",children:[s.jsxs("div",{className:"info-row",children:[s.jsx("div",{children:s.jsx("strong",{children:"ORDER #:"})}),s.jsx("div",{children:P.id})]}),s.jsxs("div",{className:"info-row",children:[s.jsx("div",{children:s.jsx("strong",{children:"DATE:"})}),s.jsx("div",{children:Kt.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]}),s.jsxs("div",{className:"info-row",children:[s.jsx("div",{children:s.jsx("strong",{children:"TIME:"})}),s.jsx("div",{children:Kt.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),s.jsx("div",{className:"divider"}),s.jsxs("div",{className:"items-section",children:[s.jsx("div",{className:"section-title",children:"ORDER ITEMS"}),P.items.map(m=>s.jsxs("div",{className:"item",children:[s.jsxs("div",{className:"item-main",children:[s.jsx("div",{className:"item-name",children:m.product.name.substring(0,25)}),s.jsxs("div",{className:"item-quantity",children:["×",m.quantity]})]}),s.jsxs("div",{className:"item-price-row",children:[s.jsxs("div",{className:"item-unit",children:[H(m.price)," × ",m.quantity]}),s.jsx("div",{className:"item-total",children:H(m.price*m.quantity)})]}),m.selectedVariants&&Object.keys(m.selectedVariants).length>0&&s.jsx("div",{className:"item-variants",children:Object.entries(m.selectedVariants).map(([b,G])=>s.jsxs("div",{className:"variant-item",children:["• ",b,": ",G]},b))})]},nn(m.product.id,m.selectedVariants)))]}),s.jsx("div",{className:"divider-thick"}),s.jsxs("div",{className:"payment-info",children:[s.jsx("div",{className:"section-title",children:"PAYMENT"}),s.jsxs("div",{className:"info-row",children:[s.jsx("div",{children:s.jsx("strong",{children:"METHOD:"})}),s.jsx("div",{children:((An=P.paymentMethod)==null?void 0:An.toUpperCase())||"CASH"})]}),P.cashReceived&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"info-row",children:[s.jsx("div",{children:s.jsx("strong",{children:"CASH:"})}),s.jsx("div",{children:H(P.cashReceived)})]}),s.jsxs("div",{className:"info-row",children:[s.jsx("div",{children:s.jsx("strong",{children:"CHANGE:"})}),s.jsx("div",{children:H(P.change)})]})]})]}),s.jsx("div",{className:"divider"}),s.jsxs("div",{className:"totals",children:[s.jsx("div",{className:"section-title",children:"ORDER SUMMARY"}),s.jsxs("div",{className:"total-item",children:[s.jsx("div",{children:"SUBTOTAL"}),s.jsx("div",{className:"total-amount",children:H(P.subtotal)})]}),s.jsxs("div",{className:"total-item",children:[s.jsxs("div",{children:["GST (",at,"%)"]}),s.jsx("div",{className:"total-amount",children:H(P.tax)})]}),s.jsx("div",{className:"divider-total"}),s.jsxs("div",{className:"total-item grand-total",children:[s.jsx("div",{children:s.jsx("strong",{children:"TOTAL"})}),s.jsx("div",{className:"total-amount",children:s.jsx("strong",{children:H(P.total)})})]})]}),s.jsx("div",{className:"divider-thick"}),s.jsxs("div",{className:"footer",children:[s.jsx("div",{className:"thank-you",children:"Thank you for shopping!"}),s.jsxs("div",{className:"store-info",children:[s.jsx("div",{children:Kl}),s.jsxs("div",{children:["Tel: ",zp]}),s.jsx("div",{children:Hp})]}),s.jsx("div",{className:"divider"}),s.jsxs("div",{className:"receipt-number",children:["RCPT: ",P.id]}),s.jsx("div",{className:"print-date",children:new Date().toLocaleDateString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-primary/5 to-accent/5 border border-white/20",children:[s.jsx("div",{className:"h-2 w-2 bg-primary rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Preview scaled for display • Actual print: 57mm thermal paper"})]})})]}),s.jsx(fs,{className:"pt-4 border-t border-white/20",children:s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx(J,{variant:"outline",className:"flex-1 rounded-xl border-white/30 bg-white/20 hover:bg-white/30 backdrop-blur-xl",onClick:()=>bn(!1),children:"Close"}),s.jsxs(J,{onClick:ut,className:"flex-1 rounded-xl bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 shadow-2xl shadow-primary/40 hover:shadow-3xl hover:shadow-primary/50 transition-all duration-300 gap-2",children:[s.jsx(ds,{className:"h-4 w-4"}),"Print Receipt"]})]})})]}):s.jsxs("div",{className:"relative p-8 text-center space-y-6",children:[s.jsxs(en.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 rounded-full blur-2xl"}),s.jsx("div",{className:"relative h-32 w-32 rounded-full bg-gradient-to-br from-white/20 via-white/10 to-white/5 border-2 border-white/20 backdrop-blur-xl flex items-center justify-center mx-auto",children:s.jsxs("div",{className:"relative",children:[s.jsx(ds,{className:"h-16 w-16 text-primary/60"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-accent/20 rounded-full blur-xl"})]})})]}),s.jsxs(en.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-3",children:[s.jsx("h3",{className:"font-display text-xl font-bold bg-gradient-to-r from-foreground to-foreground/90 bg-clip-text text-transparent",children:"No Receipt Available"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Complete a transaction to generate a printable receipt for your customers"})]}),s.jsx(en.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"pt-4",children:s.jsxs(J,{variant:"outline",onClick:()=>bn(!1),className:"rounded-xl border-white/30 bg-white/20 hover:bg-white/30 backdrop-blur-xl px-8 gap-2",children:[s.jsx(ts,{className:"h-4 w-4"}),"Close"]})})]})]})})]})]})};export{Og as default};
