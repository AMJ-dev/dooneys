import{p as jr,aN as vr,E as Nr,F as wr,r as d,h as Xe,a6 as b,j as e,B as c,m as h,J as n,w as P,H as l,aC as M,aD as F,aE as H,aF as q,D as yr,S as J,d as Ze,ah as Cr,a4 as Ke,a5 as G,k as Y,aG as kr,aH as _r,aI as Tr,X as Or,P as Dr}from"./index-DrzvgQSx.js";import{S as k}from"./separator-DpYAwveS.js";import{T as Pr}from"./textarea-svmRLyU5.js";import{D as Sr,a as zr,b as Ar,c as $r,d as Er,f as Rr}from"./dialog-B_H0D0bM.js";import{C as N,d as j,a as S,b as z,c as Qe}from"./card-CSdj4VlM.js";import{S as m}from"./skeleton-BqmPmUai.js";import{T as Ur,a as Lr,b as er,c as rr}from"./tabs-kkrfGa6s.js";import{C as Br}from"./circle-alert-D5MbGcH3.js";import{A as sr}from"./arrow-left-4JsjAwAx.js";import{S as W}from"./store-Cjxw61W-.js";import{C as Ir}from"./calendar-Bh2qMya8.js";import{D as Mr}from"./dollar-sign-CiHtqMiF.js";import{R as lr}from"./refresh-cw-B2nHbzn8.js";import{P as ar}from"./printer-BRFKyG0J.js";import{S as Fr}from"./square-pen-BAbl0GsK.js";import{I as Hr}from"./info-Bi8M6cC4.js";import{M as qr}from"./message-circle-BneScz_P.js";import{C as Gr}from"./copy-DaJ-tUD2.js";import{S as Yr}from"./scale-BT-ip_mF.js";import{R as Wr}from"./ruler-B-RuB7cw.js";import{H as Vr}from"./hash-vuOsiX4R.js";import{S as Jr}from"./scissors-C0zi99Eo.js";import{C as V}from"./credit-card-B1BYDSKm.js";import{G as tr}from"./gift-CH5Nskwu.js";import{T as nr}from"./truck-Bjx6mnMk.js";import{C as X}from"./circle-check-big-Cc93Cm_Q.js";import{C as Z}from"./circle-x-DMFlKDxD.js";import{C as dr}from"./clock-B9_Mht4K.js";import{L as Xr}from"./loader-circle-oXQTLidO.js";import{S as Zr}from"./save-BctxvPZE.js";import{S as Kr}from"./sparkle-Ct9pGhZK.js";import{Z as Qr}from"./zap-BFNduXU6.js";import{D as es}from"./diamond-CgKAPVFQ.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=jr("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),or=["pending","processing","packaging","shipped","ready_for_pickup","delivered"],A={pending:{label:"Order Placed",icon:Kr,color:"text-amber-300",bgColor:"bg-gradient-to-br from-amber-500/15 via-amber-400/10 to-amber-500/15",borderColor:"border-amber-400/40",gradient:"from-amber-500 via-amber-400 to-amber-300",iconBg:"bg-gradient-to-br from-amber-500/20 to-amber-400/15",timelineColor:"from-amber-500/60 to-amber-400/40",lightColor:"text-amber-300",ringColor:"ring-amber-500/30",bgLight:"bg-amber-500/10",pulse:"shadow-[0_0_20px_rgba(245,158,11,0.15)]"},processing:{label:"Processing",icon:Qr,color:"text-orange-300",bgColor:"bg-gradient-to-br from-orange-500/15 via-orange-400/10 to-orange-500/15",borderColor:"border-orange-400/40",gradient:"from-orange-500 via-orange-400 to-orange-300",iconBg:"bg-gradient-to-br from-orange-500/20 to-orange-400/15",timelineColor:"from-orange-500/60 to-orange-400/40",lightColor:"text-orange-300",ringColor:"ring-orange-500/30",bgLight:"bg-orange-500/10",pulse:"shadow-[0_0_20px_rgba(249,115,22,0.15)]"},packaging:{label:"Packaging",icon:Dr,color:"text-blue-300",bgColor:"bg-gradient-to-br from-blue-500/15 via-blue-400/10 to-blue-500/15",borderColor:"border-blue-400/40",gradient:"from-blue-500 via-blue-400 to-blue-300",iconBg:"bg-gradient-to-br from-blue-500/20 to-blue-400/15",timelineColor:"from-blue-500/60 to-blue-400/40",lightColor:"text-blue-300",ringColor:"ring-blue-500/30",bgLight:"bg-blue-500/10",pulse:"shadow-[0_0_20px_rgba(59,130,246,0.15)]"},shipped:{label:"Shipped",icon:nr,color:"text-violet-300",bgColor:"bg-gradient-to-br from-violet-500/15 via-purple-400/10 to-violet-500/15",borderColor:"border-violet-400/40",gradient:"from-violet-500 via-purple-400 to-violet-300",iconBg:"bg-gradient-to-br from-violet-500/20 to-violet-400/15",timelineColor:"from-violet-500/60 to-purple-400/40",lightColor:"text-violet-300",ringColor:"ring-violet-500/30",bgLight:"bg-violet-500/10",pulse:"shadow-[0_0_20px_rgba(139,92,246,0.15)]"},ready_for_pickup:{label:"Ready for Pickup",icon:J,color:"text-indigo-300",bgColor:"bg-gradient-to-br from-indigo-500/15 via-indigo-400/10 to-indigo-500/15",borderColor:"border-indigo-400/40",gradient:"from-indigo-500 via-indigo-400 to-indigo-300",iconBg:"bg-gradient-to-br from-indigo-500/20 to-indigo-400/15",timelineColor:"from-indigo-500/60 to-indigo-400/40",lightColor:"text-indigo-300",ringColor:"ring-indigo-500/30",bgLight:"bg-indigo-500/10",pulse:"shadow-[0_0_20px_rgba(99,102,241,0.15)]"},delivered:{label:"Delivered",icon:X,color:"text-emerald-300",bgColor:"bg-gradient-to-br from-emerald-500/15 via-green-400/10 to-emerald-500/15",borderColor:"border-emerald-400/40",gradient:"from-emerald-500 via-green-400 to-emerald-300",iconBg:"bg-gradient-to-br from-emerald-500/20 to-emerald-400/15",timelineColor:"from-emerald-500/60 to-green-400/40",lightColor:"text-emerald-300",ringColor:"ring-emerald-500/30",bgLight:"bg-emerald-500/10",pulse:"shadow-[0_0_20px_rgba(16,185,129,0.15)]"},cancelled:{label:"Cancelled",icon:Z,color:"text-rose-300",bgColor:"bg-gradient-to-br from-rose-500/15 via-pink-400/10 to-rose-500/15",borderColor:"border-rose-400/40",gradient:"from-rose-500 via-pink-400 to-rose-300",iconBg:"bg-gradient-to-br from-rose-500/20 to-rose-400/15",timelineColor:"from-rose-500/60 to-pink-400/40",lightColor:"text-rose-300",ringColor:"ring-rose-500/30",bgLight:"bg-rose-500/10",pulse:"shadow-[0_0_20px_rgba(244,63,94,0.15)]"},paid:{label:"Payment Confirmed",icon:es,color:"text-green-300",bgColor:"bg-gradient-to-br from-green-500/15 via-green-400/10 to-green-500/15",borderColor:"border-green-400/40",gradient:"from-green-500 via-green-400 to-green-300",iconBg:"bg-gradient-to-br from-green-500/20 to-green-400/15",timelineColor:"from-green-500/60 to-green-400/40",lightColor:"text-green-300",ringColor:"ring-green-500/30",bgLight:"bg-green-500/10",pulse:"shadow-[0_0_20px_rgba(34,197,94,0.15)]"}},rs={pending:{label:"Pending",color:"text-amber-300",bgColor:"bg-gradient-to-br from-amber-500/20 to-amber-400/15",borderColor:"border-amber-400/40",icon:dr,glow:"shadow-[0_0_15px_rgba(245,158,11,0.2)]"},paid:{label:"Paid",color:"text-emerald-300",bgColor:"bg-gradient-to-br from-emerald-500/20 to-emerald-400/15",borderColor:"border-emerald-400/40",icon:X,glow:"shadow-[0_0_15px_rgba(16,185,129,0.2)]"},failed:{label:"Failed",color:"text-rose-300",bgColor:"bg-gradient-to-br from-rose-500/20 to-rose-400/15",borderColor:"border-rose-400/40",icon:Z,glow:"shadow-[0_0_15px_rgba(244,63,94,0.2)]"},refunded:{label:"Refunded",color:"text-blue-300",bgColor:"bg-gradient-to-br from-blue-500/20 to-blue-400/15",borderColor:"border-blue-400/40",icon:lr,glow:"shadow-[0_0_15px_rgba(59,130,246,0.2)]"}},Es=()=>{var ce,me,xe,he,pe,ge,be,ue,fe,je,ve,Ne,we,ye,Ce,ke,_e,Te,Oe,De,Pe,Se,ze,Ae,$e,Ee,Re,Ue,Le,Be,Ie,Me,Fe,He,qe,Ge,Ye,We,Ve,Je;const{process_orders:K,view_orders:cr}=vr(["view_orders","process_orders"]),{id:w}=Nr(),$=wr(),[r,mr]=d.useState(null),[E,Q]=d.useState(!0);d.useState(!1);const[xr,y]=d.useState(!1);d.useState(!1),d.useState("overview"),d.useState(""),d.useState("");const[ee,re]=d.useState(""),[u,se]=d.useState(""),[ae,te]=d.useState(!1),R=d.useRef(null);d.useEffect(()=>{if(w){if(!cr){d.startTransition(()=>$("/unauthorized"));return}U()}},[w]);const U=async()=>{try{Q(!0);const t=(await Xe.get(`/admin-order/${w}/`)).data;if(!t.error&&t.data){mr(t.data);return}b.error("Failed to load order details")}catch(s){console.error("Error fetching order details:",s),b.error("Failed to load order details")}finally{Q(!1)}},ie=s=>{if(s==="cancelled"||s==="delivered")return[];const t=or.indexOf(s);return t===-1?[]:or.slice(t+1)},oe=()=>{var o;if(!(r!=null&&r.order))return!1;const s=r.order.status.order,t=(o=r.payment)==null?void 0:o.status;return!(s==="cancelled"||s==="delivered"||t!=="paid")},hr=async()=>{if(!r||!r.order||!w||!u)return;if(!oe()){b.error("Order cannot be updated at this time");return}const s=r.order.status.order;if(!ie(s).includes(u)){b.error("Cannot update to this status");return}try{te(!0);const o=u;(await Xe.post("/update-order-status/",{status:o,note:ee||void 0,id:w})).data.error?b.error("Failed to update order status"):(await U(),b.success(`Order status updated to ${A[o].label}`),se(""),re(""),y(!1))}catch(o){console.error("Error updating order status:",o),b.error("Failed to update order status")}finally{te(!1)}},pr=s=>{navigator.clipboard.writeText(s),b.success("Copied to clipboard!")},gr=s=>{try{return new Date(s).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return s}},le=s=>{try{return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return s}},ne=s=>{const t=new Date(s),g=new Date().getTime()-t.getTime(),x=Math.floor(g/6e4),I=Math.floor(x/60),fr=Math.floor(I/24);return x<1?"Just now":x<60?`${x}m ago`:I<24?`${I}h ago`:`${fr}d ago`},br=s=>s.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2),de=()=>{var t;const s=window.open("","_blank");s&&R.current&&(s.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Receipt - Order #${(t=r==null?void 0:r.order)==null?void 0:t.orderNumber}</title>
            <style>
              @media print {
                body {
                  font-family: 'Courier New', monospace;
                  font-size: 11px !important;
                  width: 57mm !important;
                  max-width: 57mm !important;
                  margin: 0 !important;
                  padding: 2mm !important;
                  line-height: 1.1;
                  -webkit-print-color-adjust: exact;
                }
                * {
                  box-sizing: border-box;
                  margin: 0;
                  padding: 0;
                }
                .receipt-container {
                  width: 100% !important;
                  max-width: 53mm !important;
                  word-wrap: break-word;
                  overflow-wrap: break-word;
                  word-break: break-word;
                }
                .header {
                  text-align: center;
                  margin-bottom: 2mm;
                }
                .logo-main {
                  font-size: 12px;
                  font-weight: bold;
                  margin-bottom: 1mm;
                }
                .logo-sub {
                  font-size: 9px;
                  margin-bottom: 1mm;
                  color: #666;
                }
                .order-type {
                  font-size: 10px;
                  font-weight: bold;
                  text-transform: uppercase;
                  margin: 1mm 0;
                }
                .divider {
                  border-top: 1px dashed #000;
                  margin: 2mm 0;
                }
                .divider-thick {
                  border-top: 2px solid #000;
                  margin: 3mm 0;
                }
                .divider-total {
                  border-top: 1px solid #333;
                  margin: 1mm 0;
                }
                .section-title {
                  font-weight: bold;
                  font-size: 10px;
                  text-transform: uppercase;
                  margin-bottom: 1mm;
                  text-align: center;
                }
                .info-row {
                  display: flex;
                  justify-content: space-between;
                  margin: 1mm 0;
                  font-size: 10px;
                }
                .info-row div:first-child {
                  font-weight: bold;
                  min-width: 40%;
                }
                .info-row div:last-child {
                  text-align: right;
                  min-width: 60%;
                }
                .truncate-text {
                  overflow: hidden;
                  text-overflow: ellipsis;
                  white-space: nowrap;
                }
                .items-section {
                  margin: 2mm 0;
                }
                .item {
                  margin: 2mm 0;
                  padding-bottom: 1mm;
                  border-bottom: 1px dotted #ccc;
                  page-break-inside: avoid;
                }
                .item-main {
                  display: flex;
                  justify-content: space-between;
                  align-items: flex-start;
                  margin-bottom: 0.5mm;
                }
                .item-name {
                  font-size: 10px;
                  font-weight: bold;
                  flex: 1;
                  line-height: 1.2;
                  word-break: break-word;
                  white-space: normal;
                  max-width: 70%;
                }
                .item-quantity {
                  font-size: 10px;
                  font-weight: bold;
                  margin-left: 1mm;
                  white-space: nowrap;
                }
                .item-price-row {
                  display: flex;
                  justify-content: space-between;
                  font-size: 9px;
                  color: #666;
                }
                .item-unit {
                  flex: 1;
                }
                .item-total {
                  font-weight: bold;
                  text-align: right;
                  min-width: 30%;
                }
                .payment-info {
                  margin: 2mm 0;
                }
                .totals {
                  margin: 2mm 0;
                }
                .total-item {
                  display: flex;
                  justify-content: space-between;
                  margin: 1mm 0;
                  font-size: 10px;
                }
                .total-amount {
                  font-weight: bold;
                  min-width: 35%;
                  text-align: right;
                }
                .total-item.discount {
                  color: #dc3545;
                }
                .total-item.paid {
                  color: #28a745;
                }
                .grand-total {
                  font-size: 11px;
                  margin-top: 1mm;
                  padding-top: 1mm;
                  border-top: 1px solid #000;
                }
                .footer {
                  text-align: center;
                  margin-top: 3mm;
                  font-size: 9px;
                  line-height: 1.2;
                }
                .thank-you {
                  font-weight: bold;
                  font-size: 10px;
                  margin-bottom: 1mm;
                }
                .store-info {
                  margin-bottom: 1mm;
                  color: #666;
                }
                .store-info div:first-child {
                  font-weight: bold;
                  font-size: 10px;
                }
                .receipt-number {
                  font-size: 8px;
                  color: #888;
                  margin-top: 1mm;
                }
                .print-date {
                  font-size: 8px;
                  color: #888;
                  margin-top: 0.5mm;
                }
                
                @page {
                  margin: 0;
                  size: 57mm auto;
                }
                body, html {
                  width: 57mm !important;
                  min-width: 57mm !important;
                  max-width: 57mm !important;
                }
                * {
                  max-width: 53mm !important;
                }
                
                .no-break {
                  page-break-inside: avoid;
                  break-inside: avoid;
                }
              }
              
              @media screen {
                body {
                  background: white;
                  padding: 10px;
                }
                .receipt-container {
                  max-width: 57mm;
                  margin: 0 auto;
                  border: 1px solid #ccc;
                  padding: 5px;
                  box-shadow: 0 0 5px rgba(0,0,0,0.1);
                }
              }
            </style>
          </head>
          <body>
            ${R.current.innerHTML}
            <script>
              window.onload = function() {
                setTimeout(function() {
                  window.print();
                  setTimeout(function() {
                    window.close();
                  }, 500);
                }, 250);
              };
              
              window.onafterprint = function() {
                setTimeout(function() {
                  window.close();
                }, 500);
              };
            <\/script>
          </body>
        </html>
      `),s.document.close())},f=(r==null?void 0:r.order_source)==="pos",ur=(r==null?void 0:r.order_source)==="web",_=((ce=r==null?void 0:r.customer)==null?void 0:ce.name)||"Guest Customer",L=(me=r==null?void 0:r.recipient)==null?void 0:me.name,i=r!=null&&r.order?A[r.order.status.order]:null,a=r!=null&&r.payment?rs[((xe=r.payment)==null?void 0:xe.status)||"pending"]:null,T=i==null?void 0:i.icon,O=a==null?void 0:a.icon,C=r!=null&&r.order_status_history?[...r.order_status_history].sort((s,t)=>new Date(t.created_at).getTime()-new Date(s.created_at).getTime()):[],D=((he=r==null?void 0:r.fulfillment)==null?void 0:he.method)==="pickup",v=r!=null&&r.order?oe():!1,p=((pe=r==null?void 0:r.order)==null?void 0:pe.status.order)||"",B=ie(p);return E?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background/90 via-muted/20 to-background/90 p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(m,{className:"h-11 sm:h-12 w-11 sm:w-12 rounded-2xl"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"h-8 sm:h-10 w-40 sm:w-56"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{className:"h-6 w-24"}),e.jsx(m,{className:"h-6 w-20"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{className:"h-11 sm:h-12 w-11 sm:w-12 rounded-2xl"}),e.jsx(m,{className:"h-11 sm:h-12 w-11 sm:w-12 rounded-2xl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx(m,{className:"h-64 sm:h-80 rounded-3xl"}),e.jsx(m,{className:"h-96 sm:h-[500px] rounded-3xl"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{className:"h-48 sm:h-56 rounded-3xl"}),e.jsx(m,{className:"h-64 sm:h-72 rounded-3xl"}),e.jsx(m,{className:"h-56 sm:h-64 rounded-3xl"})]})]})]})}):!r||!r.order?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-background/90 via-muted/20 to-background/90",children:e.jsxs(N,{className:"max-w-md w-full border-0 bg-gradient-to-br from-white/20 via-white/10 to-white/20 backdrop-blur-2xl shadow-2xl rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsxs(j,{className:"p-8 text-center relative z-10",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-rose-500/20 to-pink-400/10 flex items-center justify-center mx-auto mb-6 ring-2 ring-white/20",children:e.jsx(Br,{className:"h-10 w-10 text-rose-400"})}),e.jsx("h2",{className:"font-display text-2xl font-bold mb-3",children:"Order Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The order you're looking for doesn't exist or failed to load."}),e.jsxs(c,{onClick:()=>$("/admin/orders"),className:"rounded-xl bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 shadow-2xl shadow-primary/30 hover:shadow-3xl hover:shadow-primary/40 transition-all duration-300",children:[e.jsx(sr,{className:"h-5 w-5 mr-2"}),"Back to Orders"]})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background/90 via-muted/20 to-background/90 p-3 sm:p-4 md:p-6 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-primary/10 via-accent/5 to-transparent rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-accent/10 via-primary/5 to-transparent rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-gradient-radial from-primary/5 via-transparent to-transparent"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(h.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start sm:items-center gap-4",children:[e.jsx(c,{variant:"ghost",size:"icon",className:"h-11 sm:h-12 w-11 sm:w-12 rounded-2xl border border-white/15 bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl hover:from-white/20 hover:to-white/10 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-primary/20 group",onClick:()=>$("/admin/orders"),children:e.jsx(sr,{className:"h-5 sm:h-6 w-5 sm:w-6 transition-transform group-hover:-translate-x-0.5"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("h1",{className:"font-display text-2xl sm:text-3xl md:text-4xl font-bold text-foreground bg-gradient-to-r from-foreground via-foreground to-foreground/90 bg-clip-text text-transparent",children:["Order #",r.order.orderNumber]}),e.jsx("div",{className:"absolute -bottom-1 left-0 w-24 h-0.5 bg-gradient-to-r from-primary to-accent rounded-full"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(n,{className:P("px-4 py-2 rounded-full border backdrop-blur-xl transition-all duration-300 hover:scale-105",i==null?void 0:i.borderColor,i==null?void 0:i.bgColor,i==null?void 0:i.pulse),children:e.jsxs("div",{className:"flex items-center gap-2",children:[T&&e.jsx(T,{className:`h-4 w-4 ${i.color}`}),e.jsx("span",{className:`font-medium ${i==null?void 0:i.lightColor}`,children:i==null?void 0:i.label})]})}),e.jsx(n,{className:P("px-4 py-2 rounded-full border backdrop-blur-xl transition-all duration-300 hover:scale-105",a==null?void 0:a.borderColor,a==null?void 0:a.bgColor,a==null?void 0:a.glow),children:e.jsxs("div",{className:"flex items-center gap-2",children:[O&&e.jsx(O,{className:`h-4 w-4 ${a.color}`}),e.jsx("span",{className:`font-medium ${a==null?void 0:a.color}`,children:a==null?void 0:a.label})]})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-3 flex-wrap",children:[f&&e.jsxs(n,{className:"bg-gradient-to-r from-orange-500/20 to-amber-400/10 text-orange-400 border-orange-400/30 flex items-center gap-2",children:[e.jsx(W,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"POS Order"})]}),ur&&e.jsxs(n,{className:"bg-gradient-to-r from-blue-500/20 to-indigo-400/10 text-blue-400 border-blue-400/30 flex items-center gap-2",children:[e.jsx(ir,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"Web Order"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-xl border border-white/15",children:[e.jsx(Ir,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:gr(r.order.createdAt)})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-gradient-to-r from-primary/10 to-accent/10 backdrop-blur-xl border border-primary/20",children:[e.jsx(Mr,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium text-primary",children:l(((ge=r.totals)==null?void 0:ge.grandTotal)||0)})]}),!v&&p!=="cancelled"&&p!=="delivered"&&e.jsx(n,{className:"bg-gradient-to-r from-muted/20 to-muted/10 text-muted-foreground border-white/20",children:"Awaiting Payment"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 sm:mt-0",children:[e.jsx(M,{children:e.jsxs(F,{children:[e.jsx(H,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"icon",className:"h-11 sm:h-12 w-11 sm:w-12 rounded-2xl border border-white/15 bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl hover:from-white/20 hover:to-white/10 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-primary/20",onClick:U,disabled:E,children:e.jsx(lr,{className:P("h-5 w-5",E&&"animate-spin")})})}),e.jsx(q,{className:"backdrop-blur-xl bg-white/30 border-white/20",children:"Refresh"})]})}),e.jsx(M,{children:e.jsxs(F,{children:[e.jsx(H,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"h-11 sm:h-12 px-4 rounded-2xl border-primary/30 bg-gradient-to-br from-primary/10 to-primary/5 backdrop-blur-xl hover:from-primary/20 hover:to-primary/10 transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-primary/20 group",onClick:de,children:[e.jsx(ar,{className:"h-5 w-5 mr-2 transition-transform group-hover:scale-110"}),e.jsx("span",{children:"Print Receipt"})]})}),e.jsx(q,{className:"backdrop-blur-xl bg-white/30 border-white/20",children:"Print receipt for thermal printer"})]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[e.jsx(h.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(N,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-2xl rounded-3xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsx(S,{className:"pb-4 border-b border-white/20 relative z-10",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs(z,{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-3 rounded-2xl ${i==null?void 0:i.bgColor} ${i==null?void 0:i.borderColor} border ${i==null?void 0:i.pulse}`,children:T&&e.jsx(T,{className:`h-6 w-6 ${i==null?void 0:i.color}`})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-display font-bold",children:"Order Journey"}),e.jsxs(Qe,{className:"text-sm",children:[C.length," updates • Last updated ",C[0]?ne(C[0].created_at):"Never"]})]})]}),v&&K&&e.jsx(c,{onClick:()=>y(!0),className:"rounded-xl bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 shadow-lg shadow-primary/30 hover:shadow-xl hover:shadow-primary/40 transition-all duration-300 group",disabled:!v,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fr,{className:"h-4 w-4 transition-transform group-hover:scale-110"}),e.jsx("span",{children:"Update Status"})]})})]})}),e.jsx(j,{className:"pt-6 relative z-10",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gradient-to-b from-primary/40 via-accent/40 to-transparent"}),e.jsx(yr,{children:C.map((s,t)=>{const o=A[s.status]||{label:s.status.charAt(0).toUpperCase()+s.status.slice(1),color:"text-muted-foreground",icon:Hr,bgColor:"bg-gradient-to-br from-muted/10 via-muted/5 to-muted/10",borderColor:"border-white/20",gradient:"from-muted to-muted/80",iconBg:"bg-gradient-to-br from-muted/15 to-muted/10",timelineColor:"from-muted/60 to-muted/40",lightColor:"text-muted-foreground",ringColor:"ring-muted/30",bgLight:"bg-muted/10",pulse:""},g=o.icon,x=t===0;return e.jsx(h.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.1},className:"relative mb-8 last:mb-0 group/timeline",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute inset-0 ${o.bgLight} rounded-full ${x?"animate-ping":""}`}),e.jsx("div",{className:`relative h-10 w-10 rounded-xl border-2 flex items-center justify-center z-10 transition-all duration-300 ${o.bgColor} ${o.borderColor} ${x?o.pulse:""} group-hover/timeline:scale-110`,children:e.jsx(g,{className:`h-5 w-5 transition-all ${o.color}`})}),t<C.length-1&&e.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 h-8 w-0.5 bg-gradient-to-b from-white/20 to-transparent"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`font-semibold text-lg transition-all ${x?"text-foreground":"text-muted-foreground group-hover/timeline:text-foreground"}`,children:o.label}),x&&e.jsx(n,{className:"bg-gradient-to-r from-primary/20 to-accent/20 text-white border-white/20",children:"Current"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:ne(s.created_at)}),e.jsx("span",{className:"text-xs text-muted-foreground/60 hidden sm:inline",children:le(s.created_at)})]})]}),s.note&&e.jsx(h.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"overflow-hidden",children:e.jsx("div",{className:"mt-3 p-4 rounded-xl bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-sm border border-white/10",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(qr,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.note})]})})})]})]})},`${s.status}-${s.created_at}`)})})]})})})]})]})}),e.jsx(h.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(N,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-2xl rounded-3xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsx(S,{className:"border-b border-white/20 relative z-10",children:e.jsxs(z,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-primary/10 to-accent/10 border border-primary/30",children:e.jsx(J,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-display font-bold",children:"Order Items"}),e.jsxs(Qe,{children:[((be=r.items)==null?void 0:be.length)||0," items • ",l(((ue=r.totals)==null?void 0:ue.grandTotal)||0)," total"]})]})]})}),e.jsx(j,{className:"pt-6 relative z-10",children:e.jsx("div",{className:"space-y-4",children:(fe=r.items)==null?void 0:fe.map((s,t)=>e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"group/item p-5 rounded-2xl bg-gradient-to-r from-white/10 via-white/5 to-white/10 backdrop-blur-xl border border-white/10 hover:border-primary/30 hover:from-primary/10 hover:to-accent/10 transition-all duration-300 hover:shadow-2xl hover:shadow-primary/10",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-5",children:[e.jsxs("div",{className:"relative h-32 sm:h-28 w-full sm:w-28 rounded-2xl overflow-hidden border-2 border-white/20 shadow-xl flex-shrink-0 group-hover/item:scale-105 transition-transform duration-500",children:[e.jsx("img",{src:Ze(s.product.image),alt:s.product.name,className:"h-full w-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-3 right-3 bg-black/50 backdrop-blur-sm rounded-xl px-3 py-1.5",children:e.jsxs("span",{className:"text-sm font-medium text-white",children:["x",s.quantity]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:e.jsxs("span",{className:"text-xs font-medium text-white/90",children:["#",s.product.id]})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-lg truncate mb-1",children:s.product.name}),e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx(n,{variant:"outline",className:"bg-white/5 border-white/20 text-xs",children:"Beauty Product"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-display font-bold text-2xl bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:l(s.lineTotal)}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l(s.product.price)," × ",s.quantity]})]})]}),s.variants&&s.variants.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Selected Options"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.variants.map((o,g)=>e.jsxs(n,{variant:"outline",className:"bg-gradient-to-r from-white/10 to-white/5 border-white/20 backdrop-blur-sm",children:[e.jsxs("span",{className:"text-primary/90 font-medium",children:[o.variant_type,":"]}),e.jsx("span",{className:"ml-1",children:o.option_value})]},g))})]})]})]})},t))})})]})]})})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(N,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-2xl rounded-3xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsx(S,{className:"border-b border-white/20 relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(z,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-primary/10 to-accent/10 border border-primary/30",children:e.jsx(Cr,{className:"h-6 w-6 text-primary"})}),e.jsx("span",{className:"text-xl font-display font-bold",children:"Order Summary"})]}),e.jsx(M,{children:e.jsxs(F,{children:[e.jsx(H,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl bg-white/20 hover:bg-white/30 backdrop-blur-xl",onClick:de,children:e.jsx(ar,{className:"h-4 w-4"})})}),e.jsx(q,{className:"backdrop-blur-xl bg-white/30 border-white/20",children:"Print receipt for thermal printer"})]})})]})}),e.jsx(j,{className:"pt-6 relative z-10",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Order Number"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-mono font-bold text-base bg-gradient-to-r from-primary/20 to-accent/20 px-3 py-2 rounded-xl border border-primary/30",children:["#",r.order.orderNumber]}),e.jsx(c,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg bg-white/10 hover:bg-white/20",onClick:()=>pr(r.order.orderNumber),children:e.jsx(Gr,{className:"h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Order Date"}),e.jsx("p",{className:"font-semibold text-sm bg-gradient-to-r from-foreground/80 to-foreground/60 bg-clip-text text-transparent",children:le(r.order.createdAt)})]})]}),e.jsx(k,{className:"bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20 h-0.5"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-4 w-4 text-primary"}),e.jsx("p",{className:"text-sm font-medium",children:"Customer"})]}),e.jsxs("div",{className:"space-y-2 pl-6",children:[e.jsx("p",{className:"font-semibold",children:_}),((je=r.customer)==null?void 0:je.email)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(G,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:r.customer.email})]}),((ve=r.customer)==null?void 0:ve.phone)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Y,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:r.customer.phone})]})]})]}),e.jsx(k,{className:"bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20 h-0.5"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-primary"}),e.jsxs("p",{className:"text-sm font-medium",children:["Items (",((Ne=r.items)==null?void 0:Ne.length)||0,")"]})]}),e.jsx(n,{className:"bg-primary/10 text-primary border-primary/20",children:l(((we=r.totals)==null?void 0:we.subtotal)||0)})]}),e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:(ye=r.items)==null?void 0:ye.map((s,t)=>e.jsx(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"group/item p-3 rounded-xl bg-gradient-to-r from-white/10 via-white/5 to-white/10 backdrop-blur-sm border border-white/10 hover:border-primary/30 transition-all",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-sm line-clamp-2",children:s.product.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(n,{variant:"outline",className:"text-xs h-5 bg-white/5",children:["SKU: ",s.product.sku||"N/A"]}),s.product.weight&&e.jsxs(n,{variant:"outline",className:"text-xs h-5 bg-white/5",children:[e.jsx(Yr,{className:"h-2.5 w-2.5 mr-1"}),s.product.weight,"kg"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-primary",children:l(s.lineTotal)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[l(s.product.price)," × ",s.quantity]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"space-y-1",children:[s.product.dimensions&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Wr,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.product.dimensions.height||"?","×",s.product.dimensions.width||"?","×",s.product.dimensions.depth||"?"," cm"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Vr,{className:"h-3 w-3"}),e.jsxs("span",{children:["ID: ",s.product.id]})]})]}),s.variants&&s.variants.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-primary/80",children:"Variants:"}),s.variants.slice(0,2).map((o,g)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Jr,{className:"h-2.5 w-2.5"}),e.jsxs("span",{children:[o.variant_type,": ",o.option_value]})]},g)),s.variants.length>2&&e.jsxs("p",{className:"text-xs",children:["+",s.variants.length-2," more"]})]})]})]})},t))})]}),e.jsx(k,{className:"bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20 h-0.5"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Payment Method"}),e.jsxs(n,{className:"bg-gradient-to-r from-primary/10 to-accent/10 text-white p-3 flex items-center gap-2",children:[e.jsx(V,{className:"h-3.5 w-3.5"}),((Ce=r.payment)==null?void 0:Ce.method)||"Card"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Order Source"}),e.jsxs(n,{className:P("flex items-center gap-2 p-3",f?"bg-gradient-to-r from-orange-500/10 to-amber-400/10 text-white":"bg-gradient-to-r from-blue-500/10 to-indigo-400/10 text-white"),children:[f?e.jsx(W,{className:"h-3.5 w-3.5"}):e.jsx(ir,{className:"h-3.5 w-3.5"}),f?"POS":"Web"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Subtotal"}),e.jsx("span",{className:"font-medium",children:l(((ke=r.totals)==null?void 0:ke.subtotal)||0)})]}),((_e=r.totals)==null?void 0:_e.shipping)!==void 0&&r.totals.shipping>0&&e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Shipping"}),e.jsx("span",{className:"font-medium",children:l(r.totals.shipping)})]}),((Te=r.totals)==null?void 0:Te.tax)!==void 0&&r.totals.tax>0&&e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Tax"}),e.jsx("span",{className:"font-medium",children:l(r.totals.tax)})]}),((Oe=r.totals)==null?void 0:Oe.discount)!==void 0&&r.totals.discount>0&&e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Discount"}),e.jsxs("span",{className:"font-medium text-emerald-400",children:["-",l(r.totals.discount)]})]}),e.jsx(k,{className:"bg-white/20"}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsx("span",{className:"font-bold text-lg",children:"Total"}),e.jsx("span",{className:"font-display text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:l(((De=r.totals)==null?void 0:De.grandTotal)||0)})]}),((Pe=r.payment)==null?void 0:Pe.status)==="paid"&&((Se=r.payment)==null?void 0:Se.paidAmount)!==void 0&&e.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:[e.jsx("span",{children:"Paid Amount"}),e.jsx("span",{className:"font-medium text-emerald-400",children:l(r.payment.paidAmount)})]})]})]})]})})]})]})}),e.jsx("div",{className:"hidden",children:e.jsxs("div",{ref:R,className:"receipt-container",children:[e.jsxs("div",{className:"header",children:[e.jsxs("div",{className:"logo",children:[e.jsx("div",{className:"logo-main",children:"DOONNEYS BEAUTY"}),e.jsx("div",{className:"logo-sub",children:"Premium Beauty & Cosmetics"})]}),e.jsx("div",{className:"divider"}),e.jsx("div",{className:"order-type",children:f?"POS RECEIPT":"ORDER RECEIPT"})]}),e.jsx("div",{className:"divider"}),e.jsxs("div",{className:"order-info",children:[e.jsxs("div",{className:"info-row",children:[e.jsx("div",{children:e.jsx("strong",{children:"ORDER #:"})}),e.jsx("div",{children:r.order.orderNumber})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{children:e.jsx("strong",{children:"DATE:"})}),e.jsx("div",{children:new Date(r.order.createdAt).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{children:e.jsx("strong",{children:"TIME:"})}),e.jsx("div",{children:new Date(r.order.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("div",{className:"divider"}),e.jsxs("div",{className:"customer-info",children:[e.jsx("div",{className:"section-title",children:"CUSTOMER"}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{children:e.jsx("strong",{children:"NAME:"})}),e.jsx("div",{className:"truncate-text",children:_})]})]}),e.jsx("div",{className:"divider"}),e.jsxs("div",{className:"items-section",children:[e.jsx("div",{className:"section-title",children:"ORDER ITEMS"}),(ze=r.items)==null?void 0:ze.map((s,t)=>e.jsxs("div",{className:"item",children:[e.jsxs("div",{className:"item-main",children:[e.jsx("div",{className:"item-name",children:s.product.name}),e.jsxs("div",{className:"item-quantity",children:["×",s.quantity]})]}),e.jsxs("div",{className:"item-price-row",children:[e.jsxs("div",{className:"item-unit",children:[l(s.product.price)," × ",s.quantity]}),e.jsx("div",{className:"item-total",children:l(s.lineTotal)})]})]},t))]}),e.jsx("div",{className:"divider-thick"}),e.jsxs("div",{className:"payment-info",children:[e.jsx("div",{className:"section-title",children:"PAYMENT"}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{children:e.jsx("strong",{children:"METHOD:"})}),e.jsx("div",{children:(($e=(Ae=r.payment)==null?void 0:Ae.method)==null?void 0:$e.toUpperCase())||"CARD"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{children:e.jsx("strong",{children:"STATUS:"})}),e.jsx("div",{children:((Re=(Ee=r.payment)==null?void 0:Ee.status)==null?void 0:Re.toUpperCase())||"PENDING"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{children:e.jsx("strong",{children:"SOURCE:"})}),e.jsx("div",{children:f?"POS":"WEB"})]})]}),e.jsx("div",{className:"divider"}),e.jsxs("div",{className:"totals",children:[e.jsxs("div",{className:"total-item",children:[e.jsx("div",{children:"SUBTOTAL"}),e.jsx("div",{className:"total-amount",children:l(((Ue=r.totals)==null?void 0:Ue.subtotal)||0)})]}),((Le=r.totals)==null?void 0:Le.tax)!==void 0&&r.totals.tax>0&&e.jsxs("div",{className:"total-item",children:[e.jsx("div",{children:"TAX"}),e.jsx("div",{className:"total-amount",children:l(r.totals.tax)})]}),((Be=r.totals)==null?void 0:Be.discount)!==void 0&&r.totals.discount>0&&e.jsxs("div",{className:"total-item discount",children:[e.jsx("div",{children:"DISCOUNT"}),e.jsxs("div",{className:"total-amount",children:["-",l(r.totals.discount)]})]}),e.jsx("div",{className:"divider-total"}),e.jsxs("div",{className:"total-item grand-total",children:[e.jsx("div",{children:e.jsx("strong",{children:"TOTAL"})}),e.jsx("div",{className:"total-amount",children:e.jsx("strong",{children:l(((Ie=r.totals)==null?void 0:Ie.grandTotal)||0)})})]}),((Me=r.payment)==null?void 0:Me.status)==="paid"&&((Fe=r.payment)==null?void 0:Fe.paidAmount)!==void 0&&e.jsxs("div",{className:"total-item paid",children:[e.jsx("div",{children:"PAID"}),e.jsx("div",{className:"total-amount",children:e.jsx("strong",{children:l(r.payment.paidAmount)})})]})]}),e.jsx("div",{className:"divider-thick"}),e.jsxs("div",{className:"footer",children:[e.jsx("div",{className:"thank-you",children:"Thank you for your order!"}),e.jsxs("div",{className:"store-info",children:[e.jsx("div",{children:"DOONNEYS BEAUTY"}),e.jsx("div",{children:"www.doonneys.com"})]}),e.jsx("div",{className:"divider"}),e.jsxs("div",{className:"receipt-number",children:["RCPT: ",r.order.orderNumber]}),e.jsx("div",{className:"print-date",children:new Date().toLocaleDateString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]})}),!f&&e.jsx(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(N,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-2xl rounded-3xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsxs(Ur,{defaultValue:"customer",className:"w-full relative z-10",children:[e.jsxs(Lr,{className:"grid w-full grid-cols-2 rounded-xl bg-white/10 backdrop-blur-xl p-1 m-4 mb-0 border border-white/20",children:[e.jsxs(er,{value:"customer",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary/20 data-[state=active]:to-accent/20 data-[state=active]:border data-[state=active]:border-primary/30",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Customer"]}),L&&e.jsxs(er,{value:"recipient",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-500/20 data-[state=active]:to-rose-400/20 data-[state=active]:border data-[state=active]:border-pink-500/30",children:[e.jsx(tr,{className:"h-4 w-4 mr-2"}),"Recipient"]})]}),e.jsx(rr,{value:"customer",className:"mt-0",children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(kr,{className:"h-16 w-16 ring-2 ring-white/20",children:[e.jsx(_r,{src:Ze((He=r.customer)==null?void 0:He.pics)}),e.jsx(Tr,{className:"bg-gradient-to-br from-primary/20 to-accent/20 text-lg",children:br(_)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-lg",children:_}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Primary Customer"})]})]}),e.jsxs("div",{className:"space-y-3",children:[((qe=r.customer)==null?void 0:qe.email)&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-sm border border-white/10",children:[e.jsx(G,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),e.jsx("p",{className:"font-medium truncate",children:r.customer.email})]})]}),((Ge=r.customer)==null?void 0:Ge.phone)&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-sm border border-white/10",children:[e.jsx(Y,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),e.jsx("p",{className:"font-medium",children:r.customer.phone})]})]})]})]})})}),L&&e.jsx(rr,{value:"recipient",className:"mt-0",children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-pink-500/20 to-rose-400/20 flex items-center justify-center ring-2 ring-white/20",children:e.jsx(tr,{className:"h-7 w-7 text-pink-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-lg",children:L}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Gift Recipient"})]})]}),e.jsxs("div",{className:"space-y-3",children:[((Ye=r.recipient)==null?void 0:Ye.email)&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-pink-500/10 to-rose-400/5 backdrop-blur-sm border border-pink-500/20",children:[e.jsx(G,{className:"h-5 w-5 text-pink-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),e.jsx("p",{className:"font-medium truncate",children:r.recipient.email})]})]}),((We=r.recipient)==null?void 0:We.phone)&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-pink-500/10 to-rose-400/5 backdrop-blur-sm border border-pink-500/20",children:[e.jsx(Y,{className:"h-5 w-5 text-pink-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),e.jsx("p",{className:"font-medium",children:r.recipient.phone})]})]})]})]})})})]})]})]})}),e.jsx(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(N,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-2xl rounded-3xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsx(S,{className:"border-b border-white/20 relative z-10",children:e.jsxs(z,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-primary/10 to-accent/10 border border-primary/30",children:e.jsx(V,{className:"h-6 w-6 text-primary"})}),e.jsx("span",{className:"text-xl font-display font-bold",children:"Payment & Shipping"})]})}),e.jsx(j,{className:"pt-6 relative z-10",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[O&&e.jsx(O,{className:`h-6 w-6 ${a==null?void 0:a.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Payment"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((Ve=r.payment)==null?void 0:Ve.method)||"Card"})]})]}),e.jsx(n,{className:`${a==null?void 0:a.bgColor} ${a==null?void 0:a.borderColor} border ${a==null?void 0:a.glow}`,children:a==null?void 0:a.label})]}),((Je=r.payment)==null?void 0:Je.last4)&&r.payment.card_brand&&e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-sm border border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.payment.card_brand}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["•••• ",r.payment.last4]})]})]}),e.jsx(n,{variant:"outline",className:"bg-white/10 border-white/20",children:"Verified"})]})})]}),e.jsx(k,{className:"bg-white/20"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[D?e.jsx(W,{className:"h-6 w-6 text-indigo-400"}):e.jsx(nr,{className:"h-6 w-6 text-violet-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:D?"Store Pickup":"Shipping"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:D?"Customer will collect":"To be delivered"})]})]}),e.jsx(n,{className:"bg-gradient-to-r from-indigo-500/20 to-violet-400/20 text-indigo-400 border-indigo-400/30",children:D?"Ready":"Processing"})]})})]})})]})]})})]})]})]}),K&&e.jsx(Sr,{open:xr,onOpenChange:y,children:e.jsxs(zr,{className:"max-w-md p-0 rounded-3xl border-0 overflow-hidden bg-gradient-to-br from-white/40 via-white/30 to-white/40 backdrop-blur-3xl shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-primary/20 via-transparent to-transparent"}),e.jsxs(Ar,{className:"relative p-6 border-b border-white/30",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx($r,{className:"font-display text-2xl font-bold bg-gradient-to-r from-foreground to-foreground/90 bg-clip-text text-transparent",children:"Update Order Status"}),e.jsx(Er,{className:"text-muted-foreground mt-2",children:v?"Select the next status for this order":p==="cancelled"||p==="delivered"?"This order cannot be updated further":"Order can only be updated after payment is confirmed"})]}),e.jsx(c,{variant:"ghost",size:"icon",className:"absolute right-4 top-4 h-9 w-9 rounded-xl bg-white/30 hover:bg-white/40 backdrop-blur-xl",onClick:()=>y(!1),children:e.jsx(Or,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"relative p-6 space-y-6",children:v?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium",children:"Next Status"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:B.map(s=>{const t=A[s],o=t.icon;return e.jsxs(c,{variant:u===s?"default":"outline",className:`h-auto py-4 rounded-xl flex flex-col gap-2 items-center justify-center transition-all duration-300 ${u===s?`bg-gradient-to-r from-primary to-accent text-white shadow-2xl shadow-primary/40 ${t.pulse}`:"border-white/30 bg-white/20 hover:bg-white/30 hover:border-white/40"}`,onClick:()=>se(s),children:[e.jsx(o,{className:`h-6 w-6 ${u===s?"text-white":t.color}`}),e.jsx("span",{className:"font-medium",children:t.label})]},s)})}),B.length===0&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx(X,{className:"h-12 w-12 text-emerald-400 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Order has reached its final status"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Internal Note (Optional)"}),e.jsx(Pr,{placeholder:"Add notes about this status change...",value:ee,onChange:s=>re(s.target.value),className:"rounded-xl border-white/30 bg-white/20 backdrop-blur-xl min-h-[100px] focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-white/10"})]})]}):e.jsx("div",{className:"text-center py-8",children:p==="cancelled"||p==="delivered"?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-16 w-16 text-rose-400 mx-auto mb-4"}),e.jsx("p",{className:"font-medium text-lg mb-2",children:p==="cancelled"?"Order Cancelled":"Order Delivered"}),e.jsxs("p",{className:"text-muted-foreground",children:["This order has been ",p," and cannot be updated."]})]}):e.jsxs(e.Fragment,{children:[e.jsx(dr,{className:"h-16 w-16 text-amber-400 mx-auto mb-4"}),e.jsx("p",{className:"font-medium text-lg mb-2",children:"Awaiting Payment"}),e.jsx("p",{className:"text-muted-foreground",children:'Order status can only be updated after payment is confirmed as "Paid".'}),e.jsxs("p",{className:"text-sm text-muted-foreground/60 mt-2",children:["Current payment status: ",e.jsx(n,{className:`ml-2 ${a==null?void 0:a.bgColor} ${a==null?void 0:a.borderColor}`,children:a==null?void 0:a.label})]})]})})}),e.jsx(Rr,{className:"relative p-6 border-t border-white/30",children:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(c,{variant:"outline",className:"flex-1 rounded-xl border-white/30 bg-white/20 hover:bg-white/30 backdrop-blur-xl",onClick:()=>y(!1),children:"Cancel"}),v&&B.length>0&&e.jsx(c,{className:"flex-1 rounded-xl bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 shadow-2xl shadow-primary/40 hover:shadow-3xl hover:shadow-primary/50 transition-all duration-300",onClick:hr,disabled:!u||ae,children:ae?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"h-5 w-5 mr-2 animate-spin"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Zr,{className:"h-5 w-5 mr-2"}),"Update Status"]})})]})})]})})]})};export{Es as default};
