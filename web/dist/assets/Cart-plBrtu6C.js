import{a0 as F,r as m,j as e,o as V,L as d,a as P,b as g,B as i,H as t,S as N,A as h,m as x,D as E,w as p,a2 as b,d as O,J as $,q as v,N as T}from"./index-DrzvgQSx.js";import{T as u}from"./trash-2-DF_8SWob.js";import{P as B}from"./percent-DSP3Ckz8.js";import{T as y}from"./truck-Bjx6mnMk.js";import{M as R}from"./minus-BZn02uM1.js";import{P as z}from"./plus-CdXz1Jo6.js";import{C as w}from"./calendar-Bh2qMya8.js";import{C as A}from"./clock-B9_Mht4K.js";const G=()=>{const{items:l,updateQuantity:j,removeFromCart:C,getTotalPrice:k,clearCart:f,refreshCart:S}=F(),[n,_]=m.useState(0),[o,q]=m.useState(0);return m.useEffect(()=>{S()},[]),m.useEffect(()=>{const s=k(),c=l.reduce((r,a)=>r+a.quantity,0);_(s),q(c)},[l]),e.jsx(V,{children:e.jsx("section",{className:"py-8 md:py-12",children:e.jsxs("div",{className:"container max-w-7xl",children:[e.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-8",children:[e.jsx(d,{to:"/",className:"hover:text-primary transition-colors",children:"Home"}),e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{className:"text-foreground font-medium",children:"Shopping Cart"})]}),e.jsx(g,{children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl md:text-4xl lg:text-5xl mb-2",children:"Your Shopping Cart"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Review and manage your selected items"})]}),l.length>0&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:f,className:"text-muted-foreground hover:text-destructive",children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Clear All"]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o," item",o!==1?"s":""]}),e.jsx("p",{className:"font-display text-xl text-primary",children:t(n)})]})]})]})}),l.length===0?e.jsx(g,{children:e.jsx("div",{className:"text-center py-20 bg-gradient-to-br from-card to-card/50 rounded-3xl shadow-soft border border-border/50",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-primary/10 to-accent/10 rounded-full flex items-center justify-center mx-auto mb-8",children:e.jsx(N,{className:"h-16 w-16 text-primary"})}),e.jsx("h2",{className:"font-display text-2xl mb-3",children:"Your cart is empty"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-sm mx-auto",children:"Looks like you haven't added anything to your cart yet. Start exploring our premium beauty collection."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(i,{size:"lg",asChild:!0,className:"gap-2 bg-gradient-to-r from-primary to-accent hover:shadow-lg",children:e.jsxs(d,{to:"/shop",children:["Start Shopping",e.jsx(h,{className:"h-4 w-4"})]})}),e.jsx(i,{size:"lg",variant:"outline",asChild:!0,className:"gap-2",children:e.jsxs(d,{to:"/deals",children:[e.jsx(B,{className:"h-4 w-4"}),"View Deals"]})})]})]})})}):e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-gradient-to-r from-primary/5 to-primary/10 border border-primary/20 rounded-2xl flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(y,{className:"h-5 w-5 text-primary"})}),e.jsx("div",{className:"w-24 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-accent rounded-full",style:{width:`${Math.min(n/100*100,100)}%`}})})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(E,{children:l.map(s=>{let c=s.product.price;return s.selectedVariants&&Object.keys(s.selectedVariants).length>0&&(c=s.product.price,Object.values(s.selectedVariants).forEach(r=>{r.price_modifier&&(c-=parseFloat(r.price_modifier))})),e.jsx(x.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,x:-100},transition:{duration:.3},className:"group relative",children:e.jsxs("div",{className:p("flex gap-4 md:gap-6 p-5 bg-gradient-to-br from-card to-card/80 rounded-2xl shadow-card border border-border/50","hover:shadow-card-hover hover:border-primary/30 transition-all duration-300"),children:[e.jsx(d,{to:`/product/${s.product.id}/${b(s.product.name)}`,className:"flex-shrink-0 relative",children:e.jsxs("div",{className:"relative",children:[e.jsx(x.img,{whileHover:{scale:1.05},src:O(s.product.image),alt:s.product.name,className:"w-28 h-28 md:w-32 md:h-32 object-cover rounded-xl border border-border"}),s.quantity>1&&e.jsx("div",{className:"absolute -top-2 -right-2 w-7 h-7 bg-primary text-primary-foreground text-xs rounded-full flex items-center justify-center font-bold shadow-md",children:s.quantity})]})}),e.jsx("div",{className:"flex-1 min-w-0 py-1",children:e.jsxs("div",{className:"flex justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(d,{to:`/product/${s.product.id}/${b(s.product.name)}`,children:e.jsx("h3",{className:"font-display text-lg font-medium hover:text-primary transition-colors line-clamp-2 mb-1",children:s.product.name})}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.product.category}),s.selectedVariants&&Object.keys(s.selectedVariants).length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Object.entries(s.selectedVariants).map(([r,a])=>e.jsxs($,{variant:"secondary",className:"text-xs px-3 py-1.5",children:[e.jsxs("span",{className:"font-semibold",children:[r,":"]}),e.jsx("span",{className:"ml-1",children:a.value}),a.price_modifier&&parseFloat(a.price_modifier)!==0&&e.jsxs("span",{className:p("ml-1",parseFloat(a.price_modifier)>0?"text-green-600":"text-red-600"),children:["(",parseFloat(a.price_modifier)>0?"+":"",t(parseFloat(a.price_modifier)),")"]})]},`${r}-${v()}`))}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Base price:"}),e.jsx("span",{children:t(c)})]}),Object.values(s.selectedVariants).some(r=>r.price_modifier&&parseFloat(r.price_modifier)!==0)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Variant adjustments:"}),e.jsx("span",{className:p(Object.values(s.selectedVariants).reduce((r,a)=>r+(a.price_modifier?parseFloat(a.price_modifier):0),0)>0?"text-green-600":"text-red-600"),children:t(Object.values(s.selectedVariants).reduce((r,a)=>r+(a.price_modifier?parseFloat(a.price_modifier):0),0))})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-1 border-t",children:[e.jsx("span",{className:"font-medium",children:"Final price:"}),e.jsxs("span",{className:"font-display text-primary font-medium",children:[t(s.product.price)," each"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs("div",{className:"flex items-center border border-input rounded-xl overflow-hidden bg-background/50",children:[e.jsx("button",{onClick:()=>j(s.product.id,s.quantity-1),className:"p-3 hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",disabled:s.quantity<=1,children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx("span",{className:"w-12 text-center text-sm font-medium",children:s.quantity}),e.jsx("button",{onClick:()=>j(s.product.id,s.quantity+1),className:"p-3 hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",children:e.jsx(z,{className:"h-4 w-4"})})]})})]}),e.jsxs("div",{className:"flex flex-col items-end justify-between",children:[e.jsx("button",{onClick:()=>C(s.product.id),className:"p-2 text-muted-foreground hover:text-destructive transition-colors hover:bg-destructive/10 rounded-lg",children:e.jsx(u,{className:"h-5 w-5"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-display text-2xl text-primary",children:t(s.product.price*s.quantity)}),s.quantity>1&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.quantity," × ",t(s.product.price)]})]})]})]})})]})},`${s.product.id}-${v()}`)})})}),e.jsxs("div",{className:"flex items-center justify-between gap-4 pt-4 border-t border-border",children:[e.jsx(i,{variant:"outline",asChild:!0,className:"gap-2",children:e.jsxs(d,{to:"/shop",children:[e.jsx(h,{className:"h-4 w-4 rotate-180"}),"Continue Shopping"]})}),e.jsxs(i,{variant:"ghost",onClick:f,className:"text-muted-foreground hover:text-destructive gap-2",children:[e.jsx(u,{className:"h-4 w-4"}),"Clear Entire Cart"]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"sticky top-32",children:[e.jsxs("div",{className:"bg-gradient-to-b from-card to-card/80 rounded-2xl p-6 shadow-elevated border border-border/50 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(N,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-display text-xl",children:"Order Summary"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o," item",o!==1?"s":""]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm py-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsx("span",{className:"font-medium",children:t(n)})]}),e.jsxs("div",{className:"flex justify-between text-sm py-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Taxes"}),e.jsx("span",{className:"font-medium",children:"Calculated at checkout"})]})]}),e.jsx("div",{className:"border-t border-border pt-4 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-lg",children:"Estimated Total"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tax and shipping calculated at checkout"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"font-display text-3xl text-primary",children:t(n)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"before tax & shipping"})]})]})}),e.jsx(i,{size:"lg",className:"w-full mb-4 gap-2 bg-gradient-to-r from-primary to-accent hover:shadow-lg transition-all duration-300",asChild:!0,children:e.jsxs(d,{to:"/checkout",children:["Proceed to Checkout",e.jsx(h,{className:"h-4 w-4"})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground mb-6",children:[e.jsx(T,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Secure checkout • 256-bit encryption"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-card to-card/80 rounded-2xl p-5 shadow-soft border border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(w,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Need personalized advice?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Book an in-store consultation"})]})]}),e.jsx(i,{variant:"outline",className:"w-full gap-2",asChild:!0,children:e.jsxs(d,{to:"/contact",children:[e.jsx(w,{className:"h-4 w-4"}),"Book Appointment"]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-card to-card/80 rounded-2xl p-5 shadow-soft border border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(y,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Shipping Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Fast & reliable delivery"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Express shipping"}),e.jsx("span",{className:"font-medium",children:"2-3 business days"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Order by 3 PM"}),e.jsx("span",{className:"font-medium",children:"Same-day processing"})]})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-card to-card/80 rounded-2xl p-5 shadow-soft border border-border/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(A,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"30-Day Return Policy"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Easy returns & exchanges"})]})]})})]})]})})]})]})})})};export{G as default};
