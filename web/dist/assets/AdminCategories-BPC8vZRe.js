import{F as ke,aN as Re,r as s,h as D,a6 as h,d as Se,a2 as _e,j as e,ap as Ae,m as v,z as Te,B as c,w as b,J as p,P as De,H as z,y as ze,u as Fe,v as Pe,at as Le,au as Ee,av as Me,ay as F,ax as Ve}from"./index-DrzvgQSx.js";import{C as u,d as g,a as ee,b as te,c as re}from"./card-CSdj4VlM.js";import{T as $e,a as Oe,b as se,c as j,d as Be,e as f}from"./table-kDEzH9s1.js";import{A as He,b as Ie,c as Ge,d as Qe,e as qe,f as Ze,g as Je,h as Ue}from"./alert-dialog-DhLhMJxG.js";import{P as ae}from"./progress-DNf4bHVP.js";import{S as ie,a as oe,b as le,c as ne,d as w}from"./select-CeCrIOLN.js";import{R as G}from"./refresh-cw-B2nHbzn8.js";import{P as Q}from"./plus-CdXz1Jo6.js";import{L as de}from"./layers-SY7Xsc3z.js";import{D as Ye}from"./dollar-sign-CiHtqMiF.js";import{T as Ke}from"./trending-up-BqcXVX7P.js";import{T as We}from"./triangle-alert-BegDlvxd.js";import{Z as Xe}from"./zap-BFNduXU6.js";import{G as et}from"./grid-3x3-ZY2pglm3.js";import{L as tt}from"./list-BOIVfgge.js";import{E as rt}from"./ellipsis-CiWrXJQx.js";import{P as ce}from"./pen-DBLRQO7X.js";import{E as st}from"./eye-DtInb1xn.js";import{T as me}from"./trash-2-DF_8SWob.js";import"./index-BdQq_4o_.js";import"./index-DDpYfoMH.js";import"./chevron-up-DEDQgLDp.js";const Rt=()=>{const N=ke(),{add_category:R,delete_category:C,edit_category:P,view_categories:xe,activate_deactivate_categories:k}=Re(["add_category","delete_category","edit_category","view_categories","activate_deactivate_categories"]),[n,S]=s.useState([]),[y,he]=s.useState(""),[L,q]=s.useState("grid"),[ue,E]=s.useState(!1),[m,Z]=s.useState(null),[_,ge]=s.useState("all"),[M,J]=s.useState(!0),[V,ve]=s.useState("revenue"),[A,U]=s.useState("desc"),$=s.useCallback(async()=>{J(!0);try{const r=(await D.get("/get-categories/")).data;if(r.error===!1&&r.data){const i=r.data.map(a=>({...a,productCount:a.product_count||0,totalRevenue:parseFloat(a.total_revenue)||0,orders_count:a.orders_count||0,views:a.views||0,conversionRate:parseFloat(a.conversion_rate)||0,growth:0}));S(i)}else h.error("Failed to fetch categories.")}catch(t){console.error("Error fetching categories:",t),h.error("Error fetching categories")}finally{J(!1)}},[]);s.useEffect(()=>{xe||s.startTransition(()=>N("/unauthorized")),$()},[$]);const l=s.useMemo(()=>{const t=n.length,r=n.filter(o=>o.status==="active").length,i=n.filter(o=>o.status==="inactive").length,a=n.reduce((o,x)=>o+x.productCount,0),d=n.reduce((o,x)=>o+x.totalRevenue,0),fe=n.reduce((o,x)=>o+x.orders_count,0),Ne=n.reduce((o,x)=>o+x.views,0),we=n.length>0?n.reduce((o,x)=>o+x.conversionRate,0)/t:0,ye=[...n].sort((o,x)=>x.totalRevenue-o.totalRevenue).slice(0,5),Ce=n.filter(o=>o.status==="inactive"||o.conversionRate<1||o.productCount===0);return{totalCategories:t,activeCategories:r,inactiveCategories:i,totalProducts:a,totalRevenue:d,totalOrders:fe,totalViews:Ne,avgConversionRate:we,topPerforming:ye,attentionCategories:Ce.length}},[n]),T=s.useMemo(()=>{let t=n.filter(r=>(r.name.toLowerCase().includes(y.toLowerCase())||r.description.toLowerCase().includes(y.toLowerCase())||r.slug.toLowerCase().includes(y.toLowerCase()))&&(_==="all"||r.status===_));return t.sort((r,i)=>{let a,d;switch(V){case"revenue":a=r.totalRevenue,d=i.totalRevenue;break;case"products":a=r.productCount,d=i.productCount;break;case"conversion":a=r.conversionRate,d=i.conversionRate;break;case"name":a=r.name.toLowerCase(),d=i.name.toLowerCase();break;default:return 0}return A==="desc"?d-a:a-d}),t},[n,y,_,V,A]),O=s.useCallback(t=>t.image?Se(t.image):"/placeholder-category.jpg",[]),be=s.useCallback(async()=>{if(C&&m)try{const r=(await D.post("/delete-category/",{id:m.id})).data;r.error===!1?(S(i=>i.filter(a=>a.id!==m.id)),E(!1),Z(null),h.success("Category has been removed successfully.")):h.error(r.data||"Failed to remove category.")}catch{h.error("Failed to remove category.")}},[m]),Y=s.useCallback(t=>{C&&(Z(t),E(!0))},[]),K=s.useCallback(async t=>{if(k)try{const i=(await D.post("/activate-category/",{id:t})).data;i.error===!1?(S(a=>a.map(d=>d.id===t?{...d,status:d.status==="active"?"inactive":"active"}:d)),h.success("Category status has been changed.")):h.error(i.data||"Failed to change category status.")}catch{h.error("Failed to change category status.")}},[]),B=s.useCallback(()=>{R&&s.startTransition(()=>N("/admin/categories/new"))},[N]),W=s.useCallback(t=>{P&&s.startTransition(()=>N(`/admin/categories/${t.id}/${_e(t.name)}`))},[N]),pe=s.useCallback((t,r)=>{s.startTransition(()=>N(`/category/${t}/${r}`))},[N]),je=s.useCallback(async()=>{if(k)try{const r=(await D.post("/bulk-activate-categories/")).data;r.error===!1?(S(i=>i.map(a=>({...a,status:"active"}))),h.success("All categories have been activated")):h.error(r.data||"Failed to activate categories.")}catch{h.error("Failed to activate categories.")}},[]),H=t=>t>1e3?"text-emerald-600":t>100?"text-green-600":t>0?"text-amber-600":"text-gray-500",X=t=>t>10?"text-emerald-600":t>5?"text-green-600":t>1?"text-amber-600":"text-gray-500",I=t=>t==="active"?"bg-emerald-500/10 text-emerald-700 border-emerald-500/20":"bg-rose-500/10 text-rose-700 border-rose-500/20";return M?e.jsx(Ae,{}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background/90 via-muted/20 to-background/90 p-4 sm:p-6 relative",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-primary/10 via-accent/5 to-transparent rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-accent/10 via-primary/5 to-transparent rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs(v.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Te,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold bg-gradient-to-r from-foreground to-foreground/90 bg-clip-text text-transparent",children:"Category Management"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage product categories with real-time analytics and insights"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl border border-white/15 bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl hover:from-white/20 hover:to-white/10",onClick:$,disabled:M,children:e.jsx(G,{className:b("h-4 w-4",M&&"animate-spin")})}),R&&e.jsxs(c,{onClick:B,className:"gap-2 rounded-xl bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Category"}),e.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(u,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-xl rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsx(g,{className:"p-6 relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Categories"}),e.jsx("h3",{className:"text-2xl font-bold mt-2",children:l.totalCategories}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(p,{className:"bg-emerald-500/10 text-emerald-700 border-emerald-500/20",children:[l.activeCategories," active"]}),e.jsxs(p,{className:"bg-rose-500/10 text-rose-700 border-rose-500/20",children:[l.inactiveCategories," inactive"]})]})]}),e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/10 to-accent/10",children:e.jsx(de,{className:"h-6 w-6 text-primary"})})]})})]})]})}),e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(u,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-xl rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-green-500/5"}),e.jsx(g,{className:"p-6 relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Products"}),e.jsx("h3",{className:"text-2xl font-bold mt-2",children:l.totalProducts}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Avg ",l.totalCategories>0?Math.round(l.totalProducts/l.totalCategories):0," per category"]})]}),e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-emerald-500/10 to-green-500/10",children:e.jsx(De,{className:"h-6 w-6 text-emerald-500"})})]})})]})]})}),e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(u,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-xl rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/5 via-transparent to-purple-500/5"}),e.jsx(g,{className:"p-6 relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),e.jsx("h3",{className:"text-2xl font-bold mt-2",children:z(l.totalRevenue)}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["From ",l.totalOrders," orders"]})]}),e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-violet-500/10 to-purple-500/10",children:e.jsx(Ye,{className:"h-6 w-6 text-violet-500"})})]})})]})]})}),e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(u,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-xl rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-transparent to-orange-500/5"}),e.jsx(g,{className:"p-6 relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Conversion"}),e.jsxs("h3",{className:"text-2xl font-bold mt-2",children:[l.avgConversionRate.toFixed(2),"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[l.totalViews," total views"]})]}),e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-amber-500/10 to-orange-500/10",children:e.jsx(Ke,{className:"h-6 w-6 text-amber-500"})})]})})]})]})})]}),l.attentionCategories>0&&e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/5 via-orange-500/5 to-amber-500/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(u,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500/10 via-orange-500/5 to-amber-500/10 backdrop-blur-2xl shadow-xl rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-transparent to-orange-500/5"}),e.jsx(g,{className:"p-6 relative z-10",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-amber-500/20 to-orange-500/20",children:e.jsx(We,{className:"h-6 w-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-amber-800",children:"Attention Required"}),e.jsxs("p",{className:"text-sm text-amber-700/80 mt-1",children:[l.attentionCategories," categories need immediate attention"]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[n.filter(t=>t.status==="inactive"||t.conversionRate<1||t.productCount===0).slice(0,3).map(t=>e.jsxs(p,{variant:"outline",className:"bg-white/80 border-amber-500/30 text-amber-700",children:[e.jsx("span",{className:"font-medium",children:t.name}),e.jsx("span",{className:"ml-2 text-xs opacity-75",children:t.status==="inactive"?"Inactive":t.productCount===0?"No Products":`${t.conversionRate.toFixed(2)}% conversion`})]},`${t.id}-attention`)),l.attentionCategories>3&&e.jsxs(p,{className:"bg-amber-500/20 text-amber-700 border-amber-500/30",children:["+",l.attentionCategories-3," more"]})]})]})]}),k&&e.jsxs(c,{onClick:je,className:"gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 shadow-lg shadow-amber-500/20",children:[e.jsx(Xe,{className:"h-4 w-4"}),"Activate All"]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(u,{className:"lg:col-span-2 border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-xl rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsxs(ee,{className:"relative z-10",children:[e.jsxs(te,{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5 text-amber-500"}),e.jsx("span",{children:"Top Performing Categories"})]}),e.jsx(re,{children:"Highest revenue generating categories"})]}),e.jsx(g,{className:"relative z-10",children:e.jsx("div",{className:"space-y-4",children:l.topPerforming.map((t,r)=>{const i=l.totalRevenue>0?t.totalRevenue/l.totalRevenue*100:0;return e.jsxs(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:"flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-white/20 via-white/10 to-white/20 backdrop-blur-xl border border-white/20 hover:border-primary/30 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 text-primary font-bold",children:r+1}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden border-2 border-white/20",children:e.jsx("img",{src:O(t),alt:t.name,className:"w-full h-full object-cover",onError:a=>{a.currentTarget.src="/placeholder-category.jpg"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(p,{className:"bg-white/20 border-white/30 text-xs",children:[t.productCount," products"]}),e.jsx(p,{className:b("text-xs",I(t.status)),children:t.status})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:b("font-bold text-lg",H(t.totalRevenue)),children:z(t.totalRevenue)}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t.orders_count," orders • ",t.views," views"]}),e.jsxs("div",{className:"w-32 mt-2",children:[e.jsx(ae,{value:i,className:"h-1.5 bg-white/20 [&>div]:bg-gradient-to-r [&>div]:from-primary [&>div]:to-accent"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1 text-right",children:[i.toFixed(1),"% of total"]})]})]})]},`${t.id}-top-${r}`)})})})]}),e.jsxs(u,{className:"border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-xl rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsxs(ee,{className:"relative z-10",children:[e.jsx(te,{children:"Filters & Actions"}),e.jsx(re,{children:"Customize your view and actions"})]}),e.jsxs(g,{className:"relative z-10 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"View Mode"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{variant:L==="grid"?"default":"outline",className:"flex-1 gap-2 rounded-xl border-white/30 bg-white/20 hover:bg-white/30",onClick:()=>q("grid"),children:[e.jsx(et,{className:"h-4 w-4"}),"Grid"]}),e.jsxs(c,{variant:L==="list"?"default":"outline",className:"flex-1 gap-2 rounded-xl border-white/30 bg-white/20 hover:bg-white/30",onClick:()=>q("list"),children:[e.jsx(tt,{className:"h-4 w-4"}),"List"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Filter by Status"}),e.jsxs(ie,{value:_,onValueChange:ge,children:[e.jsx(oe,{className:"rounded-xl border-white/30 bg-white/20",children:e.jsx(le,{placeholder:"Select status"})}),e.jsxs(ne,{className:"backdrop-blur-xl bg-white/30 border-white/20",children:[e.jsx(w,{value:"all",children:"All Status"}),e.jsx(w,{value:"active",children:"Active Only"}),e.jsx(w,{value:"inactive",children:"Inactive Only"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Sort By"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ie,{value:V,onValueChange:t=>ve(t),children:[e.jsx(oe,{className:"rounded-xl border-white/30 bg-white/20",children:e.jsx(le,{placeholder:"Sort by"})}),e.jsxs(ne,{className:"backdrop-blur-xl bg-white/30 border-white/20",children:[e.jsx(w,{value:"revenue",children:"Revenue"}),e.jsx(w,{value:"products",children:"Product Count"}),e.jsx(w,{value:"conversion",children:"Conversion Rate"}),e.jsx(w,{value:"name",children:"Name"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:A==="desc"?"default":"outline",className:"flex-1 rounded-xl border-white/30 bg-white/20 hover:bg-white/30",onClick:()=>U("desc"),children:"Descending"}),e.jsx(c,{variant:A==="asc"?"default":"outline",className:"flex-1 rounded-xl border-white/30 bg-white/20 hover:bg-white/30",onClick:()=>U("asc"),children:"Ascending"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Quick Actions"}),e.jsx("div",{className:"space-y-2",children:R&&e.jsxs(c,{variant:"outline",className:"w-full justify-start gap-2 rounded-xl border-white/30 bg-white/20 hover:bg-white/30",onClick:B,children:[e.jsx(Q,{className:"h-4 w-4"}),"Add New Category"]})})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative flex items-center gap-4 p-4 rounded-2xl bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl border border-white/20",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Fe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Pe,{placeholder:"Search categories by name, description, or slug...",value:y,onChange:t=>he(t.target.value),className:"pl-9 rounded-xl border-white/30 bg-white/20 backdrop-blur-xl"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[T.length," categories found"]})]})]}),L==="grid"?e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:T.map((t,r)=>e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},className:"group relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(u,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-xl rounded-2xl group-hover:shadow-2xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[e.jsx("img",{src:O(t),alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:i=>{i.currentTarget.src="/placeholder-category.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(p,{className:b("backdrop-blur-sm",I(t.status)),children:t.status})})]}),e.jsxs(g,{className:"p-5 relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",t.slug]})]}),e.jsxs(Le,{children:[e.jsx(Ee,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg bg-white/20 hover:bg-white/30",children:e.jsx(rt,{className:"h-4 w-4"})})}),e.jsxs(Me,{align:"end",className:"backdrop-blur-xl bg-white/30 border-white/20",children:[P&&e.jsxs(F,{onClick:()=>W(t),children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"Edit Category"]}),e.jsxs(F,{onClick:()=>pe(t.id,t.slug),children:[e.jsx(st,{className:"h-4 w-4 mr-2"}),"View Category"]}),k&&e.jsxs(F,{onClick:()=>K(t.id),children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Toggle Status"]}),C&&e.jsxs(e.Fragment,{children:[e.jsx(Ve,{className:"bg-white/20"}),e.jsxs(F,{onClick:()=>Y(t),className:"text-rose-600 focus:text-rose-700",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Delete Category"]})]})]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:t.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-sm",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Products"}),e.jsx("p",{className:"font-semibold",children:t.productCount})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-sm",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"}),e.jsx("p",{className:b("font-semibold",H(t.totalRevenue)),children:z(t.totalRevenue)})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-sm",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders"}),e.jsx("p",{className:"font-semibold",children:t.orders_count})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-sm",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversion"}),e.jsxs("p",{className:b("font-semibold",X(t.conversionRate)),children:[t.conversionRate.toFixed(2),"%"]})]})]})]})]})]},`${t.id}-grid`))}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(u,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-xl rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsx(g,{className:"p-6 relative z-10",children:e.jsx("div",{className:"rounded-xl overflow-hidden border border-white/20",children:e.jsxs($e,{children:[e.jsx(Oe,{children:e.jsxs(se,{className:"border-white/20 hover:bg-transparent",children:[e.jsx(j,{className:"text-muted-foreground",children:"Category"}),e.jsx(j,{className:"text-muted-foreground",children:"Status"}),e.jsx(j,{className:"text-muted-foreground text-right",children:"Products"}),e.jsx(j,{className:"text-muted-foreground text-right",children:"Revenue"}),e.jsx(j,{className:"text-muted-foreground text-right",children:"Orders"}),e.jsx(j,{className:"text-muted-foreground text-right",children:"Views"}),e.jsx(j,{className:"text-muted-foreground text-right",children:"Conversion"}),e.jsx(j,{className:"text-muted-foreground text-right",children:"Actions"})]})}),e.jsx(Be,{children:T.map(t=>e.jsxs(se,{className:"border-white/20 hover:bg-white/5",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden border-2 border-white/20",children:e.jsx("img",{src:O(t),alt:t.name,className:"w-full h-full object-cover",onError:r=>{r.currentTarget.src="/placeholder-category.jpg"}})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["/",t.slug]})]})]})}),e.jsx(f,{children:e.jsx(p,{className:b("min-w-[70px]",I(t.status)),children:t.status})}),e.jsx(f,{className:"text-right font-medium",children:t.productCount}),e.jsx(f,{className:"text-right",children:e.jsx("p",{className:b("font-medium",H(t.totalRevenue)),children:z(t.totalRevenue)})}),e.jsx(f,{className:"text-right font-medium",children:t.orders_count}),e.jsx(f,{className:"text-right text-muted-foreground",children:t.views}),e.jsx(f,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(ae,{value:t.conversionRate,className:"h-1.5 w-20 bg-white/20 [&>div]:bg-gradient-to-r [&>div]:from-primary [&>div]:to-accent"}),e.jsxs("span",{className:b("text-xs font-medium min-w-[50px]",X(t.conversionRate)),children:[t.conversionRate.toFixed(2),"%"]})]})}),e.jsx(f,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[P&&e.jsx(c,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg bg-white/20 hover:bg-white/30",onClick:()=>W(t),children:e.jsx(ce,{className:"h-4 w-4"})}),k&&e.jsx(c,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg bg-white/20 hover:bg-white/30",onClick:()=>K(t.id),children:e.jsx(G,{className:"h-4 w-4"})}),C&&e.jsx(c,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg bg-rose-500/20 hover:bg-rose-500/30 text-rose-600",onClick:()=>Y(t),children:e.jsx(me,{className:"h-4 w-4"})})]})})]},`${t.id}-list`))})]})})})]})]}),T.length===0&&e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs(u,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-white/15 via-white/10 to-white/15 backdrop-blur-2xl shadow-xl rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),e.jsxs(g,{className:"p-12 text-center relative z-10",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:e.jsx(de,{className:"h-10 w-10 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No categories found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:y?"Try adjusting your search query":"Start by adding your first category"}),R&&e.jsxs(c,{onClick:B,className:"gap-2 rounded-xl bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 shadow-lg shadow-primary/20",children:[e.jsx(Q,{className:"h-4 w-4"}),"Add Your First Category"]})]})]})]})]}),C&&e.jsx(He,{open:ue,onOpenChange:E,children:e.jsxs(Ie,{className:"border-0 bg-gradient-to-br from-white/30 via-white/20 to-white/30 backdrop-blur-3xl rounded-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-primary/20 via-transparent to-transparent"}),e.jsxs(Ge,{className:"relative z-10",children:[e.jsx(Qe,{children:"Delete Category"}),e.jsxs(qe,{className:"text-muted-foreground",children:['Are you sure you want to delete "',m==null?void 0:m.name,'"? This action cannot be undone.',(m==null?void 0:m.productCount)>0&&e.jsxs("span",{className:"block mt-2 text-amber-600 font-medium",children:["⚠️ ",m.productCount," products will be affected and need to be reassigned."]})]})]}),e.jsxs(Ze,{className:"relative z-10",children:[e.jsx(Je,{className:"rounded-xl border-white/30 bg-white/20 hover:bg-white/30 backdrop-blur-xl",children:"Cancel"}),e.jsx(Ue,{onClick:be,className:"rounded-xl bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 shadow-lg shadow-rose-500/20",children:"Delete Category"})]})]})})]})};export{Rt as default};
