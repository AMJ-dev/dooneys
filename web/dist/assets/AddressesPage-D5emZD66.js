import{p as U,r as d,h as g,a6 as r,j as e,m as T,M as P,B as l,w as y,v as x,N as W,P as G,J as L,D as K,y as E,af as Q}from"./index-DrzvgQSx.js";import{L as c}from"./label-D6nqg-AK.js";import{C as p,d as f}from"./card-CSdj4VlM.js";import{D as X,e as Z,a as $,b as ee,c as se}from"./dialog-B_H0D0bM.js";import{A as ae,a as re,b as te,c as le,d as ie,e as de,f as ce,g as ne,h as oe}from"./alert-dialog-DhLhMJxG.js";import{S as H}from"./separator-DpYAwveS.js";import{T as me,a as xe,b as he}from"./tabs-kkrfGa6s.js";import{S as ue}from"./sparkle-Ct9pGhZK.js";import{P as z}from"./plus-CdXz1Jo6.js";import{L as B}from"./loader-circle-oXQTLidO.js";import{S as I}from"./square-pen-BAbl0GsK.js";import{T as pe}from"./trash-2-DF_8SWob.js";import{A as fe}from"./award-CbtTaFep.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=U("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Te=()=>{const[n,b]=d.useState([]),[M,h]=d.useState(!1),[j,v]=d.useState(null),[O,w]=d.useState(!0),[t,u]=d.useState({label:"Home",name:"",street_address:"",city:"",province:"",postal_code:"",mobile_number:"",is_default:!1}),[A,_]=d.useState(!1),[C,D]=d.useState(null);d.useEffect(()=>{N()},[]);const N=async()=>{try{w(!0);const a=(await g.get("/get-addresses/")).data;if(!a.error&&a.data){b(a.data);return}r.error(a.data||"Failed to load addresses")}catch(s){console.error("Error fetching addresses:",s),r.error("Failed to load addresses")}finally{w(!1)}},S=async s=>{try{const i=(await g.post("/make-default-address/",{id:s})).data;if(!i.error&&i.data){r.success("Default address updated"),N();return}r.error("Failed to set default address")}catch(a){console.error("Error setting default address:",a),r.error("Failed to set default address")}},Y=async()=>{_(!0);try{const s=j?"/update-address/":"/save-address/",a=j?{...t,id:j.id}:t,m=(await g.post(s,a)).data;if(!m.error&&m.data){r.success("Address saved"),N(),h(!1),k();return}r.error("Failed to save address")}catch(s){console.error("Error saving address:",s),r.error("Failed to save address")}finally{_(!1)}},V=async s=>{try{const i=(await g.post("/delete-address/",{id:s})).data;if(!i.error&&i.data){r.success("Address deleted"),b(m=>m.filter(R=>Number(R.id)!==s)),D(null);return}r.error("Failed to delete address")}catch(a){console.error("Error deleting address:",a),r.error("Failed to delete address")}},k=()=>{u({label:"Home",name:"",street_address:"",city:"",province:"",postal_code:"",mobile_number:"",is_default:!1}),v(null)},F=s=>{v(s),u({label:s.label||"Home",name:s.name||"",street_address:s.street_address||"",city:s.city||"",province:s.province||"",postal_code:s.postal_code||"",mobile_number:s.mobile_number||"",is_default:s.is_default||!1}),h(!0)},o=s=>{const{name:a,value:i}=s.target;u(m=>({...m,[a]:i}))},q=s=>{switch(s.toLowerCase()){case"home":return e.jsx(Q,{className:"h-5 w-5"});case"work":return e.jsx(je,{className:"h-5 w-5"});default:return e.jsx(P,{className:"h-5 w-5"})}},J=s=>{switch(s.toLowerCase()){case"home":return"bg-primary/10 text-primary border-primary/20";case"work":return"bg-secondary/10 text-secondary border-secondary/20";default:return"bg-accent/10 text-accent border-accent/20"}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"mb-10 text-center",children:[e.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"inline-flex items-center justify-center gap-3 mb-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-primary/10 to-accent/10 flex items-center justify-center",children:e.jsx(P,{className:"h-6 w-6 text-primary"})}),e.jsxs("h1",{className:"font-display text-4xl md:text-5xl font-bold",children:["My ",e.jsx("span",{className:"text-gradient",children:"Addresses"})]})]}),e.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Manage your delivery addresses for seamless beauty experiences"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsx(p,{className:"border-0 shadow-soft bg-white/50 backdrop-blur-sm",children:e.jsx(f,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-display text-xl font-semibold",children:"Add Address"}),e.jsx(ue,{className:"h-5 w-5 text-primary"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Add a new delivery address for your beauty essentials"}),e.jsxs(X,{open:M,onOpenChange:s=>{h(s),s||k()},children:[e.jsx(Z,{asChild:!0,children:e.jsxs(l,{className:"w-full h-12 bg-gradient-to-r from-primary to-accent hover:shadow-lg transition-all duration-300",children:[e.jsx(z,{className:"h-5 w-5 mr-2"}),"New Address"]})}),e.jsxs($,{className:"sm:max-w-md border-0 shadow-2xl",children:[e.jsx(ee,{children:e.jsx(se,{className:"font-display text-2xl",children:j?"Edit Address":"Add Address"})}),e.jsxs("div",{className:"space-y-5 py-4",children:[e.jsxs("div",{children:[e.jsx(c,{className:"mb-2 block",children:"Label"}),e.jsx(me,{defaultValue:t.label,className:"w-full",children:e.jsx(xe,{className:"grid grid-cols-3",children:["Home","Work","Other"].map(s=>e.jsx(he,{value:s,onClick:()=>u(a=>({...a,label:s})),className:y("data-[state=active]:bg-primary data-[state=active]:text-white"),children:s},s))})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Full Name"}),e.jsx(x,{name:"name",value:t.name,onChange:o,placeholder:"Your full name",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Street Address"}),e.jsx(x,{name:"street_address",value:t.street_address,onChange:o,placeholder:"Street name and number",className:"h-11"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"City"}),e.jsx(x,{name:"city",value:t.city,onChange:o,placeholder:"City",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Province"}),e.jsx(x,{name:"province",value:t.province,onChange:o,placeholder:"Province",className:"h-11"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Postal Code"}),e.jsx(x,{name:"postal_code",value:t.postal_code,onChange:o,placeholder:"Postal code",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Phone"}),e.jsx(x,{name:"mobile_number",value:t.mobile_number,onChange:o,placeholder:"Phone number",className:"h-11"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx("input",{type:"checkbox",id:"is_default",checked:t.is_default,onChange:s=>u(a=>({...a,is_default:s.target.checked})),className:"h-4 w-4 text-primary rounded"}),e.jsx(c,{htmlFor:"is_default",className:"text-sm",children:"Set as default address"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(l,{className:"flex-1 bg-gradient-to-r from-primary to-accent",onClick:Y,disabled:A,children:A?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Address"}),e.jsx(l,{variant:"outline",onClick:()=>h(!1),children:"Cancel"})]})]})]})]})]})})}),e.jsx(p,{className:"border-0 shadow-soft bg-gradient-to-br from-primary/5 to-accent/5",children:e.jsxs(f,{className:"p-6",children:[e.jsx("h4",{className:"font-display text-lg font-semibold mb-4",children:"Your Addresses"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total addresses"}),e.jsx("span",{className:"font-semibold",children:n.length})]}),e.jsx(H,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Default address"}),e.jsx("span",{className:"font-semibold text-primary",children:n.find(s=>s.is_default)?"âœ“ Set":"Not set"})]}),e.jsx(H,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Security"}),e.jsx(W,{className:"h-5 w-5 text-primary"})]})]})]})})]}),e.jsxs("div",{className:"lg:col-span-2",children:[O?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(B,{className:"h-12 w-12 text-primary animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading addresses..."})]})}):n.length===0?e.jsx(p,{className:"border-0 shadow-soft bg-white/50 backdrop-blur-sm",children:e.jsxs(f,{className:"py-16 text-center",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:e.jsx(G,{className:"h-10 w-10 text-primary"})}),e.jsx("h3",{className:"font-display text-2xl font-semibold mb-2",children:"No addresses yet"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-sm mx-auto",children:"Add your first address to start receiving your beauty essentials"}),e.jsxs(l,{onClick:()=>h(!0),className:"bg-gradient-to-r from-primary to-accent",children:[e.jsx(z,{className:"h-5 w-5 mr-2"}),"Add First Address"]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-display text-2xl font-semibold",children:"Saved Addresses"}),e.jsxs(L,{variant:"outline",className:"border-primary/30 text-primary",children:[n.length," addresses"]})]}),e.jsx(K,{children:e.jsx("div",{className:"space-y-4",children:n.map((s,a)=>e.jsx(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.1},children:e.jsx(p,{className:y("border hover:border-primary/30 transition-all duration-300 group",s.is_default&&"border-primary/50 shadow-soft"),children:e.jsx(f,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:y("h-12 w-12 rounded-lg flex items-center justify-center",J(s.label)),children:q(s.label)}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"font-display text-lg font-semibold",children:s.label}),s.is_default&&e.jsxs(L,{className:"bg-gradient-to-r from-primary to-accent text-white",children:[e.jsx(E,{className:"h-3 w-3 mr-1 fill-white"}),"Default"]})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsx("p",{className:"text-foreground font-medium",children:s.name}),e.jsx("p",{className:"text-muted-foreground",children:s.street_address}),e.jsxs("p",{className:"text-muted-foreground",children:[s.city,", ",s.province," ",s.postal_code]}),s.mobile_number&&e.jsx("p",{className:"text-muted-foreground",children:s.mobile_number})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[!s.is_default&&e.jsxs(e.Fragment,{children:[e.jsx(l,{variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-primary/10",onClick:()=>F(s),children:e.jsx(I,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-primary/10",onClick:()=>S(s.id),children:e.jsx(E,{className:"h-4 w-4"})}),e.jsxs(ae,{children:[e.jsx(re,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-destructive/10 text-destructive",onClick:()=>D(s.id),children:e.jsx(pe,{className:"h-4 w-4"})})}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsx(ie,{children:"Delete Address"}),e.jsx(de,{children:"Are you sure you want to delete this address?"})]}),e.jsxs(ce,{children:[e.jsx(ne,{children:"Cancel"}),e.jsx(oe,{className:"bg-destructive text-destructive-foreground",onClick:()=>C&&V(C),children:"Delete"})]})]})]})]}),s.is_default&&e.jsx(l,{variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-primary/10",onClick:()=>F(s),children:e.jsx(I,{className:"h-4 w-4"})})]}),!s.is_default&&e.jsx(l,{variant:"outline",size:"sm",className:"h-8 text-xs",onClick:()=>S(s.id),children:"Set as default"})]})]})})})},s.id))})})]}),n.length>0&&e.jsx(p,{className:"mt-8 border-0 shadow-soft bg-gradient-to-br from-muted/30 to-background",children:e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(fe,{className:"h-6 w-6 text-primary"}),e.jsx("h4",{className:"font-display text-lg font-semibold",children:"Address Tips"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:"Default Address"}),e.jsx("p",{className:"text-muted-foreground",children:"Set one address as default for faster checkout"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:"Clear Labels"}),e.jsx("p",{className:"text-muted-foreground",children:"Use descriptive labels for easy identification"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:"Secure Storage"}),e.jsx("p",{className:"text-muted-foreground",children:"Your addresses are encrypted and secure"})]})]})]})})]})]})]})})};export{Te as default};
