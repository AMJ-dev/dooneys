import{aN as as,F as rs,r as l,h as $,a6 as c,j as e,m as o,G as ts,B as f,N as A,aG as Z,aH as q,d as X,aI as Y,u as is,v as ns,t as K,J as R,at as ls,au as os,av as cs,ay as F,ax as ds,k as ms,a5 as hs,w as W,f as xs,P as us,be as ps,z as gs}from"./index-DrzvgQSx.js";import{T as fs,a as bs,b as js,c as S,d as vs,e as D}from"./table-kDEzH9s1.js";import{S as ge,a as fe,b as be,c as je,d as k}from"./select-CeCrIOLN.js";import{D as ve,a as Ne,b as ye,c as we,d as Ns,f as ys}from"./dialog-B_H0D0bM.js";import{A as Ce,a as ws,b as Ae,c as Se,d as De,e as ke,f as _e,g as Te,h as Le}from"./alert-dialog-DhLhMJxG.js";import{C as M,d as ee,a as $e,b as Re,c as Fe}from"./card-CSdj4VlM.js";import{S as Cs}from"./separator-DpYAwveS.js";import{U as H}from"./users-BACZCDYD.js";import{R as As}from"./refresh-cw-B2nHbzn8.js";import{U as Ie}from"./user-plus-BL4YVw3o.js";import{A as He}from"./activity-DJVKk8hN.js";import{T as Ss}from"./triangle-alert-BegDlvxd.js";import{Z as Ds}from"./zap-BFNduXU6.js";import{C as se}from"./chevron-up-DEDQgLDp.js";import{E as ks}from"./ellipsis-CiWrXJQx.js";import{E as Be}from"./eye-DtInb1xn.js";import{L as ae}from"./loader-circle-oXQTLidO.js";import{U as _s}from"./user-check-B5JIGFEE.js";import{U as Ts}from"./user-x-CMsmebXw.js";import{A as Oe}from"./arrow-right-left-CFdBtpqk.js";import{T as Ue}from"./trash-2-DF_8SWob.js";import{C as Ls}from"./calendar-Bh2qMya8.js";import{C as Ee}from"./clock-B9_Mht4K.js";import{B as $s}from"./brush-BkfBQ-si.js";import{B as Rs}from"./ban-CoTCs6VJ.js";import{C as Fs}from"./circle-check-big-Cc93Cm_Q.js";import"./index-BdQq_4o_.js";import"./index-DDpYfoMH.js";const da=()=>{const{delete_staff:re,edit_staff:Is,view_staff:Ve,activate_deactivate_staff:te,add_staff:ie,staff_to_customer:B,assign_roles:O}=as(["delete_staff","edit_staff","view_staff","activate_deactivate_staff","add_staff","staff_to_customer","assign_roles"]),ne=rs(),[h,Pe]=l.useState([]),[ze,le]=l.useState(!0),[g,oe]=l.useState(""),[b,ce]=l.useState("all"),[j,de]=l.useState("all"),[x,U]=l.useState("lastActive"),[u,v]=l.useState("desc"),[Ge,me]=l.useState(!1),[Je,I]=l.useState(!1),[Qe,E]=l.useState(!1),[r,V]=l.useState(null),[_,he]=l.useState(""),[N,Ze]=l.useState([]),[y,p]=l.useState(null);l.useEffect(()=>{if(!Ve){l.startTransition(()=>ne("/unauthorized"));return}w()},[]);const w=async()=>{try{le(!0);const a=(await $.get("/get-staffs/")).data;if(!a.error&&a.data){a.data.users&&Pe(a.data.users),a.data.access_levels&&Ze(a.data.access_levels);return}c.error(a.data||"Error fetching staff")}catch{c.error("Error fetching staff")}finally{le(!1)}},d=l.useMemo(()=>{const s=h.length,a=h.filter(m=>m.status==="active").length,i=h.filter(m=>m.status==="inactive").length,t=h.filter(m=>m.status==="suspended").length,n=new Date;n.setDate(n.getDate()-7);const L=h.filter(m=>new Date(m.lastActive)>=n).length,Q=new Date;Q.setDate(Q.getDate()-30);const We=h.filter(m=>new Date(m.joinDate)>=Q).length,Me=i+t,es=[...h].sort((m,ss)=>new Date(ss.lastActive).getTime()-new Date(m.lastActive).getTime()).slice(0,5);return{totalStaff:s,activeStaff:a,inactiveStaff:i,suspendedStaff:t,activeLast7Days:L,newStaffLastMonth:We,staffNeedingAttention:Me,topActiveStaff:es}},[h]),xe=l.useMemo(()=>{let s=h.filter(a=>{const i=a.name.toLowerCase().includes(g.toLowerCase())||a.email.toLowerCase().includes(g.toLowerCase())||a.phone.includes(g),t=b==="all"||a.status===b,n=j==="all"||a.accessLevel===j;return i&&t&&n});return s.sort((a,i)=>{let t,n;switch(x){case"name":t=a.name.toLowerCase(),n=i.name.toLowerCase();break;case"lastActive":t=new Date(a.lastActive).getTime(),n=new Date(i.lastActive).getTime();break;case"joinDate":t=new Date(a.joinDate).getTime(),n=new Date(i.joinDate).getTime();break;default:return 0}return u==="asc"?t>n?1:-1:t<n?1:-1}),s},[h,g,b,j,x,u]),C=s=>{const a=N.find(i=>i.id===s);return a?a.name:"Unknown Role"},ue=s=>{const a=[{gradient:"from-primary/20 via-primary/10 to-primary/20",border:"border-primary/30",text:"text-primary",bg:"bg-primary/10"},{gradient:"from-accent/20 via-accent/10 to-accent/20",border:"border-accent/30",text:"text-accent",bg:"bg-accent/10"},{gradient:"from-highlight/20 via-highlight/10 to-highlight/20",border:"border-highlight/30",text:"text-highlight",bg:"bg-highlight/10"},{gradient:"from-secondary/20 via-secondary/10 to-secondary/20",border:"border-secondary/30",text:"text-secondary",bg:"bg-secondary/10"}];return a[s%a.length]},P=s=>{switch(s.toLowerCase()){case"admin":return e.jsx(gs,{className:"h-4 w-4"});case"manager":return e.jsx(ps,{className:"h-4 w-4"});case"beauty advisor":return e.jsx($s,{className:"h-4 w-4"});case"inventory":return e.jsx(us,{className:"h-4 w-4"});case"customer service":return e.jsx(H,{className:"h-4 w-4"});case"marketing":return e.jsx(xs,{className:"h-4 w-4"});default:return e.jsx(A,{className:"h-4 w-4"})}},qe=async(s,a,i)=>{if(te)try{p(`status-${s}`);const t=a==="suspended"?"1":"2",L=(await $.post("/update-user-status/",{id:s,status:t})).data;if(!L.error&&L.data){c.success(`${i} has been ${t==="1"?"activated":"suspended"}`),w();return}c.error(L.data||"Failed to update user status")}catch{c.error("Failed to update user status")}finally{p(null)}},Xe=async(s,a)=>{if(re)try{p(`delete-${s}`);const t=(await $.post("/delete-user/",{id:s})).data;if(!t.error&&t.data){c.success(`${a}'s account has been deleted`),w();return}c.error(t.error||"Failed to delete user account")}catch{c.error("Failed to delete user account")}finally{p(null)}},Ye=async(s,a)=>{if(B)try{p(`convert-${s}`);const t=(await $.post("/convert-to-customer/",{id:s})).data;if(!t.error&&t.data){c.success(`${a} has been converted to customer account`),E(!1),w();return}c.error(t.error||"Failed to convert staff to customer")}catch{c.error("Failed to convert staff to customer")}finally{p(null)}},Ke=async()=>{if(O&&!(!r||!_))try{p(`assign-${r.id}`);const a=(await $.post("/assign-staff-access/",{access_level_id:_,staff_id:r.id})).data;if(!a.error&&a.data){c.success(`${r.name} has been assigned to ${C(_)}`),I(!1),w();return}c.error(a.data||"Failed to assign role")}catch{c.error("Failed to assign role")}finally{p(null)}},z=s=>{switch(s){case"active":return e.jsx(o.div,{initial:{scale:.9},animate:{scale:1},whileHover:{scale:1.05},children:e.jsxs(R,{className:"bg-gradient-to-r from-emerald-500/20 to-emerald-600/20 text-emerald-700 border-emerald-200/50 px-3 py-1.5 backdrop-blur-sm",children:[e.jsx(Fs,{className:"h-3 w-3 mr-1.5"}),"Active"]})});case"inactive":return e.jsx(o.div,{initial:{scale:.9},animate:{scale:1},whileHover:{scale:1.05},children:e.jsxs(R,{className:"bg-gradient-to-r from-gray-500/20 to-gray-600/20 text-gray-700 border-gray-200/50 px-3 py-1.5 backdrop-blur-sm",children:[e.jsx(Ee,{className:"h-3 w-3 mr-1.5"}),"Inactive"]})});case"suspended":return e.jsx(o.div,{initial:{scale:.9},animate:{scale:1},whileHover:{scale:1.05},children:e.jsxs(R,{className:"bg-gradient-to-r from-primary-500/20 to-primary-600/20 text-primary-700 border-primary-200/50 px-3 py-1.5 backdrop-blur-sm",children:[e.jsx(Rs,{className:"h-3 w-3 mr-1.5"}),"Suspended"]})});default:return null}},pe=()=>{ne("/admin/staff/new")},G=s=>s.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2),T=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),J=s=>{const a=new Date(s),t=new Date().getTime()-a.getTime(),n=Math.floor(t/(1e3*60*60*24));return n===0?"Today":n===1?"Yesterday":n<7?`${n} days ago`:n<30?`${Math.floor(n/7)} weeks ago`:`${Math.floor(n/30)} months ago`};return ze?e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-[600px] flex items-center justify-center bg-gradient-to-br from-background via-background/95 to-primary/5",children:e.jsxs("div",{className:"text-center space-y-8",children:[e.jsxs(o.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"relative mx-auto w-24 h-24",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/10 backdrop-blur-sm"}),e.jsx(o.div,{animate:{rotate:-360},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full border-4 border-t-transparent border-r-transparent border-primary border-b-accent/50"}),e.jsx(ts,{className:"absolute inset-1/2 w-8 h-8 -translate-x-1/2 -translate-y-1/2 text-primary/70"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-display text-2xl font-medium text-foreground/80",children:"Loading Beauty Staffs"}),e.jsx("p",{className:"text-muted-foreground/70 max-w-sm mx-auto",children:"Curating staff profiles with premium care..."})]})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs(o.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100},className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-background to-accent/5 p-6 backdrop-blur-sm border border-border/30 shadow-elevated",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-primary/10 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/10 to-accent/10 backdrop-blur-sm border border-primary/20",children:e.jsx(H,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold bg-gradient-to-r from-foreground to-foreground/80 bg-clip-text text-transparent",children:"Staff Management"}),e.jsx("p",{className:"text-muted-foreground/80",children:"Curate and manage your luxury beauty staff with precision"})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(f,{variant:"outline",className:"gap-2 backdrop-blur-sm border-border/50 hover:bg-primary/5 hover:border-primary/30 transition-all",onClick:w,children:[e.jsx(As,{className:"h-4 w-4"}),"Refresh"]}),ie&&e.jsx(o.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(f,{onClick:pe,className:"gap-2 bg-gradient-to-r from-primary via-primary/90 to-accent hover:from-primary hover:to-accent shadow-lg shadow-primary/20",children:[e.jsx(Ie,{className:"h-4 w-4"}),"Add Staff Member"]})})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Total Staff",value:d.totalStaff,description:`${d.activeStaff} active • ${d.newStaffLastMonth} new`,icon:e.jsx(H,{className:"h-5 w-5"}),gradient:"from-primary/10 via-primary/5 to-transparent",border:"border-primary/20",color:"text-primary"},{title:"Active Members",value:d.activeStaff,description:`${d.activeLast7Days} active in 7 days`,icon:e.jsx(He,{className:"h-5 w-5"}),gradient:"from-emerald-500/10 via-emerald-400/5 to-transparent",border:"border-emerald-200/30",color:"text-emerald-600"},{title:"Requires Attention",value:d.staffNeedingAttention,description:`${d.suspendedStaff} suspended • ${d.inactiveStaff} inactive`,icon:e.jsx(Ss,{className:"h-5 w-5"}),gradient:"from-amber-500/10 via-amber-400/5 to-transparent",border:"border-amber-200/30",color:"text-amber-600"},{title:"Access Levels",value:N.length,description:`${N.reduce((s,a)=>s+a.count,0)} assigned`,icon:e.jsx(A,{className:"h-5 w-5"}),gradient:"from-purple-500/10 via-purple-400/5 to-transparent",border:"border-purple-200/30",color:"text-purple-600"}].map((s,a)=>e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},whileHover:{y:-5,transition:{type:"spring",stiffness:300}},children:e.jsxs(M,{className:"border-0 bg-gradient-to-br backdrop-blur-sm shadow-card hover:shadow-elevated transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${s.gradient}`}),e.jsx(ee,{className:"relative p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s.title}),e.jsx("h3",{className:"text-3xl font-bold font-display",children:s.value}),e.jsx("p",{className:`text-sm ${s.color}`,children:s.description})]}),e.jsx("div",{className:`p-3 rounded-xl ${s.border} border bg-white/30 backdrop-blur-sm`,children:e.jsx("div",{className:s.color,children:s.icon})})]})})]})},s.title))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(M,{className:"lg:col-span-2 border-0 backdrop-blur-sm shadow-card",children:[e.jsx($e,{className:"border-b border-border/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-primary/10 to-accent/10",children:e.jsx(A,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(Re,{className:"font-display",children:"Access Level Distribution"}),e.jsx(Fe,{children:"Staff members categorized by permissions"})]})]})}),e.jsx(ee,{className:"p-6",children:e.jsx("div",{className:"space-y-5",children:N.map((s,a)=>{const i=ue(a),t=s.count,n=d.totalStaff>0?t/d.totalStaff*100:0;return e.jsx(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.1},whileHover:{x:5},className:"group relative overflow-hidden rounded-xl border bg-gradient-to-r from-background/50 to-background/30 p-5 backdrop-blur-sm transition-all hover:shadow-lg",style:{borderColor:i.border,background:`linear-gradient(to right, ${i.bg}, transparent)`},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-gradient-to-br from-white/80 to-white/60 shadow-sm",children:e.jsx("div",{className:i.text,children:P(s.name)})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold font-display",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t," staff members"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold font-display",children:[n.toFixed(0),"%"]}),e.jsx("div",{className:"w-40 mt-3",children:e.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx(o.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:1,delay:a*.1},className:`h-full rounded-full ${i.bg.replace("bg-","bg-gradient-to-r ")}`})})})]})]})},s.id)})})})]}),e.jsxs(M,{className:"border-0 backdrop-blur-sm shadow-card",children:[e.jsx($e,{className:"border-b border-border/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-accent/10 to-highlight/10",children:e.jsx(Ds,{className:"h-5 w-5 text-accent"})}),e.jsxs("div",{children:[e.jsx(Re,{className:"font-display",children:"Most Recently Active"}),e.jsx(Fe,{children:"Staff members with recent activity"})]})]})}),e.jsx(ee,{className:"p-6",children:e.jsx("div",{className:"space-y-5",children:d.topActiveStaff.map((s,a)=>e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},whileHover:{scale:1.02},className:"group flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-background/50 to-background/30 border border-border/30 hover:border-primary/30 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Z,{className:"h-12 w-12 border-2 border-background group-hover:border-primary/30 transition-all",children:[e.jsx(q,{src:X(s.pics)}),e.jsx(Y,{className:"bg-gradient-to-br from-primary/20 to-accent/20 font-semibold",children:G(s.name)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:C(s.accessLevel)})]})]}),e.jsxs("div",{className:"text-right space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:J(s.lastActive)}),z(s.status)]})]},s.id))})})]})]}),e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-b from-background/80 via-background/60 to-background/40 backdrop-blur-xl rounded-2xl border border-border/30 shadow-elevated overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-border/30",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-display text-xl mb-2",children:"Staff Directory"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage and curate your beauty staff with precision"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[e.jsxs("div",{className:"relative flex-1 min-w-[250px]",children:[e.jsx(is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ns,{placeholder:"Search by name, email or phone...",value:g,onChange:s=>oe(s.target.value),className:"pl-9 bg-white/50 backdrop-blur-sm border-border/50 focus:border-primary/50"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ge,{value:b,onValueChange:ce,children:[e.jsx(fe,{className:"w-[140px] bg-white/50 backdrop-blur-sm border-border/50",children:e.jsx(be,{placeholder:"Status"})}),e.jsxs(je,{className:"backdrop-blur-lg border-border/50",children:[e.jsx(k,{value:"all",children:"All Status"}),e.jsx(k,{value:"active",children:"Active"}),e.jsx(k,{value:"inactive",children:"Inactive"}),e.jsx(k,{value:"suspended",children:"Suspended"})]})]}),e.jsxs(ge,{value:j,onValueChange:de,children:[e.jsx(fe,{className:"w-[160px] bg-white/50 backdrop-blur-sm border-border/50",children:e.jsx(be,{placeholder:"Role"})}),e.jsxs(je,{className:"backdrop-blur-lg border-border/50",children:[e.jsx(k,{value:"all",children:"All Roles"}),N.map(s=>e.jsx(k,{value:s.id,children:s.name},s.id))]})]})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(fs,{children:[e.jsx(bs,{className:"bg-gradient-to-r from-primary/5 via-accent/5 to-transparent",children:e.jsxs(js,{className:"border-border/30 hover:bg-transparent",children:[e.jsx(S,{className:"font-semibold",children:e.jsxs("button",{className:"flex items-center gap-1 hover:text-primary transition-colors",onClick:()=>{x==="name"?v(u==="asc"?"desc":"asc"):(U("name"),v("asc"))},children:["Staff Member",x==="name"&&(u==="asc"?e.jsx(se,{className:"h-4 w-4"}):e.jsx(K,{className:"h-4 w-4"}))]})}),e.jsx(S,{className:"font-semibold",children:"Role"}),e.jsx(S,{className:"font-semibold text-center",children:e.jsxs("button",{className:"flex items-center gap-1 hover:text-primary transition-colors",onClick:()=>{x==="joinDate"?v(u==="asc"?"desc":"asc"):(U("joinDate"),v("desc"))},children:["Joined",x==="joinDate"&&(u==="asc"?e.jsx(se,{className:"h-4 w-4"}):e.jsx(K,{className:"h-4 w-4"}))]})}),e.jsx(S,{className:"font-semibold text-center",children:e.jsxs("button",{className:"flex items-center gap-1 hover:text-primary transition-colors",onClick:()=>{x==="lastActive"?v(u==="asc"?"desc":"asc"):(U("lastActive"),v("desc"))},children:["Last Active",x==="lastActive"&&(u==="asc"?e.jsx(se,{className:"h-4 w-4"}):e.jsx(K,{className:"h-4 w-4"}))]})}),e.jsx(S,{className:"font-semibold",children:"Status"}),e.jsx(S,{className:"font-semibold text-right",children:"Actions"})]})}),e.jsx(vs,{children:xe.map(s=>e.jsxs(o.tr,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"border-border/30 hover:bg-gradient-to-r hover:from-primary/5 hover:via-accent/5 hover:to-transparent transition-all",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Z,{className:"h-12 w-12 border-2 border-background",children:[e.jsx(q,{src:X(s.pics)}),e.jsx(Y,{className:"bg-gradient-to-br from-primary/20 to-accent/20 font-semibold",children:G(s.name)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.email})]})]})}),e.jsx(D,{children:e.jsxs(R,{variant:"outline",className:"border-border/30 bg-white/50 backdrop-blur-sm",children:[P(C(s.accessLevel)),e.jsx("span",{className:"ml-1.5",children:C(s.accessLevel)})]})}),e.jsx(D,{className:"text-center",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium",children:T(s.joinDate)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:J(s.joinDate)})]})}),e.jsx(D,{className:"text-center",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium",children:T(s.lastActive)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:J(s.lastActive)})]})}),e.jsx(D,{children:z(s.status)}),e.jsx(D,{className:"text-right",children:e.jsxs(ls,{children:[e.jsx(os,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-primary/10",children:e.jsx(ks,{className:"h-4 w-4"})})}),e.jsxs(cs,{align:"end",className:"backdrop-blur-lg border-border/50 w-56",onCloseAutoFocus:a=>a.preventDefault(),children:[e.jsxs(F,{onClick:()=>{V(s),me(!0)},className:"cursor-pointer",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"View Details"]}),O&&e.jsxs(F,{onClick:()=>{V(s),he(s.accessLevel),I(!0)},className:"cursor-pointer",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Assign Role"]}),te&&e.jsxs(e.Fragment,{children:[e.jsx(ds,{}),e.jsxs(F,{onClick:()=>qe(s.id,s.status,s.name),disabled:y===`status-${s.id}`,className:"cursor-pointer text-red-600 focus:text-red-700 focus:bg-red-50",children:[y===`status-${s.id}`?e.jsx(ae,{className:"h-4 w-4 mr-2 animate-spin"}):s.status==="suspended"?e.jsx(_s,{className:"h-4 w-4 mr-2"}):e.jsx(Ts,{className:"h-4 w-4 mr-2"}),s.status==="suspended"?"Activate":"Suspend"]})]}),B&&e.jsxs(F,{onClick:()=>{V(s),E(!0)},className:"cursor-pointer bg-red-50 text-red-600 focus:text-red-700 focus:bg-red-50",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Convert to Customer"]}),re&&e.jsxs(Ce,{children:[e.jsx(ws,{asChild:!0,children:e.jsxs(F,{className:"cursor-pointer text-red-600 focus:text-red-700 focus:bg-red-50",onSelect:a=>a.preventDefault(),children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Delete Account"]})}),e.jsxs(Ae,{className:"backdrop-blur-lg border-border/50",onOpenAutoFocus:a=>a.preventDefault(),children:[e.jsxs(Se,{children:[e.jsxs(De,{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5 text-red-500"}),"Delete Staff Account"]}),e.jsxs(ke,{className:"text-muted-foreground",children:["Are you sure you want to delete ",e.jsx("span",{className:"font-semibold text-foreground",children:s.name}),"'s account? This action cannot be undone and will permanently remove all associated data."]})]}),e.jsxs(_e,{children:[e.jsx(Te,{className:"border-border/50",children:"Cancel"}),e.jsx(Le,{onClick:()=>Xe(s.id,s.name),className:"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600",children:"Delete Account"})]})]})]})]})]})})]},s.id))})]})}),xe.length===0&&e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[e.jsxs("div",{className:"w-24 h-24 mx-auto mb-6 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-accent/10 rounded-full blur-xl"}),e.jsx(H,{className:"relative w-24 h-24 text-muted-foreground/30"})]}),e.jsx("h3",{className:"font-display text-xl font-medium mb-3",children:"No staff members found"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-sm mx-auto",children:g||b!=="all"||j!=="all"?"Try adjusting your search or filter criteria.":"Start building your beauty staff by adding new members."}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[ie&&e.jsxs(f,{onClick:pe,className:"gap-2 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 shadow-lg shadow-primary/20",children:[e.jsx(Ie,{className:"h-4 w-4"}),"Add New Staff Member"]}),(g||b!=="all"||j!=="all")&&e.jsx(f,{variant:"outline",onClick:()=>{oe(""),ce("all"),de("all")},className:"border-border/50 hover:border-primary/30",children:"Clear Filters"})]})]})]}),e.jsx(ve,{open:Ge,onOpenChange:me,children:e.jsxs(Ne,{className:"backdrop-blur-lg border-border/50 max-w-2xl",children:[e.jsx(ye,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5 text-primary"}),"Staff Member Details"]})}),r&&e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(Z,{className:"h-24 w-24 border-4 border-background shadow-lg",children:[e.jsx(q,{src:X(r.pics)}),e.jsx(Y,{className:"bg-gradient-to-br from-primary/20 to-accent/20 text-3xl",children:G(r.name)})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-display text-2xl font-semibold",children:r.name}),e.jsx("p",{className:"text-muted-foreground",children:r.email}),e.jsxs("div",{className:"flex items-center gap-3",children:[z(r.status),e.jsxs(R,{variant:"outline",className:"border-primary/30 bg-primary/10 text-primary",children:[e.jsx(A,{className:"h-3 w-3 mr-1.5"}),C(r.accessLevel)]})]})]})]}),e.jsx(Cs,{className:"bg-border/50"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-primary/5 to-transparent border border-primary/10",children:[e.jsx(ms,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:r.phone})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-accent/5 to-transparent border border-accent/10",children:[e.jsx(hs,{className:"h-4 w-4 text-accent"}),e.jsx("span",{className:"font-medium",children:r.email})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Role Information"}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-highlight/5 to-transparent border border-highlight/10",children:[e.jsx("p",{className:"font-medium",children:C(r.accessLevel)}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Access Level ID: ",r.accessLevel]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Activity Timeline"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-xl bg-gradient-to-r from-secondary/5 to-transparent border border-secondary/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"h-4 w-4 text-secondary"}),e.jsx("span",{children:"Joined Date"})]}),e.jsx("span",{className:"font-medium",children:T(r.joinDate)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-xl bg-gradient-to-r from-primary/5 to-transparent border border-primary/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(He,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Last Active"})]}),e.jsx("span",{className:"font-medium",children:T(r.lastActive)})]}),r.lastLogin&&e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-xl bg-gradient-to-r from-accent/5 to-transparent border border-accent/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{className:"h-4 w-4 text-accent"}),e.jsx("span",{children:"Last Login"})]}),e.jsx("span",{className:"font-medium",children:T(r.lastLogin)})]})]})]})})]})]})]})}),O&&e.jsx(ve,{open:Je,onOpenChange:I,children:e.jsxs(Ne,{className:"backdrop-blur-lg border-border/50 max-w-md",children:[e.jsxs(ye,{children:[e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-primary"}),"Assign Role"]}),e.jsxs(Ns,{children:["Select a new role for ",e.jsx("span",{className:"font-semibold text-foreground",children:r==null?void 0:r.name})]})]}),r&&e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsx("div",{className:"space-y-3",children:N.map((s,a)=>{const i=ue(a),t=_===s.id;return e.jsx(o.button,{onClick:()=>he(s.id),className:W("w-full p-4 rounded-xl border text-left transition-all duration-300 relative overflow-hidden group",t?"border-primary shadow-card-hover":"border-border/50 hover:border-primary/30 hover:shadow-soft",i.border),whileHover:{scale:1.01},whileTap:{scale:.99},style:{background:t?`linear-gradient(to right, ${i.bg.replace("bg-","").split("/")[0]}/20, transparent)`:"transparent"},children:e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:W("p-3 rounded-lg transition-all duration-300 shadow-sm flex items-center justify-center w-12 h-12",t?"bg-gradient-primary shadow-primary/30":"bg-white/80 shadow-border/30 group-hover:shadow-primary/20",i.bg),children:P(s.name)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:W("font-semibold",t?"text-primary":"text-foreground"),children:s.name}),t&&e.jsx(o.div,{initial:{scale:0},animate:{scale:1},className:"w-6 h-6 rounded-full bg-gradient-primary flex items-center justify-center shadow-md",children:e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[s.count," staff members"]})]})]})},s.id)})}),e.jsxs(ys,{className:"pt-4 border-t border-border/50",children:[e.jsx(f,{variant:"outline",onClick:()=>I(!1),className:"border-border/50",children:"Cancel"}),e.jsx(f,{onClick:Ke,disabled:!_||y===`assign-${r==null?void 0:r.id}`,className:"bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90",children:y===`assign-${r==null?void 0:r.id}`?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 mr-2 animate-spin"}),"Assigning..."]}):"Assign Role"})]})]})]})}),B&&e.jsx(Ce,{open:Qe,onOpenChange:E,children:e.jsxs(Ae,{className:"backdrop-blur-lg border-border/50 max-w-md",children:[e.jsxs(Se,{children:[e.jsxs(De,{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"h-5 w-5 text-primary-500"}),"Convert to Customer Account"]}),e.jsx(ke,{className:"text-muted-foreground",children:r&&e.jsxs(e.Fragment,{children:["Convert ",e.jsx("span",{className:"font-semibold text-foreground",children:r.name})," from a staff account to a customer account. This will:",e.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[e.jsx("li",{children:"Remove all administrative permissions"}),e.jsx("li",{children:"Preserve their account data and purchase history"}),e.jsx("li",{children:"Allow them to continue shopping as a regular customer"})]})]})})]}),e.jsxs(_e,{children:[e.jsx(Te,{className:"border-border/50",children:"Cancel"}),e.jsx(Le,{onClick:()=>r&&Ye(r.id,r.name),disabled:y===`convert-${r==null?void 0:r.id}`,className:"bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-700 hover:to-primary-600",children:y===`convert-${r==null?void 0:r.id}`?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 mr-2 animate-spin"}),"Converting..."]}):"Convert to Customer"})]})]})})]})};export{da as default};
